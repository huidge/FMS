<#include "../include/header.html">
<link rel="shortcut icon" href="http://fontawesome.io/assets/ico/favicon.ico">
  <link rel="stylesheet" href="http://fontawesome.io/assets/css/site.css">
  <link rel="stylesheet" href="http://fontawesome.io/assets/css/pygments.css">
  <link rel="stylesheet" href="http://fontawesome.io/assets/font-awesome/css/font-awesome.css">
<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>

<!-- <script src="https://www.google-analytics.com/ga.js"></script>
<script src="https://use.fonticons.com/ffe176a3.js"></script> -->
<!-- <link rel="stylesheet" href="https://use.fortawesome.com/kits/ffe176a3/publications/58932/woff2.css" media="all">
<script id="_carbonads_projs" type="text/javascript" src="//srv.carbonads.net/ads/C6AILKT.json?segment=placement:fontawesome&callback=_carbonads_go"></script>
<script id="_bsa_srv-CVADP2Y" type="text/javascript" src="http://inventory.fontawesome.io/api/inventory?zone=CVADP2Y&callback=_bsa_go&segment=placement%3Ademo"></script> -->

<body>
<script type="text/javascript">
    var viewModel = kendo.observable({
        model: {
        	evaluateId: '${RequestParameters.evaluateId!0}',
        	courseContent: '${RequestParameters.courseContent!}',
        	courseUsability: '${RequestParameters.courseUsability!}',
        	courseEnvironment: '${RequestParameters.courseEnvironment!}',
        	lecturerPresentation: '${RequestParameters.lecturerPresentation!}',
        	lecturerProfessional: '${RequestParameters.lecturerProfessional!}',
        	lecturerAppetency: '${RequestParameters.lecturerAppetency!}',
        	evaluateContent: '${RequestParameters.evaluateContent!}',
        },
        createFunction: function () {
            $('#Grid').data('kendoGrid').addRow();
        },
        saveFunction: function () {
            $('#Grid').data('kendoGrid').saveChanges();
        },
        queryResource: function (e) {
            $('#Grid').data('kendoGrid').dataSource.page(1);
        },
        returnFunction: function () {
        	//debugger;
        	window.parent.$("#classSetManageWin").data("kendoWindow").close();
        },
    });
console.log(viewModel.model);
		var evaluateId = viewModel.model.evaluateId;
		var courseContent = parseInt(viewModel.model.courseContent);
		var courseUsability = parseInt(viewModel.model.courseUsability);
		var courseEnvironment = parseInt(viewModel.model.courseEnvironment);
		var lecturerPresentation = parseInt(viewModel.model.lecturerPresentation);
		var lecturerProfessional = parseInt(viewModel.model.lecturerProfessional);
		var lecturerAppetency = parseInt(viewModel.model.lecturerAppetency);
		var evaluateContent = viewModel.model.evaluateContent;
</script>
<div id="page-content" style="margin: 10px">
	<div id="query-form" >
    		<form class="form-horizontal" ">
                    <div class="panel-body">
                    	  <div style="text-align: center"><font size="5" style="margin:auto"><b>课程评价</b></font></div>
                    	  <br> 
                    	  
                    	  <div class="col-xs-12" >
							<div class="col-xs-5" >
                                <div class="form-group" >
                                	<label class="col-xs-3 control-label"></font></label>
                                    <div class="col-xs-6" >
                                    <a style="margin-right:5px" href="javascript:void(0)" ><i class="fa fa-book fa-2x"  aria-hidden="true" ></i></a>
                                    <label 
                                           style="text-align: right"><font size="4" style="margin:auto"><b>课程评价</b></font></label>
                                    </div>
                                    <label class="col-xs-3 control-label" ></font></label>
                                </div>
                            </div>
                            <div class="col-xs-1" >
                            </div>
                            <div class="col-xs-5" >
                                <div class="form-group" >
                                	<label class="col-xs-3 control-label"></font></label>
                                    <div class="col-xs-6" >
                                    <a style="margin-right:5px" href="javascript:void(0)" ><i class="fa fa-user fa-2x"  aria-hidden="true" ></i></a>
                                    <label 
                                           style="text-align: right"><font size="4" style="margin:auto"><b>讲师评价</b></font></label>
                                    </div>
                                    <label class="col-xs-3 control-label" ></font></label>
                                </div>
                            </div>
                        </div>
                    	
                    	
                    	<div class="col-xs-12" >
							<div class="col-xs-5" >
                                <div class="form-group" >
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><font size="3" style="margin:auto">内容：</font></label>
                                    <div class="col-xs-6" >
								        <div id="content" style="text-align: center"></div>
                                    </div>
                                    <label class="col-xs-3 control-label" style="text-align: left"><font id="font" size="3"></font></label>
								       	<script type="text/javascript">                                      
								           var html = "";
								           //html += "<table cellspacing=1px color: #CCCCCC; style='border:0px'>" ;
								           for(var i=1;i<=courseContent;i++){
								       	        html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star fa-2x"  aria-hidden="true"></i></a></span>'
								       	 	}
								           if(courseContent!=5){
								        	   for(var i=1;i<=5-courseContent;i++){
								        	   html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star-o fa-2x" aria-hidden="true"></i></a></span>'
								        	   }
								            }
								           document.getElementById("content").innerHTML = html;
								           
								           if(courseContent==5){
								        	   document.getElementById("font").innerHTML="非常好"
								           }else if(courseContent==4){
								        	   document.getElementById("font").innerHTML="好"
								           }else if(courseContent==3){
								        	   document.getElementById("font").innerHTML="一般"
								           }else if(courseContent==2){
								        	   document.getElementById("font").innerHTML="差"
								           }else if(courseContent==1){
								        	   document.getElementById("font").innerHTML="非常差"
								           }
								       	</script>
                                </div>
                            </div>
                            <div class="col-xs-1" >
                            </div>
                            <div class="col-xs-6" >
                                <div class="form-group" >
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><font size="3" style="margin:auto">表达能力：</font></label>
                                    <div class="col-xs-6" >
								        <div id="content1" style="text-align: center"></div>
                                    </div>
                                    <label class="col-xs-3 control-label" style="text-align: left"><font id="font1" size="3"></font></label>
								       	<script type="text/javascript">                                      
								           var html = "";
								           //html += "<table cellspacing=1px color: #CCCCCC; style='border:0px'>" ;
								           for(var i=1;i<=lecturerPresentation;i++){
								       	        html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star fa-2x"  aria-hidden="true"></i></a></span>'
								       	 	}
								           if(courseContent!=5){
								        	   for(var i=1;i<=5-lecturerPresentation;i++){
								        	   html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star-o fa-2x" aria-hidden="true"></i></a></span>'
								        	   }
								            }
								           document.getElementById("content1").innerHTML = html;
								           
								           if(lecturerPresentation==5){
								        	   document.getElementById("font1").innerHTML="非常好"
								           }else if(lecturerPresentation==4){
								        	   document.getElementById("font1").innerHTML="好"
								           }else if(lecturerPresentation==3){
								        	   document.getElementById("font1").innerHTML="一般"
								           }else if(lecturerPresentation==2){
								        	   document.getElementById("font1").innerHTML="差"
								           }else if(lecturerPresentation==1){
								        	   document.getElementById("font1").innerHTML="非常差"
								           }
								       	</script>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-xs-12" >
							<div class="col-xs-5" >
                                <div class="form-group" >
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><font size="3" style="margin:auto">适用性：</font></label>
                                    <div class="col-xs-6" >
								        <div id="content2" style="text-align: center"></div>
                                    </div>
                                    <label class="col-xs-3 control-label" style="text-align: left"><font id="font2" size="3"></font></label>
								       	<script type="text/javascript">                                      
								           var html = "";
								           //html += "<table cellspacing=1px color: #CCCCCC; style='border:0px'>" ;
								           for(var i=1;i<=courseUsability;i++){
								       	        html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star fa-2x"  aria-hidden="true"></i></a></span>'
								       	 	}
								           if(courseUsability!=5){
								        	   for(var i=1;i<=5-courseUsability;i++){
								        	   html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star-o fa-2x" aria-hidden="true"></i></a></span>'
								        	   }
								            }
								           document.getElementById("content2").innerHTML = html;
								           
								           if(courseUsability==5){
								        	   document.getElementById("font2").innerHTML="非常好"
								           }else if(courseUsability==4){
								        	   document.getElementById("font2").innerHTML="好"
								           }else if(courseUsability==3){
								        	   document.getElementById("font2").innerHTML="一般"
								           }else if(courseUsability==2){
								        	   document.getElementById("font2").innerHTML="差"
								           }else if(courseUsability==1){
								        	   document.getElementById("font2").innerHTML="非常差"
								           }
								       	</script>
                                </div>
                            </div>
                            <div class="col-xs-1" >
                            </div>
                            <div class="col-xs-6" >
                                <div class="form-group" >
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><font size="3" style="margin:auto">专业度：</font></label>
                                    <div class="col-xs-6" >
								        <div id="content3" style="text-align: center"></div>
                                    </div>
                                    <label class="col-xs-3 control-label" style="text-align: left"><font id="font3" size="3"></font></label>
								       	<script type="text/javascript">                                      
								           var html = "";
								           //html += "<table cellspacing=1px color: #CCCCCC; style='border:0px'>" ;
								           for(var i=1;i<=lecturerProfessional;i++){
								       	        html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star fa-2x"  aria-hidden="true"></i></a></span>'
								       	 	}
								           if(lecturerProfessional!=5){
								        	   for(var i=1;i<=5-lecturerProfessional;i++){
								        	   html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star-o fa-2x" aria-hidden="true"></i></a></span>'
								        	   }
								            }
								           document.getElementById("content3").innerHTML = html;
								           
								           if(lecturerProfessional==5){
								        	   document.getElementById("font3").innerHTML="非常好"
								           }else if(lecturerProfessional==4){
								        	   document.getElementById("font3").innerHTML="好"
								           }else if(lecturerProfessional==3){
								        	   document.getElementById("font3").innerHTML="一般"
								           }else if(lecturerProfessional==2){
								        	   document.getElementById("font3").innerHTML="差"
								           }else if(lecturerProfessional==1){
								        	   document.getElementById("font3").innerHTML="非常差"
								           }
								       	</script>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-xs-12" >
							<div class="col-xs-5" >
                                <div class="form-group" >
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><font size="3" style="margin:auto">环境：</font></label>
                                    <div class="col-xs-6" >
								        <div id="content4" style="text-align: center"></div>
                                    </div>
                                    <label class="col-xs-3 control-label" style="text-align: left"><font id="font4" size="3"></font></label>
								       	<script type="text/javascript">                                      
								           var html = "";
								           //html += "<table cellspacing=1px color: #CCCCCC; style='border:0px'>" ;
								           for(var i=1;i<=courseEnvironment;i++){
								       	        html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star fa-2x"  aria-hidden="true"></i></a></span>'
								       	 	}
								           if(courseEnvironment!=5){
								        	   for(var i=1;i<=5-courseEnvironment;i++){
								        	   html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star-o fa-2x" aria-hidden="true"></i></a></span>'
								        	   }
								            }
								           document.getElementById("content4").innerHTML = html;
								           
								           if(courseEnvironment==5){
								        	   document.getElementById("font4").innerHTML="非常好"
								           }else if(courseEnvironment==4){
								        	   document.getElementById("font4").innerHTML="好"
								           }else if(courseEnvironment==3){
								        	   document.getElementById("font4").innerHTML="一般"
								           }else if(courseEnvironment==2){
								        	   document.getElementById("font4").innerHTML="差"
								           }else if(courseEnvironment==1){
								        	   document.getElementById("font4").innerHTML="非常差"
								           }
								       	</script>
                                </div>
                            </div>
                            <div class="col-xs-1" >
                            </div>
                            <div class="col-xs-6" >
                                <div class="form-group" >
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><font size="3" style="margin:auto">亲和力：</font></label>
                                    <div class="col-xs-6" >
								        <div id="content5" style="text-align: center"></div>
                                    </div>
                                    <label class="col-xs-3 control-label" style="text-align: left"><font id="font5" size="3"></font></label>
								       	<script type="text/javascript">                                      
								           var html = "";
								           //html += "<table cellspacing=1px color: #CCCCCC; style='border:0px'>" ;
								           for(var i=1;i<=lecturerAppetency;i++){
								       	        html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star fa-2x"  aria-hidden="true"></i></a></span>'
								       	 	}
								           if(lecturerAppetency!=5){
								        	   for(var i=1;i<=5-lecturerAppetency;i++){
								        	   html += '<span style="margin-right:5px;"><a href="javascript:void(0)"><i class="fa fa-star-o fa-2x" aria-hidden="true"></i></a></span>'
								        	   }
								            }
								           document.getElementById("content5").innerHTML = html;
								           
								           if(lecturerAppetency==5){
								        	   document.getElementById("font5").innerHTML="非常好"
								           }else if(lecturerAppetency==4){
								        	   document.getElementById("font5").innerHTML="好"
								           }else if(lecturerAppetency==3){
								        	   document.getElementById("font5").innerHTML="一般"
								           }else if(lecturerAppetency==2){
								        	   document.getElementById("font5").innerHTML="差"
								           }else if(lecturerAppetency==1){
								        	   document.getElementById("font5").innerHTML="非常差"
								           }
								       	</script>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12" style="margin-top: 20px">
                            <div class="form-group">	
                                <label class="col-sm-2 control-label"><font size="3" style="margin:auto">内容评价：</font></label>
                                <div class="col-sm-8">
                                     <textarea id="evaluateContent" type="text" style="width:100%;height:150px" 
                                               data-bind="value:model.evaluateContent" ></textarea> 
                                </div>
                                <div class="col-sm-2">   
                                    <span data-for="evaluateContent" class=".k-invalid-msg"></span>
                                </div>
                            </div>
                        </div>
                        <!-- <div style="text-align: center"><font size="5" style="margin:auto"><b>课程评价</b></font></div> -->
                        <div class="col-sm-12" style="text-align: center">
		                    <span class="btn btn-default" type="button" data-bind="click:returnFunction" style="text-align: center">
		                    	<i class="fa fa-reply" style="margin-right:3px;"></i>关闭</span>
		                </div>
                        
                    </div>
                </form>
             </div>
        <!-- <div style="clear:both">
	        <div id="Grid"></div>
	    </div> -->
    </div>
</div>
<div id="classSetManageWin"></div>

<script type="text/javascript">
	kendo.bind($('#page-content'), viewModel);
	
    var BaseUrl = _basePath;
    dataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: BaseUrl + "/fms/trn/course/evaluate/query",
                type: "POST",
                dataType: "json"
            },
            update: {
                url: BaseUrl + "/fms/trn/course/evaluate/submit",
                type: "POST",
                contentType: "application/json"
            },
            destroy: {
                url: BaseUrl + "/fms/trn/course/evaluate/remove",
                type: "POST",
                contentType: "application/json"
            },
            create: {
                url: BaseUrl + "/fms/trn/course/evaluate/submit",
                type: "POST",
                contentType: "application/json"
            },
            parameterMap: function (options, type) {
                if (type !== "read" && options.models) {
                    var datas = Hap.prepareSubmitParameter(options, type)
                    return kendo.stringify(datas);
                } else if (type === "read") {
                    return Hap.prepareQueryParameter(viewModel.model.toJSON(), options)
                }
            }
        },
        batch: true,
        serverPaging: true,
        pageSize: 10,
        schema: {
            data: 'rows',
            total: 'total',
            model: {
                id: "evaluateId",
                fields: {}
            }
        }
    });

     /* $("#Grid").kendoGrid({
        dataSource: dataSource,
        height: '100%',
        resizable: true,
        scrollable: true,
        navigatable: false,
        selectable: 'multiple, rowbox',
        pageable: {
            pageSizes: [5, 10, 20, 50],
            refresh: true,
            buttonCount: 5
        },
        columns: [
            {
                field: "evaluateId",
                title: '序号',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
            },
                    {
                field: "channelId",
                title: '渠道',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
            },
                    {
                field: "mobile",
                title: '手机',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
            },
            		{
                field: "courseEvaluate",
                title: '课程评价',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
            },
            		{
                field: "lecturerEvaluate",
                title: '讲师评价',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
            },
                     {
                field: "courseContent",
                title: '<@spring.message "TrnCourseEvaluate.courseContent"/>',
                width: 120
            },
                    {
                field: "courseUsability",
                title: '<@spring.message "TrnCourseEvaluate.courseUsability"/>',
                width: 120
            },
                    {
                field: "courseEnvironment",
                title: '<@spring.message "TrnCourseEvaluate.courseEnvironment"/>',
                width: 120
            },
                    {
                field: "lecturerPresentation",
                title: '<@spring.message "TrnCourseEvaluate.lecturerPresentation"/>',
                width: 120
            },
                    {
                field: "lecturerProfessional",
                title: '<@spring.message "TrnCourseEvaluate.lecturerProfessional"/>',
                width: 120
            },
                    {
                field: "lecturerAppetency",
                title: '<@spring.message "TrnCourseEvaluate.lecturerAppetency"/>',
                width: 120
            }, 
            		{
                field: "evaluateContent",
                title: '内容评价',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
            },
            		{
                field: "createDate",
                title: '评价时间',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
            },
            {
                title: '详细评价内容',
                 command: [{
                    name: "edit",
                    isEnable: function (data) {
                        if (data.status == "FREEZED") {
                            return false;
                        }
                        return true;
                    }
                }], 
                width: 170,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
                template : function (dataItem) {
                	if (dataItem.evaluateId) {
                			return '<a href="#" onclick="openClassSetManagerWin('+dataItem.evaluateId+')">查看详情</a>';
                	} else {
                		return '<a href="#"><@spring.message "prdclassset.operation"/></a>';
                	}
                }
            },
                     {
                field: "programId",
                title: '<@spring.message "TrnCourseEvaluate.programId"/>',
                width: 120
            },
                    {
                field: "requestId",
                title: '<@spring.message "TrnCourseEvaluate.requestId"/>',
                width: 120
            }, 
        ],
        editable: true
    }); 

    function deleteData() {

        Hap.deleteGridSelection({
            grid: $('#Grid')
        });

    }
	
    Hap.autoResizeGrid("#Grid"); */

    
    
</script>
</body>
</html>