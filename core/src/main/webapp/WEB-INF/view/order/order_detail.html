<#--
 * description: 订单详情页面
 * version: 1.0
 * #copyright#
 * author jun.zhao02@hand-china.com    2017/5/2 10:20:00
-->
<#include "../include/header.html">
<script src="${base.contextPath}/clb/common/clbCode?provinceData=PUB.PROVICE" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?cityData=PUB.CITY" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?channelTypeData=CNL.CHANNEL_TYPE" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?industryBackgroundData=CNL.INDUSTRY_BACKGROUND" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?yesNoData=SYS.YES_NO" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?exhibitionModeData=CNL.EXHIBITION_MODE" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?exhibitionRangeData=CNL.EXHIBITION_RANGE" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?contactObjectData=CNL.CONTACT_OBJECT" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?contractTypeData=CNL.CONTRACT_TYPE" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?channelClassData=CNL.CHANNEL_CLASS	" type="text/javascript"></script>

<script src="${base.contextPath}/clb/common/clbCode?statusData=ORD.ORDER_STATUS" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?currencyData=PUB.CURRENCY" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?payMethodData=CMN.PAY_METHOD" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?contactPersonData=ORD.ORDER_CONTACT_PERSON" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?contactPhoneData=ORD.ORDER_CONTACT_PHONE" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?addressData=ORD.ORDER_ADDRESS" type="text/javascript"></script>

<script src="${base.contextPath}/clb/common/clbCode?pendingStatusData=ORD.PENDING_STATUS" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?dateTypeData=ORD.ORDER_DATE_TYPE" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?applyClassData=ORD.APPLY_CLASS" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?firstData=ORD.FIRST_PAYMENT_METHOD" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?renewalData=ORD.RENEWAL_PAYMENT_METHOD" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?renewalStatusData=ORD.RENEWAL_STATUS" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?balancePaymentMethodData=ORD.BALANCE_PAY_METHOD" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?relationshipData=ORD.RELATIONSHIP" type="text/javascript"></script>

<script type="text/javascript" src="${base.contextPath}/clb/common/clbCode?genderList=HR.EMPLOYEE_GENDER"></script>
<script type="text/javascript" src="${base.contextPath}/clb/common/clbCode?cartificateList=CTM.CERTIFICATE_TYPE"></script>
<script type="text/javascript" src="${base.contextPath}/clb/common/clbCode?nationList=PUB.NATION&provinceList=PUB.PROVICE&cityList=PUB.CITY"></script>
<script type="text/javascript" src="${base.contextPath}/clb/common/clbCode?diplomaList=PUB.EDUCATION"></script>
<script type="text/javascript" src="${base.contextPath}/clb/common/clbCode?maritalList=CTM.MARITAL_STATUS"></script>
<script src="${base.contextPath}/clb/common/clbCode?phoneCodeData=PUB.PHONE_CODE" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?ddaStatusData=ORD.DDA_STATUS" type="text/javascript"></script>
<script src="${base.contextPath}/clb/common/clbCode?hisStatusData=ORD.ORDER_HIS_STATUS" type="text/javascript"></script>

<link href="${base.contextPath}/resources/css/supplier/lov.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="${base.contextPath}/resources/js/common/zeroModal/zeroModal.css" />
<style>
.remark{
    margin-left: 770px;
    margin-top: 100px;
}
.title{
    font-size: 15px;
}
.textbox{
    margin-top: 10px;
    width:250px;
    height:250px;
}
.button{
    margin-left: 30px;
    margin-top: 20px;
}
</style>
<script src="${base.contextPath}/resources/js/common/zeroModal/zeroModal.js" type="text/javascript"></script>
<script src="${base.contextPath}/resources/js/common/validate.js" type="text/javascript"></script>

<script type="text/javascript">

    validateTelError='<@spring.message "spe.telerror"/>';

    var orderId = <#if RequestParameters.orderId?exists> ${RequestParameters.orderId} <#else>-1</#if>;
    var functionCode = '${RequestParameters.functionCode!}';
    var viewModel = kendo.observable({
        model: {
            functionCode : functionCode,
            status : "NEW",
            applicationStatus : "NOT_TRANSCRIBED",
            oldFileIds : [],
            fileIds :[],
            fileNames :[],
            fileTokens : []
        }
    });

    viewModel.model.set("dealPath",'');

    //附件功能记录附件ID
    viewModel.model.fileIds.push(0);
    viewModel.model.fileIds.push(0);
    viewModel.model.fileIds.push(0);
    viewModel.model.fileIds.push(0);
    viewModel.model.fileIds.push(0);
    viewModel.model.fileIds.push(0);
    viewModel.model.fileIds.push(0);
    viewModel.model.fileIds.push(0);
    viewModel.model.fileIds.push(0);

    //附件功能记录附件TOKEN
    viewModel.model.fileTokens.push(null);
    viewModel.model.fileTokens.push(null);
    viewModel.model.fileTokens.push(null);
    viewModel.model.fileTokens.push(null);
    viewModel.model.fileTokens.push(null);
    viewModel.model.fileTokens.push(null);
    viewModel.model.fileTokens.push(null);
    viewModel.model.fileTokens.push(null);
    viewModel.model.fileTokens.push(null);

    //附件功能记录附件名称
    viewModel.model.fileNames.push(null);
    viewModel.model.fileNames.push(null);
    viewModel.model.fileNames.push(null);
    viewModel.model.fileNames.push(null);
    viewModel.model.fileNames.push(null);
    viewModel.model.fileNames.push(null);
    viewModel.model.fileNames.push(null);
    viewModel.model.fileNames.push(null);
    viewModel.model.fileNames.push(null);

    var insurantVM = kendo.observable({
        model: {
            customerType : "INSURANT"
        }
    });

    var applicantVM = kendo.observable({
        model: {
            customerType : "APPLICANT"
        }
    });

    viewModel.model.set("orderId",orderId);
    viewModel.model.set("functionCode",functionCode);

    //跳转页面查询
    if(orderId !=-1) {
        //查询订单信息
        $.ajax({
            type: "POST",
            async: false,
            url: "${base.contextPath}/fms/ord/order/query",
            data: {orderId: orderId,
                   functionCode : functionCode},
            success: function (json) {
                var row = json.rows[0] || {};
                for (var k in row) {
                    if (k != "fileIds" && k != "oldFileIds" && k != "description") {
                        viewModel.model.set(k, row[k]);
                    }
                }
            }

        });

        var fileRows = [];
        $.ajax({
            type: "POST",
            async: false,
            url: "${base.contextPath}/fms/ord/file/query",
            data: {orderId: orderId},
            success: function (json) {
                fileRows = json.rows;
            }
        });


        //查询受保人信息
        insurantVM.model.set("orderId",orderId);
        $.ajax({
            type: "POST",
            async: false,
            url: "${base.contextPath}/fms/ord/customer/query?orderId=" + orderId + "&customerType=INSURANT",
            success: function (json) {
                var row = json.rows[0] || {};
                for (var k in row) {
                    if(k == 'premiumRate' && row[k]) {
                        var premiumRate = parseFloat(row[k]) * 100;
                        insurantVM.model.set(k, premiumRate);
                    }else{
                        insurantVM.model.set(k, row[k]);
                    }
                }

            }
        });

        //查询投保人信息
        applicantVM.model.set("orderId",orderId);
        $.ajax({
            type: "POST",
            async: false,
            url: "${base.contextPath}/fms/ord/customer/query?orderId=" + orderId + "&customerType=APPLICANT",
            success: function (json) {
                var row = json.rows[0] || {};
                for (var k in row) {
                    if(k == 'premiumRate' && row[k]) {
                        var premiumRate = parseFloat(row[k]) * 100;
                        applicantVM.model.set(k, premiumRate);
                    }else{
                        applicantVM.model.set(k, row[k]);
                    }
                }

            }
        });

        insurantVM.model.set("chineseName", viewModel.model.insurant);
        applicantVM.model.set("chineseName", viewModel.model.applicant);
    }

    var currencyAllRows = [];
    var currencyRows = [];
    $.ajax({
        type: "POST",
        async: false,
        url: "${base.contextPath}/production/itemDetail/queryAllCurrency?enabledFlag=Y",
        data: {},
        success: function (json) {
            currencyAllRows = json.rows;
            if (viewModel.model.itemId != null) {
                for (var i=0;i<currencyAllRows.length;i++) {
                    if (currencyAllRows[i].itemId == viewModel.model.itemId) {
                        currencyRows.push(currencyAllRows[i]);
                    }
                }
            }
        }
    });

    var payMethodRows = [];
    if (viewModel.model.itemId != null) {
        for (var i=0;i<payMethodData.length;i++) {
            if (payMethodData[i].value == "AP" && viewModel.model.oneyear == "Y") {
                payMethodRows.push(payMethodData[i]);
            }

            if (payMethodData[i].value == "WP" && viewModel.model.fullyear == "Y") {
                payMethodRows.push(payMethodData[i]);
            }

            if (payMethodData[i].value == "SAP" && viewModel.model.halfyear == "Y") {
                payMethodRows.push(payMethodData[i]);
            }

            if (payMethodData[i].value == "QP" && viewModel.model.quarter == "Y") {
                payMethodRows.push(payMethodData[i]);
            }

            if (payMethodData[i].value == "MP" && viewModel.model.onemonth == "Y") {
                payMethodRows.push(payMethodData[i]);
            }

            if (payMethodData[i].value == "FJ" && viewModel.model.prepayFlag == "Y") {
                payMethodRows.push(payMethodData[i]);
            }
        }
    }

    if(viewModel.model.productSupplierId != null){
        $.ajax({
            url:_basePath+"/production/supplier/query?supplierId="+viewModel.model.productSupplierId,
            type : "POST",
            dataType:"json",
            contentType:"application/json",
            success:function (data) {
                for(var i in data.rows) {
                    viewModel.model.set("gracePeriod",data.rows[i]["gracePeriod"]);
                    viewModel.model.set("administrativePeriod",data.rows[i]["administrativePeriod"]);
                }
            }
        });
    }

</script>
<script src="${base.contextPath}/resources/js/operationPermission/core_libs.js" charset="UTF-8"></script>
<!--获取控制代码（应用控制代码推荐在页面的结束位置引用,引用的js文件为apply_op_permission.js）-->
<script src="${base.contextPath}/resources/js/operationPermission/operationPermission.js" charset="UTF-8"></script>

<!--关于预先提供的部分js函数封装的说明：这部分函数封装主要是适用于规范的hap开发过程中，
grid中约定使用情况下的处理，对于不同的项目可以参照着实现；
这一部分的代码不一定适用于所有项目-->
<script src="${base.contextPath}/resources/js/operationPermission/apply_op_permission.js" charset="UTF-8"></script>

<script type="text/javascript" >
        $.extend({
            /**
             * 国家、省、市 三级级动
             *
             * @param nation object类型，对应"国家"。包括 元素Id(带#)、初始数据源、label 三个属性
             * @param province 	object类型，对应"省份"。包括 元素Id(带#)、初始数据源、label 三个属性
             * @param city 	object类型，对应"国家"城市。包括 元素Id(带#)、初始数据源、label 三个属性
             */
            'clbCascade': function(nation, province, city){
                //利用最顶层对组件实行初始化
                $(nation.elementId).kendoDropDownList({
                    optionLabel: nation.label?nation.label:'--国家--',  //当label属性没有传值的时候的时候，默认显示国家
                    valuePrimitive: true,
                    dataTextField: "meaning",
                    dataValueField: "value",
                    dataSource: nation.source,
                    //当最顶层发生 change 事件之后，对子层进行筛选
                    change: function(){
                        var nationValue = $(nation.elementId).val();    //获取最顶层的值
                        var provinces = [];
                        //根据顶层筛选子层的值
                        for (var i = 0; i < province.source.length; i++) {
                            if (nationValue && nationValue == province.source[i].parentValue) {
                                provinces.push(province.source[i]);
                            }
                        }
                        //更新子层数据源（只是更新dataSource这个值是不起作用的）
                        $(province.elementId).kendoDropDownList({
                            optionLabel: province.label?province.label:'--省份--',
                            valuePrimitive: true,
                            dataTextField: "meaning",
                            dataValueField: "value",
                            dataSource: provinces,
                            //子层再更新自己下面的子层
                            change: function(){
                                var provinceValue = $(province.elementId).val();
                                var citys = [];
                                for(var i = 0; i < city.source.length; i++){
                                    if(provinceValue && provinceValue == city.source[i].parentValue ){
                                        citys.push(city.source[i]);
                                    }
                                }

                                $(city.elementId).kendoDropDownList({
                                    optionLabel: city.label?city.label:'--城市--',
                                    valuePrimitive: true,
                                    dataTextField: "meaning",
                                    dataValueField: "value",
                                    dataSource: citys,
                                });
                            },
                        });


                        //初始化城市
                        var provinceValue = $(province.elementId).val();
                        var citys = [];
                        for(var k = 0; k < city.source.length; k++){
                            if(provinceValue && provinceValue == city.source[k].parentValue ){
                                citys.push(city.source[k]);
                            }
                        }
                        $(city.elementId).kendoDropDownList({
                            optionLabel: city.label?city.label:'--城市--',
                            valuePrimitive: true,
                            dataTextField: "meaning",
                            dataValueField: "value",
                            dataSource: citys,
                        });
                    },
                    //当最顶 databBound 的时候，对子层进行筛选
                    dataBound: function(){
                        var nationValue = $(nation.elementId).val();
                        var provinces = [];
                        for (var i = 0; i < province.source.length; i++) {
                            if (nationValue && nationValue == province.source[i].parentValue) {
                                provinces.push(province.source[i]);
                            }
                        }
                        $(province.elementId).kendoDropDownList({
                            optionLabel: province.label?province.label:'--省份--',
                            valuePrimitive: true,
                            dataTextField: "meaning",
                            dataValueField: "value",
                            dataSource: provinces,
                            change: function(){
                                var provinceValue = $(province.elementId).val();
                                var citys = [];
                                for(var i = 0; i < city.source.length; i++){
                                    if(provinceValue && provinceValue == city.source[i].parentValue ){
                                        citys.push(city.source[i]);
                                    }
                                }

                                $(city.elementId).kendoDropDownList({
                                    optionLabel: city.label?city.label:'--城市--',
                                    valuePrimitive: true,
                                    dataTextField: "meaning",
                                    dataValueField: "value",
                                    dataSource: citys,
                                });
                            },
                            dataBound: function(){
                                var provinceValue = $(province.elementId).val()
                                var citys = [];
                                for(var i = 0; i < city.source.length; i++){
                                    if(provinceValue && provinceValue == city.source[i].parentValue ){
                                        citys.push(city.source[i]);
                                    }
                                }

                                $(city.elementId).kendoDropDownList({
                                    optionLabel: city.label?city.label:'--城市--',
                                    valuePrimitive: true,
                                    dataTextField: "meaning",
                                    dataValueField: "value",
                                    dataSource: citys,
                                });
                            },
                        });
                    },
                });
            },


            /**
             *  将数字转换成金额的格式
             *
             *  @param elementId 元素Id(带#)
             */
            'clbFormatNum': function(elementId){
                var outputdollars = function (number) {
                    if (number.length <= 3)
                        return (number == '' ? '0' : number);
                    else {
                        var mod = number.length % 3;
                        var output = (mod == 0 ? '' : (number.substring(0, mod)));
                        for (var i = 0; i < Math.floor(number.length / 3); i++) {
                            if ((mod == 0) && (i == 0))
                                output += number.substring(mod + 3 * i, mod + 3 * i + 3);
                            else
                                output += ',' + number.substring(mod + 3 * i, mod + 3 * i + 3);
                        }
                        return (output);
                    }
                };

                var number = $(elementId).val();
                number = number.replace(/\,/g, "");
                var isNum = /^[1-9]d*.d*|0.d*[1-9]d*|0?.0+|0$/;
                if (!isNum.test(number)) {
                    $(elementId).val('0' + '');
                    return false;
                }
                number = Math.round(number);
                if (number < 0) {
                    $(elementId).val('0' + '');
                    return false;
                } else {
                    var value = outputdollars(Math.floor(number - 0) + '');
                    $(elementId).val(value);
                    return false;
                }

            },
        });
    </script>

<div id="statusWin" style="display: none;"></div>
<div id="proWin" style="display: none;"></div>
<div id="appWin" style="display: none;"></div>
<div id="updWin" style="display: none;"></div>
<div id="insWin" style="display: none;"></div>
<div id="planWin" style="display: none;">
    <form>
        <input type="file" id="planFiles" name="planFiles"></input>
    </form>
</div>
<div id="reqWin" style="display: none;">
    <form>
        <input type="file" id="reqFiles" name="reqFiles"></input>
    </form>
</div>
<div id="fileWin" style="display: none;">
    <form>
        <input type="file" id="files" name="files"></input>
    </form>
</div>
<body>
    <div id="page-content">
        <div class="panel panel-default">
        <form class="form-horizontal">
            <div class="panel-heading">
                <span class="panel-title"> <@spring.message "fms.ordorder.detail"/></span>
                <div class = "pull-right " style="margin-top: 5px">
                    <span onclick="openSW()" class="btn btn-primary" type="submit" style="width: 100px;margin-right:5px;"><i class="fa fa-search" style="margin-right:3px;"></i><@spring.message "fms.ordorder.statushis"/></span>

                    <span onclick="updateStatus()" class="btn btn-primary" id="btn_update_status" type="submit" style="width: 100px;margin-right:5px;"><i class="fa fa-exchange" style="margin-right:3px;"></i><@spring.message "fms.ordorder.updatestatus"/></span>
                    <span onclick="saveData()" class="btn btn-success" id="btn_save_h" type="submit" style="width: 100px;margin-right:5px;"><i class="fa fa-save" style="margin-right:3px;"></i><@spring.message "hap.save"/></span>
                    <span onclick="cancelData()" class="btn btn-default" id="btn_cancel_h" style="width: 100px;margin-right:5px;"><i class="fa fa-reply" style="margin-right:3px;"></i><@spring.message "hap.cancel"/></span>
                </div>
            </div>
            <div class="panel-body">

                <div class="col-xs-12" id="policyInfoDiv">
                    <!--计划书及申请书copy件-->
                    <div class="row" style="margin-bottom:10px;margin-top: 10px">
                        <div id="requestCopyArchiveDiv" style="margin-right:5%;float: right">
                            <label><@spring.message 'fms.ordorder.requestcopyarchive'/>：</label>
                            <button type="button" onclick="reqDownload()" class="btn btn-info btn-xs" id="btn_reqDownload" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>
                            <button type="button" onclick="reqUpload()" class="btn btn-info btn-xs" id="btn_reqUpload" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>
                        </div>

                        <div id="planArchiveDiv" style="margin-right:5%;float: right">
                            <label><@spring.message 'fms.ordorder.planarchive'/>：</label>
                            <button type="button" onclick="planDownload()" class="btn btn-info btn-xs" id="btn_planDownload" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>
                            <button type="button" onclick="planUpload()" class="btn btn-info btn-xs" id=-btn_planUpload" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>
                        </div>
                    </div>

                    <div class="col-xs-12" >

                        <!--保单信息-->
                        <div class="col-xs-9">
                            <p class="bord-btm pad-ver text-main text-bold">
                                <@spring.message "fms.ordorder.policyinfo"/>
                            </p>

                            <div class="col-xs-12" >

                                <div class="col-xs-4" id="policyNumberDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.ordorder.policynumber"/></label>
                                        <div class="col-xs-8">
                                            <input id="policyNumber" name="policyNumber" type="text" data-bind="value:model.policyNumber" class=" k-textbox" style="width: 100%;">
                                            <script>kendo.bind($('#policyNumber'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="payNumberDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.ordorder.payNumber"/></label>
                                        <div class="col-xs-8">
                                            <input id="payNumber" name="payNumber" type="text" data-bind="value:model.payNumber" class=" k-textbox" style="width: 100%;">
                                            <script>kendo.bind($('#payNumber'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="customerNumberDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.ctmcustomer.customercode"/></label>
                                        <div class="col-xs-8">
                                            <input id="customerNumber" name="customerNumber" type="text" data-bind="value:model.customerNumber" class=" k-textbox" style="width: 100%;">
                                            <script>kendo.bind($('#customerNumber'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-xs-12">

                                <div class="col-xs-4" id="companyChannelNameDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.ordorder.companychannelname"/></label>
                                        <div class="col-xs-8">
                                            <input id="companyChannelName" name="companyChannelName" type="text" class="k-textbox" data-bind="value:model.companyChannelName" style="width: 100%;">
                                            <script>kendo.bind($('#companyChannelName'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="channelIdDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.channelName"/></label>
                                        <div class="col-xs-8">
                                            <input id="channelId" name="channelId" type="text" data-bind="value:model.channelId,text:model.channelName" style="width: 100%;">
                                            <script>kendo.bind($('#channelId'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="contractRoleIdDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.roleName"/></label>
                                        <div class="col-xs-8">
                                            <input id="roleName" name="roleName" type="text" class="k-textbox" data-bind="value:model.roleName" style="width: 100%;">
                                            <script>kendo.bind($('#roleName'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-xs-12">

                                <div class="col-xs-4" id="applicantDiv">
                                    <div class="form-group" style="margin-bottom:10px"> <!-- todo -->
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.applicant"/></label>
                                        <div class="col-xs-8">
                                            <input id="chineseName1" type="text" required style="width:100%" name="chineseName"
                                                   data-bind="value:model.applicant" class="k-textbox">
                                            <script>kendo.bind($('#chineseName1'), viewModel);</script>
                                        </div>

                                    </div>
                                </div>


                                <div class="col-xs-4" id="insurantDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.insurant"/></label>
                                        <div class="col-xs-8">
                                            <input id="chineseName" type="text" required style="width:100%" name="chineseName"
                                                   data-bind="value:model.insurant" class="k-textbox">
                                            <script>kendo.bind($('#chineseName'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="preNameDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.preName"/></label>
                                        <div class="col-xs-8">
                                            <input id="preName" name="preName" type="text" class="k-textbox" data-bind="value:model.preName" style="width: 100%;">
                                            <script>kendo.bind($('#preName'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <!--<div class="col-xs-4" id="increaseFlagDiv">-->
                                    <!--<div class="form-group" style="margin-bottom:10px">-->
                                        <!--<label class="col-xs-4 control-label"-->
                                               <!--style="text-align: right"><@spring.message "fms.OrdOrder.increaseFlag"/></label>-->
                                        <!--<div class="col-xs-8">-->
                                            <!--<input id="increaseFlag" name="increaseFlag" type="checkbox" style="top:6px;" data-bind="value:model.increaseFlag">-->
                                            <!--<script>kendo.bind($('#increaseFlag'), viewModel);</script>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->


                            </div>

                            <div class="col-xs-12">

                                <!--<div class="col-xs-8" id="itemDiv">-->
                                    <!--<div class="form-group" style="margin-bottom:10px">-->
                                        <!--<label class="col-xs-2 control-label"-->
                                               <!--style="text-align: right"><@spring.message "fms.OrdOrder.item"/></label>-->
                                        <!--<div class="col-xs-10">-->
                                    <!--<span tabindex="-1" class="k-dropdown-wrap" onmouseover="showItemClear(1)" onmouseout="showItemClear(2)">-->
                                    <!--<input type="text" id="item" data-bind="value:model.item" class="k-input" autocomplete="off" style="width:100%;height:25px" title="" role="lov" aria-expanded="false"  aria-disabled="false" readonly="readonly">-->
                                    <!--<span class="k-icon k-i-close popupClear" id="itemClear" role="button" onclick="clearItemData()" style="display:none"></span>-->
                                    <!--<span onclick="selectItem()" class="k-select" aria-label="select" role="button" tabindex="-1">-->
                                    <!--<span class="k-icon k-i-search"></span>-->
                                    <!--</span>-->
                                    <!--</span>-->
                                            <!--<script>kendo.bind($('#item'), viewModel);</script>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->

                                <div class="col-xs-4" id="productSupplierIdDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.ordorder.productsupplier"/></label>
                                        <div class="col-xs-8">
                                            <input id="productSupplierId" name="productSupplierId" type="text" required validationMessage='<@spring.message "hap.error.nullexception"/>' data-bind="value:model.productSupplierId,text:model.productSupplierName" style="width: 100%;">
                                            <script>kendo.bind($('#productSupplierId'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="itemIdDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.ordorder.item"/></label>
                                        <div class="col-xs-8">
                                            <input id="itemId" name="itemId" type="text" required validationMessage='<@spring.message "hap.error.nullexception"/>' data-bind="value:model.itemId,text:model.itemName" style="width: 100%;">
                                            <script>kendo.bind($('#itemId'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="sublineIdDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.ordorder.subline"/></label>
                                        <div class="col-xs-8">
                                            <input id="sublineId" name="sublineId" type="text" required validationMessage='<@spring.message "hap.error.nullexception"/>' data-bind="value:model.sublineId,text:model.sublineItemName" style="width: 100%;">
                                            <script>kendo.bind($('#sublineId'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>


                            </div>

                            <div class="col-xs-12">

                                <div class="col-xs-4" id="currencyDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.currency"/></label>
                                        <div class="col-xs-8">
                                            <input id="currency" name="currency" required validationMessage='<@spring.message "hap.error.nullexception"/>' type="text" data-bind="value:model.currency" style="width: 100%;">
                                            <script>kendo.bind($('#currency'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="payMethodDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.payMethod"/></label>
                                        <div class="col-xs-8">
                                            <input id="payMethod" name="payMethod" required validationMessage='<@spring.message "hap.error.nullexception"/>' type="text" data-bind="value:model.payMethod" style="width: 100%;">
                                            <script>kendo.bind($('#payMethod'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="yearPayAmountDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.yearPayAmount"/></label>
                                        <div class="col-xs-8">
                                            <input id="yearPayAmount" name="yearPayAmount" type="text" data-bind="value:model.yearPayAmount" style="width: 100%;">
                                            <script>kendo.bind($('#yearPayAmount'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-xs-12" style="margin-bottom:20px;">

                                <div class="col-xs-4" id="policyAmountDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.policyAmount"/></label>
                                        <div class="col-xs-8">
                                            <input id="policyAmount" name="policyAmount" type="text" data-bind="value:model.policyAmount" style="width: 100%;">
                                            <script>kendo.bind($('#policyAmount'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="statusDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.ordorder.status"/></label>
                                        <div class="col-xs-8">
                                            <input id="statusDesc" name="statusDesc" type="text" data-bind="value:model.statusDesc" class="k-textbox" style="width: 100%;">
                                            <script>kendo.bind($('#statusDesc'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="payPeriodsDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.ordorder.payPeriods"/></label>
                                        <div class="col-xs-8">
                                            <input id="payPeriods" name="payPeriods" type="text" class="k-textbox" data-bind="value:model.payPeriods" style="width: 100%;">
                                            <script>kendo.bind($('#payPeriods'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            
                            <div class="col-xs-12" style="margin-bottom:20px;">

                                <div class="col-xs-4" id="expressNumberDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-4 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.expressNumber"/></label>
                                        <div class="col-xs-8">
                                            <input id="expressNumber" name="expressNumber" type="text" class="k-textbox"  data-bind="value:model.expressNumber" style="width: 100%;">
                                            <script>kendo.bind($('#expressNumber'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                        <!--备注栏-->
                    <div class="remark">
                        <span class="title"><@spring.message "fms.ordorder.reverseComment"/></span><br/>
                        <textarea id="description" data-bind="value:model.description" class="textbox"></textarea>
                        <script>kendo.bind($('#description'), viewModel);</script>
                    </div>

                        <!--状态跟进-->
                        <!--<div class="col-xs-3" id="statusHisDiv">
                            <p class="bord-btm pad-ver text-main text-bold">
                                <@spring.message "fms.ordorder.statushis"/>
                            </p>
                            <div style="clear:both">
                                <div id="hisGrid"></div>
                            </div>
                        </div>-->

                    </div>

                    <!--附加险信息-->
                    <div class="col-xs-12" id="additionalInfoDiv">
                        <p class="bord-btm pad-ver text-main text-bold">
                            <@spring.message "fms.ordorder.additionalinfo"/>
                        </p>

                        <div style="clear:both;margin-bottom:20px;">
                            <div id="addGrid"></div>
                        </div>
                    </div>

                    <!--时间信息-->
                    <div class="col-xs-12" id="dateInfoDiv">
                        <p class="bord-btm pad-ver text-main text-bold">
                            <@spring.message "fms.ordorder.dateinfo"/>
                        </p>

                        <div class="col-xs-12">

                            <div class="col-xs-4" >
                                <div class="form-group" style="margin-bottom:10px">
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><@spring.message "fms.OrdOrder.submitDate"/></label>
                                    <div class="col-xs-9">
                                        <input id="submitDate" name="submitDate" type="datetime" data-bind="value:model.submitDate" style="width: 100%;">
                                        <script>kendo.bind($('#submitDate'), viewModel);</script>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-4" >
                                <div class="form-group" style="margin-bottom:10px">
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><@spring.message "fms.OrdOrder.reserveDate"/></label>
                                    <div class="col-xs-9">
                                        <input id="reserveDate" name="reserveDate" type="datetime" data-bind="value:model.reserveDate" style="width: 100%;">
                                        <script>kendo.bind($('#reserveDate'), viewModel);</script>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-4" >
                                <div class="form-group" style="margin-bottom:10px">
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><@spring.message "fms.OrdOrder.effectiveDate"/></label>
                                    <div class="col-xs-9">
                                        <input id="effectiveDate" name="effectiveDate" type="text" data-bind="value:model.effectiveDate" style="width: 100%;">
                                        <script>kendo.bind($('#effectiveDate'), viewModel);</script>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="col-xs-12">

                            <div class="col-xs-4" >
                                <div class="form-group" style="margin-bottom:10px">
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><@spring.message "fms.OrdOrder.approveDate"/></label>
                                    <div class="col-xs-9">
                                        <input id="approveDate" name="approveDate" type="text" data-bind="value:model.approveDate" style="width: 100%;">
                                        <script>kendo.bind($('#approveDate'), viewModel);</script>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-4" >
                                <div class="form-group" style="margin-bottom:10px">
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><@spring.message "fms.OrdOrder.expectCoolDate"/></label>
                                    <div class="col-xs-9">
                                        <input id="expectCoolDate" name="expectCoolDate" type="text" data-bind="value:model.expectCoolDate" style="width: 100%;">
                                        <script>kendo.bind($('#expectCoolDate'), viewModel);</script>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-4" >
                                <div class="form-group" style="margin-bottom:10px">
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><@spring.message "fms.OrdOrder.firstPayDate"/></label>
                                    <div class="col-xs-9">
                                        <input id="firstPayDate" name="firstPayDate" type="text" data-bind="value:model.firstPayDate" style="width: 100%;">
                                        <script>kendo.bind($('#firstPayDate'), viewModel);</script>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="col-xs-12">

                            <div class="col-xs-4" >
                                <div class="form-group" style="margin-bottom:10px">
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><@spring.message "fms.OrdOrder.renewalDueDate"/></label>
                                    <div class="col-xs-9">
                                        <input id="renewalDueDate" name="renewalDueDate" type="text" data-bind="value:model.renewalDueDate" style="width: 100%;">
                                        <script>kendo.bind($('#renewalDueDate'), viewModel);</script>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!--续保时间信息-->
                    <div class="col-xs-12" id="renewalDateInfoDiv">
                        <p class="bord-btm pad-ver text-main text-bold">
                            <@spring.message "fms.ordorder.renewaldateinfo"/>
                        </p>

                        <div class="col-xs-12">

                            <div class="col-xs-4" >
                                <div class="form-group" style="margin-bottom:10px">
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><@spring.message "fms.OrdOrder.graceDate"/></label>
                                    <div class="col-xs-9">
                                        <input id="graceDate" name="graceDate" type="text" data-bind="value:model.graceDate" style="width: 100%;">
                                        <script>kendo.bind($('#graceDate'), viewModel);</script>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-4" >
                                <div class="form-group" style="margin-bottom:10px">
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><@spring.message "fms.OrdOrder.administrativeDate"/></label>
                                    <div class="col-xs-9">
                                        <input id="administrativeDate" name="administrativeDate" type="text" data-bind="value:model.administrativeDate" style="width: 100%;">
                                        <script>kendo.bind($('#administrativeDate'), viewModel);</script>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-4" >
                                <div class="form-group" style="margin-bottom:10px">
                                    <label class="col-xs-3 control-label"
                                           style="text-align: right"><@spring.message "fms.OrdOrder.renewalSuccessDate"/></label>
                                    <div class="col-xs-9">
                                        <input id="renewalSuccessDate" name="renewalSuccessDate" type="text" data-bind="value:model.renewalSuccessDate" style="width: 100%;">
                                        <script>kendo.bind($('#renewalSuccessDate'), viewModel);</script>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>

                    <!--详细信息-->
                <div class="col-xs-12">
                    
                    <p class="bord-btm pad-ver text-main text-bold">
                        <@spring.message "fms.ordorder.detailinfo"/>
                    </p>

                    <!--五个TAB-->
                    <div id="tabstrip" style="clear:both">
                        <ul>
                            <li id="reserveConfirmTab" class="k-state-active"><@spring.message "fms.ordorder.reserveconfirminfo"/></li>
                            <li id="commissionTab"><@spring.message "fms.ordorder.commissioninfo"/></li>
                            <li id="pendingTab"><@spring.message "fms.ordorder.pendinginfo"/></li>
                            <li id="reserveTab"><@spring.message "fms.ordorder.reserveinfo"/></li>
                            <li id="afterMarketTab"><@spring.message "fms.ordorder.aftermarketinfo"/></li>
                        </ul>
                        <!--预约确认信息-->
                        <div>
                            <div class="col-xs-12">

                                <div class="col-xs-4" id="quickCheckFlagDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-3 control-label"
                                               style="text-align: right"></label>
                                        <div class="col-xs-1">
                                            <input id="quickCheckFlag" name="quickCheckFlag" type="checkbox" style="top:6px;" data-bind="value:model.quickCheckFlag">
                                            <script>kendo.bind($('#quickCheckFlag'), viewModel);</script>
                                        </div>
                                        <label class="col-xs-8 control-label"
                                               style="text-align: left"><@spring.message "fms.OrdOrder.quickCheckFlag"/></label>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="eleInsuranceFlagDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-3 control-label"
                                               style="text-align: right"></label>
                                        <div class="col-xs-1">
                                            <input id="eleInsuranceFlag" name="eleInsuranceFlag" type="checkbox" style="top:6px;" data-bind="value:model.eleInsuranceFlag">
                                            <script>kendo.bind($('#eleInsuranceFlag'), viewModel);</script>
                                        </div>
                                        <label class="col-xs-8 control-label"
                                               style="text-align: left"><@spring.message "fms.OrdOrder.eleInsuranceFlag"/></label>
                                    </div>
                                </div>

                            </div>

                            <div class="col-xs-12">

                                <div class="col-xs-4" id="fillUserIdDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-3 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.fillAdministrator"/></label>
                                        <div class="col-xs-9">
                                            <input id="fillUserId" name="fillUserId" type="text" data-bind="value:model.fillUserId,text:model.fillEmployeeName" style="width: 100%;">
                                            <script>kendo.bind($('#fillUserId'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="signAssistantDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-3 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.signAssistant"/></label>
                                        <div class="col-xs-9">
                                            <input id="signAssistant" name="signAssistant" type="text" data-bind="value:model.signAssistant,text:model.signAssistantName" style="width: 100%;">
                                            <script>kendo.bind($('#signAssistant'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="reserveCheckDateDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-3 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.reserveCheckDate"/></label>
                                        <div class="col-xs-9">
                                            <input id="reserveCheckDate" name="reserveCheckDate" type="text" data-bind="value:model.reserveCheckDate" style="width: 100%;">
                                            <script>kendo.bind($('#reserveCheckDate'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-xs-12">

                                <div class="col-xs-4" id="reserveArrivalDateDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-3 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.reserveArrivalDate"/></label>
                                        <div class="col-xs-9">
                                            <input id="reserveArrivalDate" name="reserveArrivalDate" type="datetime" data-bind="value:model.reserveArrivalDate" style="width: 100%;">
                                            <script>kendo.bind($('#reserveArrivalDate'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="contactPersonDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-3 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.contactPerson"/></label>
                                        <div class="col-xs-9">
                                            <input id="contactPerson" name="contactPerson" type="text" data-bind="value:model.contactPerson" style="width: 100%;">
                                            <script>kendo.bind($('#contactPerson'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" >
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-3 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.contactPhone"/></label>
                                        <div class="col-xs-9">
                                            <input id="contactPhone" name="contactPhone" type="text" data-bind="value:model.contactPhone" style="width: 100%;">
                                            <script>kendo.bind($('#contactPhone'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-xs-12">

                                <div class="col-xs-12" id="signAddressDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-1 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.signAddress"/></label>
                                        <div class="col-xs-11">
                                            <input id="signAddress" name="signAddress" type="text" data-bind="value:model.signAddress" style="width: 100%;">
                                            <script>kendo.bind($('#signAddress'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-xs-12">

                                <div class="col-xs-12" id="meetAddressDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-1 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.meetAddress"/></label>
                                        <div class="col-xs-11">
                                            <input id="meetAddress" name="meetAddress" type="text" data-bind="value:model.meetAddress" style="width: 100%;">
                                            <script>kendo.bind($('#meetAddress'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-xs-12" id="tradeRouteDiv">

                                <p class="bord-btm pad-ver text-main text-bold">
                                    <@spring.message "fms.ordorder.traderoute"/>
                                </p>

                                <div class="col-xs-12">
                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:15px;margin-top: 10px">
                                            <label class="col-xs-3 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.reserveSupplier"/></label>
                                            <div class="col-xs-8">
                                                <input id="reserveSupplierId" name="reserveSupplierId" type="text" required validationMessage='<@spring.message "hap.error.nullexception"/>' data-bind="value:model.reserveSupplierId,text:model.reserveSupplierName" style="width: 100%;">
                                                <script>kendo.bind($('#reserveSupplierId'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:15px;margin-top: 10px">
                                            <label class="col-xs-3 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.signSupplierName"/></label>
                                            <div class="col-xs-8">
                                                <input id="signSupplierName" name="signSupplierName" type="text" class="k-textbox" data-bind="value:model.signSupplierName" style="width: 100%;">
                                                <script>kendo.bind($('#signSupplierName'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:15px;margin-top: 10px">
                                            <label class="col-xs-3 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.signPerson"/></label>
                                            <div class="col-xs-8">
                                                <input id="signPerson" name="signPerson" type="text" data-bind="value:model.signPerson,text:model.signPerson" style="width: 100%;">
                                                <script>kendo.bind($('#signPerson'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div id="rouGridDiv" style="clear:both;margin-bottom: 10px">
                                    <div id="rouGrid"></div>
                                </div>
                            </div>

                            <div class="col-xs-12">
                                <div class="col-xs-12">
                                    <div class="col-xs-4" id="turnCompanyDiv">
                                        <div class="form-group" style="margin-bottom:15px;margin-top: 10px">
                                            <label class="col-xs-3 control-label"
                                                   style="text-align: right"><@spring.message "转单公司"/></label>
                                            <div class="col-xs-8">
                                                <input id="turnCompany" name="turnCompany" type="text" class="k-textbox" data-bind="value:model.turnCompany" style="width: 100%;">
                                                <script>kendo.bind($('#turnCompany'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-xs-4" id="introducerNameDiv">
                                        <div class="form-group" style="margin-bottom:15px;margin-top: 10px">
                                            <label class="col-xs-3 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.introducer"/></label>
                                            <div class="col-xs-8">
                                                <input id="introducerName" name="introducerName" type="text" class="k-textbox" data-bind="value:model.introducerName" style="width: 100%;">
                                                <script>kendo.bind($('#introducerName'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-4" id="introduceBenefitDiv">
                                        <div class="form-group" style="margin-bottom:15px;margin-top: 10px">
                                            <label class="col-xs-3 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.introduceBenefit"/></label>
                                            <div class="col-xs-8">
                                                <input id="introduceBenefit" name="introduceBenefit" type="text" data-bind="value:model.introduceBenefit" style="width: 100%;">
                                                <script>kendo.bind($('#introduceBenefit'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>

                        </div>
                        <!--佣金信息-->
                        <div>

                            <div class="col-xs-12" style="margin-top:15px">

                                <div class="col-xs-4" >
                                    <div class="form-group" style="margin-bottom:10px">
                                        <div class="col-xs-12">
                                            <input id="companyId" name="companyId" type="text" data-bind="value:model.companyId" style="width: 100%;">
                                            <script>kendo.bind($('#companyId'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div style="clear:both">
                                <div id="comGrid"></div>
                            </div>

                            <div class="col-xs-12" style="margin-top:15px">

                                <div class="col-xs-4" id="signFeeDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-3 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.signFee"/></label>
                                        <div class="col-xs-9">
                                            <input id="signFee" name="signFee" type="text" data-bind="value:model.signFee" style="width: 100%;">
                                            <script>kendo.bind($('#signFee'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-4" id="cardFeeDiv">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <label class="col-xs-3 control-label"
                                               style="text-align: right"><@spring.message "fms.OrdOrder.cardFee"/></label>
                                        <div class="col-xs-9">
                                            <input id="cardFee" name="cardFee" type="text" data-bind="value:model.cardFee" style="width: 100%;">
                                            <script>kendo.bind($('#cardFee'), viewModel);</script>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                        <!--Pending照会-->
                        <div>
                            <div style="clear:both">
                                <div id="penGrid"></div>
                            </div>
                        </div>
                        <!--预约资料-->
                        <div>
                            <!--保单信息-->

                            <div class="col-xs-12" id="reservePolicyInfoDiv">
                                <p class="bord-btm pad-ver text-main text-bold">
                                    <@spring.message "fms.ordorder.policyinfo"/>
                                </p>

                                <div class="col-xs-12" id="securityDiv">
                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.ordorder.securityLevel"/></label>
                                            <div class="col-xs-8">
                                                <input id="securityLevel" name="securityLevel" type="text" data-bind="value:model.securityLevel" style="width: 100%;">
                                                <script>kendo.bind($('#securityLevel'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.securityRegion"/></label>
                                            <div class="col-xs-8">
                                                <input id="securityRegion" name="securityRegion" type="text" data-bind="value:model.securityRegion" style="width: 100%;">
                                                <script>kendo.bind($('#securityRegion'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.selfpay"/></label>
                                            <div class="col-xs-8">
                                                <input id="selfpay" name="selfpay" type="text" data-bind="value:model.selfpay" style="width: 100%;">
                                                <script>kendo.bind($('#selfpay'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-xs-12">
                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.ordorder.hkContactPerson"/></label>
                                            <div class="col-xs-8">
                                                <input id="hkContactPerson" name="hkContactPerson" type="text" class="k-textbox" data-bind="value:model.hkContactPerson" style="width: 100%;">
                                                <script>kendo.bind($('#hkContactPerson'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-8" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-2 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.hkContactPhone"/></label>
                                            <div class="col-xs-2">
                                                <input id="hkContactPhoneCode" name="hkContactPhoneCode" type="text" data-bind="value:model.hkContactPhoneCode" style="width: 100%;">
                                                <script>kendo.bind($('#hkContactPhoneCode'), viewModel);</script>
                                            </div>
                                            <div class="col-xs-2">
                                                <input id="hkContactPhone" name="hkContactPhone" validationMessage='<@spring.message "spe.telerror"/>' type="text" class="k-textbox" data-bind="value:model.hkContactPhone" style="width: 100%;">
                                                <script>kendo.bind($('#hkContactPhone'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-xs-12">

                                    <div class="col-xs-8" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-2 control-label"
                                                   style="text-align: right"><@spring.message "fms.ordorder.firstpaymentmethod"/></label>
                                            <div class="col-xs-10" id="firstData">

                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-8" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-2 control-label"
                                                   style="text-align: right"><@spring.message "fms.ordorder.renewalpaymentmethod"/></label>
                                            <div class="col-xs-10" id="renewalData">

                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-xs-12">
                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.ordorder.backDate"/></label>
                                            <div class="col-xs-8">
                                                <input id="backDate" name="backDate" type="text" data-bind="value:model.backDate" style="width: 100%;">
                                                <script>kendo.bind($('#backDate'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <!--受益人-->

                            <div class="col-xs-12" id="beneficiaryDiv">
                                <p class="bord-btm pad-ver text-main text-bold">
                                    <@spring.message "fms.ordorder.beneficiary"/>
                                </p>

                                <div style="clear:both;margin-bottom:20px;">
                                    <div id="beneGrid"></div>
                                </div>
                            </div>
                            <!--受保人-->

                            <div class="col-xs-12" id="reserveInsurantDiv">
                                <p class="bord-btm pad-ver text-main text-bold">
                                    <@spring.message "fms.ordorder.insurant"/>
                                </p>

                                <div class="col-xs-12">

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ordorder.sameFlag"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="sameFlag" name="sameFlag" data-bind="value:model.sameFlag" >
                                                <script>kendo.bind($('#sameFlag'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11"> <!-- todo -->
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.chinesename"/>:</label>

                                            <div class="col-xs-5">
                                                <span tabindex="-1" class="k-dropdown-wrap" onmouseover="showInsurantClear(1)" onmouseout="showInsurantClear(2)">
                                                    <input type="text" id="insurant" data-bind="value:model.chineseName" class="k-input" autocomplete="off" style="width:100%;height:25px" title="" role="lov" aria-expanded="false"  aria-disabled="false" readonly="readonly">
                                                    <span class="k-icon k-i-close popupClear" id="insurantClear" role="button" onclick="clearInsurantData()" style="display:none"></span>
                                                    <span onclick="selectInsurant()" class="k-select" aria-label="select" role="button" tabindex="-1">
                                                        <span class="k-icon k-i-search"></span>
                                                    </span>
                                                </span>
                                                <script>kendo.bind($('#insurant'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.englishname"/>:</label>
                                            <div class="col-xs-5">
                                                <input id="englishName" type="text" style="width:100%" name="englishName"
                                                       data-bind="value:model.englishName" class="k-textbox" pattern="^[A-Za-z\s]*$" validationMessage='<@spring.message "fms.ordcustomer.englishNamevali"/>'>
                                                <script>kendo.bind($('#englishName'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.birthdate"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="birthDate" name="birthDate"
                                                       data-bind="value:model.birthDate">
                                                <script>kendo.bind($('#birthDate'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.sex"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" type="text" id="sex" name="sex"
                                                       data-bind="source: genderList, value: model.sex" class=".k-invalid-msg">
                                                <script>kendo.bind($('#sex'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.nationality"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="nationality" name="nationality"
                                                       data-bind="value:model.nationality">
                                                <script>kendo.bind($('#nationality'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.height"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="height" name="height"
                                                       data-bind="value:model.height">
                                                <script>kendo.bind($('#height'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.weight"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="weight" name="weight"
                                                       data-bind="value:model.weight">
                                                <script>kendo.bind($('#weight'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.education"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="education" name="education"
                                                       data-bind="source: diplomaList, value: model.education" class=".k-invalid-msg">
                                                <script>kendo.bind($('#education'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.marriageStatus"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="marriageStatus" name="marriageStatus"
                                                       data-bind="source: maritalList, value: model.marriageStatus" class=".k-invalid-msg">
                                                <script>kendo.bind($('#marriageStatus'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.phone"/>:</label>

                                            <div class="col-xs-2">
                                                <input id="phoneCode" name="phoneCode" type="text" required validationMessage='<@spring.message "hap.error.nullexception"/>' data-bind="value:model.phoneCode" style="width: 100%;">
                                                <script>kendo.bind($('#phoneCode'), insurantVM);</script>
                                            </div>
                                            <div class="col-xs-3">
                                                <input id="phone" type="text" required  validationMessage='<@spring.message "spe.telerror"/>' style="width:100%" name="phone"
                                                       data-bind="value:model.phone" class="k-textbox">
                                                <script>kendo.bind($('#phone'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.email"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" type="email" id="email" name="Email"
                                                       data-bind="value:model.email" class="k-textbox">
                                                <script>kendo.bind($('#email'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.americanCitizenFlag"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="americanCitizenFlag" name="americanCitizenFlag"
                                                       data-bind="source: yesNoData, value: model.americanCitizenFlag" class=".k-invalid-msg">
                                                <script>kendo.bind($('#americanCitizenFlag'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.identitynumber"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" required validationMessage="<@spring.message "fms.validate.identifynumber"/>" style="width:100%" id="identityNumber" name="identityNumber"
                                                data-bind="value:model.identityNumber" class="k-textbox">
                                                <script>kendo.bind($('#identityNumber'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.identityeffectivedate"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="identityEffectiveDate"
                                                       name="identityeffectivedate" class="k-textbox"
                                                       data-bind="value:model.identityEffectiveDate">
                                                <script>kendo.bind($('#identityEffectiveDate'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.certificatetype"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" style="width:100%" id="certificateType" name="certificateType"
                                                       data-bind="source: cartificateList, value: model.certificateType" class=".k-invalid-msg">
                                                <script>kendo.bind($('#certificateType'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.certificatenumber"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="certificateNumber" name="certificateNumber"
                                                       data-bind="value:model.certificateNumber" class="k-textbox">
                                                <script>kendo.bind($('#certificateNumber'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.certificateeffectivedate"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" style="width:100%" id="certificateEffectiveDate"
                                                       name="certificateeffectivedate" class="k-textbox"
                                                       data-bind="value:model.certificateEffectiveDate">
                                                <script>kendo.bind($('#certificateEffectiveDate'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.identityaddress"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:34%;float:left" id="identityNation" data-bind="value:model.identityNation" class=".k-invalid-msg">
                                                <input style="width:32%;float:left" id="identityProvince" data-bind="value:model.identityProvince" class=".k-invalid-msg">
                                                <input style="width:34%;float:left" id="identityCity" data-bind="value:model.identityCity" class=".k-invalid-msg">
                                                <input style="width:100%" id="identityAddress" placeholder="详细地址"
                                                       data-bind="value:model.identityAddress" class="k-textbox">
                                                <script>kendo.bind($('#identityNation'), insurantVM);</script>
                                                <script>kendo.bind($('#identityProvince'), insurantVM);</script>
                                                <script>kendo.bind($('#identityCity'), insurantVM);</script>
                                                <script>kendo.bind($('#identityAddress'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.identityflag"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" style="width:100%" id="identityFlag" name="identityFlag"
                                                       data-bind="source: yesNoData, value: model.identityFlag" class=".k-invalid-msg">
                                                <script>kendo.bind($('#identityFlag'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.postaddress"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:34%;float:left" id="postNation" data-bind="value:model.postNation" class=".k-invalid-msg">
                                                <input style="width:32%;float:left" id="postProvince" data-bind="value:model.postProvince" class=".k-invalid-msg">
                                                <input style="width:34%;float:left" id="postCity" data-bind="value:model.postCity" class=".k-invalid-msg">
                                                <input style="width:100%" id="postAddress" class="k-textbox" placeholder="详细地址"
                                                       data-bind="value:model.postAddress">
                                                <script>kendo.bind($('#postNation'), insurantVM);</script>
                                                <script>kendo.bind($('#postProvince'), insurantVM);</script>
                                                <script>kendo.bind($('#postCity'), insurantVM);</script>
                                                <script>kendo.bind($('#postAddress'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.companyname"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input id="companyName" type="text" style="width:100%" name="companyName"
                                                       data-bind="value:model.companyName" class="k-textbox">
                                                <script>kendo.bind($('#companyName'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.industry"/>:</label>
                                            <div class="col-xs-5">
                                                <input id="industry" style="width:100%" name="industry"
                                                       data-bind="value:model.industry" class="k-textbox">
                                                <script>kendo.bind($('#industry'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.companyaddress"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:34%;float:left" id="companyNation" data-bind="value:model.companyNation" class=".k-invalid-msg">
                                                <input style="width:32%;float:left" id="companyProvince" data-bind="value:model.companyProvince" class=".k-invalid-msg">
                                                <input style="width:34%;float:left" id="companyCity" data-bind="value:model.companyCity" class=".k-invalid-msg">
                                                <input style="width:100%" id="companyAddress" placeholder="详细地址"
                                                       data-bind="value:model.companyAddress" class="k-textbox">
                                                <script>kendo.bind($('#companyNation'), insurantVM);</script>
                                                <script>kendo.bind($('#companyProvince'), insurantVM);</script>
                                                <script>kendo.bind($('#companyCity'), insurantVM);</script>
                                                <script>kendo.bind($('#companyAddress'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.job"/>:</label>
                                            <div class="col-xs-5">
                                                <input id="job" style="width:100%" name="job" data-bind="value:model.job"
                                                       class="k-textbox">
                                                <script>kendo.bind($('#job'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.position"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input id="position" type="text" style="width:100%" name="position"
                                                       data-bind="value:model.position" class="k-textbox">
                                                <script>kendo.bind($('#position'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.income"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="income" name="income"
                                                       data-bind="value:model.income">
                                                <script>kendo.bind($('#income'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.premiumsource"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input id="premiumSource" type="text" style="width:100%" name="premiumSource" data-bind="value:model.premiumSource" class="k-textbox">
                                                <script>kendo.bind($('#premiumSource'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.amountpermonth"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" type="text" id="amountPerMonth" name="amountPerMonth"
                                                       data-bind="value:model.amountPerMonth" >
                                                <script>kendo.bind($('#amountPerMonth'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.currentassets"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" style="width:100%" id="currentAssets" name="currentAssets"
                                                       data-bind="value:model.currentAssets">
                                                <script>kendo.bind($('#currentAssets'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.fixedassets"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="fixedAssets" name="fixedAssets"
                                                       data-bind="value:model.fixedAssets">
                                                <script>kendo.bind($('#fixedAssets'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.premiumrate"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" style="width:100%" id="premiumRate" name="premiumRate"
                                                       data-bind="value:model.premiumRate">
                                                <script>kendo.bind($('#premiumRate'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.liabilities"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="liabilities" name="liabilities"
                                                       data-bind="value:model.liabilities">
                                                <script>kendo.bind($('#liabilities'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.secure1"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="badFlag" name="badFlag" data-bind="value:model.badFlag" >
                                                <script>kendo.bind($('#badFlag'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <!--
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.secure2"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="compensateFlag" name="compensateFlag" data-bind="value:model.compensateFlag" >
                                                <script>kendo.bind($('#compensateFlag'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    -->
                                    <div class="col-xs-11" id="badInsuranceNameDiv">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.badinsurancename"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="badInsuranceName" name="badInsuranceName" data-bind="value:model.badInsuranceName" class="k-textbox">
                                                <script>kendo.bind($('#badInsuranceName'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11" id="badInsuranceTypeDiv">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.badinsurancetype"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="badInsuranceType" name="badInsuranceType" data-bind="value:model.badInsuranceType" class="k-textbox">
                                                <script>kendo.bind($('#badInsuranceType'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11" id="badEffactiveDateDiv">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.badEffactiveDate"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="badEffactiveDate" name="badEffactiveDate" data-bind="value:model.badEffactiveDate">
                                                <script>kendo.bind($('#badEffactiveDate'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <!--只选择是否-->
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.secure2"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="compensateFlag" name="compensateFlag" data-bind="value:model.compensateFlag" >
                                                <script>kendo.bind($('#compensateFlag'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <!--新增加问题-->
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.secure3"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="guaranteeInsuranceFlag" name="guaranteeInsuranceFlag" data-bind="value:model.guaranteeInsuranceFlag" >
                                                <script>kendo.bind($('#guaranteeInsuranceFlag'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11" id="guaranteeInsuranceNameDiv">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.badinsurancename"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="guaranteeInsuranceName" name="guaranteeInsuranceName" data-bind="value:model.guaranteeInsuranceName" class="k-textbox">
                                                <script>kendo.bind($('#guaranteeInsuranceName'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11" id="guaranteeInsuranceTypeDiv">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.badinsurancetype"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="guaranteeInsuranceType" name="guaranteeInsuranceType" data-bind="value:model.guaranteeInsuranceType" class="k-textbox">
                                                <script>kendo.bind($('#guaranteeInsuranceType'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11" id="guaranteeEffactiveDateDiv">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.badEffactiveDate"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="guaranteeEffactiveDate" name="guaranteeEffactiveDate" data-bind="value:model.guaranteeEffactiveDate">
                                                <script>kendo.bind($('#guaranteeEffactiveDate'), insurantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <!--投保人-->

                            <div class="col-xs-12" id="reserveApplicantDiv" opm="applicant">
                                <p class="bord-btm pad-ver text-main text-bold">
                                    <@spring.message "fms.ordorder.applicant"/>
                                </p>

                                <div class="col-xs-12">

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.chinesename"/>:</label>  <!-- todo -->
                                            <div class="col-xs-5">
                                                <span tabindex="-1" class="k-dropdown-wrap" onmouseover="showApplicantClear(1)" onmouseout="showApplicantClear(2)">
                                                    <input type="text" id="applicant" data-bind="value:model.chineseName" class="k-input" autocomplete="off" style="width:100%;height:25px" title="" role="lov" aria-expanded="false"  aria-disabled="false" readonly="readonly">
                                                    <span class="k-icon k-i-close popupClear" id="applicantClear" role="button" onclick="clearApplicantData()" style="display:none"></span>
                                                    <span onclick="selectApplicant()" class="k-select" aria-label="select" role="button" tabindex="-1">
                                                        <span class="k-icon k-i-search"></span>
                                                    </span>
                                                </span>
                                                <script>kendo.bind($('#applicant'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.englishname"/>:</label>
                                            <div class="col-xs-5">
                                                <input id="englishName1" type="text" style="width:100%" name="englishName1"
                                                       data-bind="value:model.englishName" class="k-textbox" pattern="^[A-Za-z\s]*$" validationMessage='<@spring.message "fms.ordcustomer.englishNamevali"/>'>
                                                <script>kendo.bind($('#englishName1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.birthdate"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="birthDate1" name="birthDate"
                                                       data-bind="value:model.birthDate">
                                                <script>kendo.bind($('#birthDate1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.sex"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" type="text" id="sex1" name="sex"
                                                       data-bind="source: genderList, value: model.sex" class=".k-invalid-msg">
                                                <script>kendo.bind($('#sex1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.nationality"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="nationality1" name="nationality"
                                                       data-bind="value:model.nationality">
                                                <script>kendo.bind($('#nationality1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.height"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="height1" name="height"
                                                       data-bind="value:model.height">
                                                <script>kendo.bind($('#height1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.weight"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="weight1" name="weight"
                                                       data-bind="value:model.weight">
                                                <script>kendo.bind($('#weight1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.education"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="education1" name="education"
                                                       data-bind="source: diplomaList, value: model.education" class=".k-invalid-msg">
                                                <script>kendo.bind($('#education1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.marriageStatus"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="marriageStatus1" name="marriageStatus"
                                                       data-bind="source: maritalList, value: model.marriageStatus" class=".k-invalid-msg">
                                                <script>kendo.bind($('#marriageStatus1'), applicantVM);</script></div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.phone"/>:</label>

                                            <div class="col-xs-2">
                                                <input id="phoneCode1" name="phoneCode1" type="text" required validationMessage='<@spring.message "hap.error.nullexception"/>' data-bind="value:model.phoneCode" style="width: 100%;">
                                                <script>kendo.bind($('#phoneCode1'), applicantVM);</script>
                                            </div>
                                            <div class="col-xs-3">
                                                <input id="phone1" type="text" required validationMessage='<@spring.message "spe.telerror"/>'  style="width:100%" name="phone1"
                                                       data-bind="value:model.phone" class="k-textbox">
                                                <script>kendo.bind($('#phone1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.email"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" type="text" id="email1" name="email1"
                                                       data-bind="value:model.email" class="k-textbox">
                                                <script>kendo.bind($('#email1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.americanCitizenFlag"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="americanCitizenFlag1" name="americanCitizenFlag1"
                                                       data-bind="source: yesNoData, value: model.americanCitizenFlag" class=".k-invalid-msg">
                                                <script>kendo.bind($('#americanCitizenFlag1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.identitynumber"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" required validationMessage="<@spring.message "fms.validate.identifynumber"/>" style="width:100%" id="identityNumber1" name="identityNumber1"
                                                data-bind="value:model.identityNumber" class="k-textbox">
                                                <script>kendo.bind($('#identityNumber1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.identityeffectivedate"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="identityEffectiveDate1"
                                                       name="identityeffectivedate" class="k-textbox"
                                                       data-bind="value:model.identityEffectiveDate">
                                                <script>kendo.bind($('#identityEffectiveDate1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.certificatetype"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" style="width:100%" id="certificateType1" name="certificateType"
                                                       data-bind="source: cartificateList, value: model.certificateType" class=".k-invalid-msg">
                                                <script>kendo.bind($('#certificateType1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.certificatenumber"/>:</label>
                                            <div class="col-xs-5">
                                                <input id="certificateNumber1" style="width:100%" name="certificateNumber"
                                                       data-bind="value:model.certificateNumber" class="k-textbox">
                                                <script>kendo.bind($('#certificateNumber1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.certificateeffectivedate"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" style="width:100%" id="certificateEffectiveDate1"
                                                       name="certificateeffectivedate" class="k-textbox"
                                                       data-bind="value:model.certificateEffectiveDate">
                                                <script>kendo.bind($('#certificateEffectiveDate1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.identityaddress"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:34%;float:left" id="identityNation1" data-bind="value:model.identityNation" class=".k-invalid-msg">
                                                <input style="width:32%;float:left" id="identityProvince1" data-bind="value:model.identityProvince" class=".k-invalid-msg">
                                                <input style="width:34%;float:left" id="identityCity1" data-bind="value:model.identityCity" class=".k-invalid-msg">
                                                <input style="width:100%" id="identityAddress1" placeholder="详细地址"
                                                       data-bind="value:model.identityAddress" class="k-textbox">
                                                <script>kendo.bind($('#identityNation1'), applicantVM);</script>
                                                <script>kendo.bind($('#identityProvince1'), applicantVM);</script>
                                                <script>kendo.bind($('#identityCity1'), applicantVM);</script>
                                                <script>kendo.bind($('#identityAddress1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.identityflag"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" style="width:100%" id="identityFlag1" name="identityFlag"
                                                       data-bind="source: yesNoData, value: model.identityFlag" class=".k-invalid-msg">
                                                <script>kendo.bind($('#identityFlag1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.postaddress"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:34%;float:left" id="postNation1" data-bind="value:model.postNation" class=".k-invalid-msg">
                                                <input style="width:32%;float:left" id="postProvince1" data-bind="value:model.postProvince" class=".k-invalid-msg">
                                                <input style="width:34%;float:left" id="postCity1" data-bind="value:model.postCity" class=".k-invalid-msg">
                                                <input style="width:100%" id="postAddress1" class="k-textbox" placeholder="详细地址"
                                                       data-bind="value:model.postAddress">
                                                <script>kendo.bind($('#postNation1'), applicantVM);</script>
                                                <script>kendo.bind($('#postProvince1'), applicantVM);</script>
                                                <script>kendo.bind($('#postCity1'), applicantVM);</script>
                                                <script>kendo.bind($('#postAddress1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.companyname"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input id="companyName1" type="text" style="width:100%" name="companyName"
                                                       data-bind="value:model.companyName" class="k-textbox">
                                                <script>kendo.bind($('#companyName1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.industry"/>:</label>
                                            <div class="col-xs-5">
                                                <input id="industry1" style="width:100%" name="industry"
                                                       data-bind="value:model.industry" class="k-textbox">
                                                <script>kendo.bind($('#industry1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.companyaddress"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:34%;float:left" id="companyNation1" data-bind="value:model.companyNation" class=".k-invalid-msg">
                                                <input style="width:32%;float:left" id="companyProvince1" data-bind="value:model.companyProvince" class=".k-invalid-msg">
                                                <input style="width:34%;float:left" id="companyCity1" data-bind="value:model.companyCity" class=".k-invalid-msg">
                                                <input style="width:100%" id="companyAddress1" placeholder="详细地址" data-bind="value:model.companyAddress" class="k-textbox">
                                                <script>kendo.bind($('#companyNation1'), applicantVM);</script>
                                                <script>kendo.bind($('#companyProvince1'), applicantVM);</script>
                                                <script>kendo.bind($('#companyCity1'), applicantVM);</script>
                                                <script>kendo.bind($('#companyAddress1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.job"/>:</label>
                                            <div class="col-xs-5">
                                                <input id="job1" style="width:100%" name="job" data-bind="value:model.job"
                                                       class="k-textbox">
                                                <script>kendo.bind($('#job1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.position"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input id="position1" type="text" style="width:100%" name="position"
                                                       data-bind="value:model.position" class="k-textbox">
                                                <script>kendo.bind($('#position1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message
                                                "fms.ctmcustomer.income"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="income1" name="income"
                                                       data-bind="value:model.income">
                                                <script>kendo.bind($('#income1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.premiumsource"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input id="premiumSource1" type="text" style="width:100%" name="premiumSource1" data-bind="value:model.premiumSource" class="k-textbox">
                                                <script>kendo.bind($('#premiumSource1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.amountpermonth"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" type="text" id="amountPerMonth1" name="amountPerMonth1"
                                                       data-bind="value:model.amountPerMonth" >
                                                <script>kendo.bind($('#amountPerMonth1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.currentassets"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" style="width:100%" id="currentAssets1" name="currentAssets1"
                                                       data-bind="value:model.currentAssets">
                                                <script>kendo.bind($('#currentAssets1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.fixedassets"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="fixedAssets1" name="fixedAssets1"
                                                       data-bind="value:model.fixedAssets">
                                                <script>kendo.bind($('#fixedAssets1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.premiumrate"/>:</label>
                                            <div class="col-xs-5" style="text-align: left">
                                                <input type="text" style="width:100%" id="premiumRate1" name="premiumRate1"
                                                       data-bind="value:model.premiumRate">
                                                <script>kendo.bind($('#premiumRate1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.liabilities"/>:</label>
                                            <div class="col-xs-5">
                                                <input style="width:100%" id="liabilities1" name="liabilities1"
                                                       data-bind="value:model.liabilities">
                                                <script>kendo.bind($('#liabilities1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.secure1"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="badFlag1" name="badFlag1" data-bind="value:model.badFlag" >
                                                <script>kendo.bind($('#badFlag1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>
                                    <!--新增加问题-->
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.secure3"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="compensateFlag" name="compensateFlag" data-bind="value:model.compensateFlag" >
                                                <script>kendo.bind($('#compensateFlag'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11" id="badInsuranceName1Div">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.badinsurancename"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="badInsuranceName1" name="badInsuranceName1" data-bind="value:model.badInsuranceName" class="k-textbox">
                                                <script>kendo.bind($('#badInsuranceName1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11" id="badInsuranceType1Div">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.badinsurancetype"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="badInsuranceType1" name="badInsuranceType1" data-bind="value:model.badInsuranceType" class="k-textbox">
                                                <script>kendo.bind($('#badInsuranceType1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-11" id="badEffactiveDate1Div">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.badEffactiveDate"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="badEffactiveDate1" name="badEffactiveDate1" data-bind="value:model.badEffactiveDate">
                                                <script>kendo.bind($('#badEffactiveDate1'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>  
                                    <!--只选择是否-->
                                    <div class="col-xs-11">
                                        <div class="form-group">
                                            <label class="col-xs-3 control-label"><@spring.message "fms.ctmcustomer.secure2"/>:</label>
                                            <div class="col-xs-5">
                                                <input type="text" style="width:100%" id="compensateFlag3" name="compensateFlag3" data-bind="value:model.compensateFlag1" >
                                                <script>kendo.bind($('#compensateFlag3'), applicantVM);</script>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                            <!--健康问题表格-->
                            <div class="col-xs-12" id="healthInfoDiv">
                                <p class="bord-btm pad-ver text-main text-bold">
                                    <@spring.message "fms.ordorder.health"/>
                                </p>
                                
                                <table class="table table-bordered table-striped">
                                    <tr>
                                        <th><@spring.message "fms.ordorder.health"/></th>
                                        <th><@spring.message "fms.ordorder.insurant"/></th>
                                        <th opm="applicant"><@spring.message "fms.ordorder.applicant"/></th>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ctmcustomer.smokeflag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="smokeDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="smokeDesc" name="smokeDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.smokeDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#smokeDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="smokeDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="smokeDesc1" name="smokeDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.smokeDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#smokeDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="smokeFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.smokeFlag"></div>
                                                <script>kendo.bind($("#smokeFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="smokeFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.smokeFlag"></div>
                                                <script>kendo.bind($("#smokeFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ctmcustomer.drinkFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="drinkDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="drinkDesc" name="drinkDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.drinkDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#drinkDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="drinkDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="drinkDesc1" name="drinkDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.drinkDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#drinkDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="drinkFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.drinkFlag"></div>
                                                <script>kendo.bind($("#drinkFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="drinkFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.drinkFlag"></div>
                                                <script>kendo.bind($("#drinkFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.drugFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="drugDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="drugDesc" name="drugDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.drugDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#drugDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="drugDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="drugDesc1" name="drugDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.drugDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#drugDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="drugFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.drugFlag"></div>
                                                <script>kendo.bind($("#drugFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="drugFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.drugFlag"></div>
                                                <script>kendo.bind($("#drugFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.dangerousFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="dangerousDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="dangerousDesc" name="dangerousDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.dangerousDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#dangerousDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="dangerousDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="dangerousDesc1" name="dangerousDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.dangerousDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#dangerousDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="dangerousFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.dangerousFlag"></div>
                                                <script>kendo.bind($("#dangerousFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="dangerousFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.dangerousFlag"></div>
                                                <script>kendo.bind($("#dangerousFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.abroadFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="abroadDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="abroadDesc" name="abroadDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.abroadDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#abroadDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="abroadDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                        <input id="abroadDesc1" name="abroadDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.abroadDesc" style="width: 100%;">
                                                        <script>kendo.bind($('#abroadDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="abroadFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.abroadFlag"></div>
                                                <script>kendo.bind($("#abroadFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="abroadFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.abroadFlag"></div>
                                                <script>kendo.bind($("#abroadFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.disabilityFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="disabilityDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="disabilityDesc" name="disabilityDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.disabilityDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#disabilityDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="disabilityDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="disabilityDesc1" name="disabilityDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.disabilityDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#disabilityDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="disabilityFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.disabilityFlag"></div>
                                                <script>kendo.bind($("#disabilityFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="disabilityFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.disabilityFlag"></div>
                                                <script>kendo.bind($("#disabilityFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.spiritFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="spiritDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="spiritDesc" name="spiritDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.spiritDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#spiritDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="spiritDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="spiritDesc1" name="spiritDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.spiritDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#spiritDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="spiritFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.spiritFlag"></div>
                                                <script>kendo.bind($("#spiritFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="spiritFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.spiritFlag"></div>
                                                <script>kendo.bind($("#spiritFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.endocrineFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="endocrineDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="endocrineDesc" name="endocrineDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.endocrineDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#endocrineDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="endocrineDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="endocrineDesc1" name="endocrineDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.endocrineDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#endocrineDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="endocrineFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.endocrineFlag"></div>
                                                <script>kendo.bind($("#endocrineFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="endocrineFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.endocrineFlag"></div>
                                                <script>kendo.bind($("#endocrineFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.faceFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="faceDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="faceDesc" name="faceDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.faceDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#faceDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="faceDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id=faceDesc1" name="faceDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.faceDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#faceDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="faceFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.faceFlag"></div>
                                                <script>kendo.bind($("#faceFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10" opm="applicant">
                                                <div id="faceFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.faceFlag"></div>
                                                <script>kendo.bind($("#faceFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.respirationFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="respirationDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="respirationDesc" name="respirationDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.respirationDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#respirationDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="respirationDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="respirationDesc1" name="respirationDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.respirationDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#respirationDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="respirationFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.respirationFlag"></div>
                                                <script>kendo.bind($("#respirationFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="respirationFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.respirationFlag"></div>
                                                <script>kendo.bind($("#respirationFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.threeFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="threeDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="threeDesc" name="threeDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.threeDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#threeDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="threeDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="threeDesc1" name="threeDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.threeDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#threeDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="threeFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.threeFlag"></div>
                                                <script>kendo.bind($("#threeFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="threeFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.threeFlag"></div>
                                                <script>kendo.bind($("#threeFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.cycleFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="cycleDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="cycleDesc" name="cycleDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.cycleDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#cycleDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="cycleDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="cycleDesc1" name="cycleDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.cycleDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#cycleDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="cycleFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.cycleFlag"></div>
                                                <script>kendo.bind($("#cycleFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="cycleFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.cycleFlag"></div>
                                                <script>kendo.bind($("#cycleFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>


                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.digestionFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="digestionDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="digestionDesc" name="digestionDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.digestionDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#digestionDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="digestionDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="digestionDesc1" name="digestionDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.digestionDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#digestionDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="digestionFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.digestionFlag"></div>
                                                <script>kendo.bind($("#digestionFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="digestionFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.digestionFlag"></div>
                                                <script>kendo.bind($("#digestionFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.liverFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="liverDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="liverDesc" name="liverDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.liverDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#liverDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="liverDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="liverDesc1" name="liverDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.liverDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#liverDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="liverFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.liverFlag"></div>
                                                <script>kendo.bind($("#liverFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="liverFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.liverFlag"></div>
                                                <script>kendo.bind($("#liverFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.reproductionFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="reproductionDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="reproductionDesc" name="reproductionDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.reproductionDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#reproductionDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="reproductionDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="reproductionDesc1" name="reproductionDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.reproductionDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#reproductionDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="reproductionFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.reproductionFlag"></div>
                                                <script>kendo.bind($("#reproductionFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="reproductionFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.reproductionFlag"></div>
                                                <script>kendo.bind($("#reproductionFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.jointFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="jointDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="jointDesc" name="jointDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.jointDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#jointDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="jointDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="jointDesc1" name="jointDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.jointDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#jointDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="jointFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.jointFlag"></div>
                                                <script>kendo.bind($("#jointFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="jointFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.jointFlag"></div>
                                                <script>kendo.bind($("#jointFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.tumorFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="tumorDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="tumorDesc" name="tumorDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.tumorDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#tumorDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="tumorDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="tumorDesc1" name="tumorDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.tumorDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#tumorDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="tumorFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.tumorFlag"></div>
                                                <script>kendo.bind($("#tumorFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="tumorFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.tumorFlag"></div>
                                                <script>kendo.bind($("#tumorFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.bloodFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="bloodDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="bloodDesc" name="bloodDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.bloodDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#bloodDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="bloodDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="bloodDesc1" name="bloodDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.bloodDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#bloodDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="bloodFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.bloodFlag"></div>
                                                <script>kendo.bind($("#bloodFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="bloodFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.bloodFlag"></div>
                                                <script>kendo.bind($("#bloodFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.aidsFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="aidsDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="aidsDesc" name="aidsDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.aidsDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#aidsDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="aidsDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="aidsDesc1" name="aidsDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.aidsDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#aidsDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="aidsFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.aidsFlag"></div>
                                                <script>kendo.bind($("#aidsFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="aidsFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.aidsFlag"></div>
                                                <script>kendo.bind($("#aidsFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.aidsTestFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="aidsTestDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="aidsTestDesc" name="aidsTestDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.aidsTestDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#aidsTestDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="aidsTestDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="aidsTestDesc1" name="aidsTestDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.aidsTestDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#aidsTestDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="aidsTestFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.aidsTestFlag"></div>
                                                <script>kendo.bind($("#aidsTestFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="aidsTestFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.aidsTestFlag"></div>
                                                <script>kendo.bind($("#aidsTestFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.skinFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="skinDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="skinDesc" name="skinDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.skinDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#skinDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="skinDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="skinDesc1" name="skinDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.skinDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#skinDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="skinFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.skinFlag"></div>
                                                <script>kendo.bind($("#skinFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="skinFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.skinFlag"></div>
                                                <script>kendo.bind($("#skinFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.otherFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="otherDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="otherDesc" name="otherDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.otherDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#otherDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="otherDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="otherDesc1" name="otherDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.otherDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#otherDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="otherFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.otherFlag"></div>
                                                <script>kendo.bind($("#otherFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="otherFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.otherFlag"></div>
                                                <script>kendo.bind($("#otherFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.otherTreatFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="otherTreatDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="otherTreatDesc" name="otherTreatDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.otherTreatDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#otherTreatDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="otherTreatDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="otherTreatDesc1" name="otherTreatDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.otherTreatDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#otherTreatDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="otherTreatFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.otherTreatFlag"></div>
                                                <script>kendo.bind($("#otherTreatFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="otherTreatFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.otherTreatFlag"></div>
                                                <script>kendo.bind($("#otherTreatFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.examinationFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="examinationDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="examinationDesc" name="examinationDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.examinationDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#examinationDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="examinationDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="examinationDesc1" name="examinationDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.examinationDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#examinationDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="examinationFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.examinationFlag"></div>
                                                <script>kendo.bind($("#examinationFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="examinationFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.examinationFlag"></div>
                                                <script>kendo.bind($("#examinationFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.hereditaryFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="hereditaryDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="hereditaryDesc" name="hereditaryDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.hereditaryDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#hereditaryDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="hereditaryDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="hereditaryDesc1" name="hereditaryDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.hereditaryDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#hereditaryDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="hereditaryFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.hereditaryFlag"></div>
                                                <script>kendo.bind($("#hereditaryFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="hereditaryFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.hereditaryFlag"></div>
                                                <script>kendo.bind($("#hereditaryFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr id="pregnancyFlagTr">
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.pregnancyFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="pregnancyDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="pregnancyDesc" name="pregnancyDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.pregnancyDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#pregnancyDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="pregnancyDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="pregnancyDesc1" name="pregnancyDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.pregnancyDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#pregnancyDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="pregnancyFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.pregnancyFlag"></div>
                                                <script>kendo.bind($("#pregnancyFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="pregnancyFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.pregnancyFlag"></div>
                                                <script>kendo.bind($("#pregnancyFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr id="downTestFlagTr">
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.downTestFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="downTestDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="downTestDesc" name="downTestDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.downTestDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#downTestDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="downTestDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="downTestDesc1" name="downTestDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.downTestDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#downTestDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="downTestFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.downTestFlag"></div>
                                                <script>kendo.bind($("#downTestFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="downTestFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.downTestFlag"></div>
                                                <script>kendo.bind($("#downTestFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr id="gynecologyFlagTr">
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.gynecologyFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="gynecologyDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="gynecologyDesc" name="gynecologyDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.gynecologyDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#gynecologyDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="gynecologyDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="gynecologyDesc1" name="gynecologyDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.gynecologyDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#gynecologyDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="gynecologyFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.gynecologyFlag"></div>
                                                <script>kendo.bind($("#gynecologyFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="gynecologyFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.gynecologyFlag"></div>
                                                <script>kendo.bind($("#gynecologyFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr id="complicationFlagTr">
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.complicationFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="complicationDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="complicationDesc" name="complicationDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.complicationDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#complicationDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="complicationDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="complicationDesc1" name="complicationDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.complicationDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#complicationDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="complicationFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.complicationFlag"></div>
                                                <script>kendo.bind($("#complicationFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="complicationFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.complicationFlag"></div>
                                                <script>kendo.bind($("#complicationFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr id="gynecologyOthFlagTr">
                                        <td class="col-xs-6">
                                            <div class="col-xs-10" >
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-12 control-label"
                                                           style="text-align: left"><@spring.message "fms.ordcustomer.gynecologyOthFlag"/></label>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="gynecologyOthDescDiv">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.insurant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="gynecologyOthDesc" name="gynecologyOthDesc" type="text" placeholder='<@spring.message "fms.ordorder.insurantdetail"/>' class="k-textbox" data-bind="value:model.gynecologyOthDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#gynecologyOthDesc'), insurantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-11" id="gynecologyOthDesc1Div" opm="applicant">
                                                <div class="form-group" style="margin-bottom:10px">
                                                    <label class="col-xs-3 control-label" style="text-align: left"><@spring.message "fms.ordorder.applicant"/></label>
                                                    <div class="col-xs-10">
                                                    <textarea rows="3" id="gynecologyOthDesc1" name="gynecologyOthDesc1" type="text" placeholder='<@spring.message "fms.ordorder.applicantdetail"/>' class="k-textbox" data-bind="value:model.gynecologyOthDesc" style="width: 100%;">
                                                    </textarea>
                                                        <script>kendo.bind($('#gynecologyOthDesc1'), applicantVM);</script>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="col-xs-3">
                                            <div class="col-xs-10">
                                                <div id="gynecologyOthFlag" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.gynecologyOthFlag"></div>
                                                <script>kendo.bind($("#gynecologyOthFlag"), insurantVM);</script>
                                            </div>
                                        </td>
                                        <td class="col-xs-3" opm="applicant">
                                            <div class="col-xs-10">
                                                <div id="gynecologyOthFlag1" style="margin-top:5px;"  data-bind="enabled: isEnabled,value:model.gynecologyOthFlag"></div>
                                                <script>kendo.bind($("#gynecologyOthFlag1"), applicantVM);</script>
                                            </div>
                                        </td>
                                    </tr>

                                </table>
                            </div>
                            <!--上传附件-->

                            <div class="col-xs-12" id="fileInfoDiv">
                                <p class="bord-btm pad-ver text-main text-bold">
                                    <@spring.message "fms.ordorder.file"/>
                                </p>

                                <div class="text-right">
                                    <span class="btn btn-primary" onclick="addFile()"><i class="fa fa-plus-square" style="margin-right:3px;"></i><@spring.message "hap.new"/></span>
                                </div>

                                <div class="col-xs-12" id="fileDiv">
                                    <div class="col-xs-12">
                                        <div class="form-group" id="fileDiv1">
                                            <label class="col-xs-3 control-label"><@spring.message 'fms.ordfile.file1'/>：</label>
                                            <button type="button" onclick="fileDownload(1)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>
                                            <button type="button" onclick="fileUpload(1)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>
                                            <label id="fileName1"><@spring.message 'fms.ordfile.nofile'/></label>
                                        </div>
                                    </div>

                                    <div class="col-xs-12">
                                        <div class="form-group" id="fileDiv2">
                                            <label class="col-xs-3 control-label"><@spring.message 'fms.ordfile.file2'/>：</label>
                                            <button type="button" onclick="fileDownload(2)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>
                                            <button type="button" onclick="fileUpload(2)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>
                                            <label id="fileName2"><@spring.message 'fms.ordfile.nofile'/></label>
                                        </div>
                                    </div>

                                    <div class="col-xs-12">
                                        <div class="form-group" id="fileDiv3">
                                            <label class="col-xs-3 control-label"><@spring.message 'fms.ordfile.file3'/>：</label>
                                            <button type="button" onclick="fileDownload(3)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>
                                            <button type="button" onclick="fileUpload(3)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>
                                            <label id="fileName3"><@spring.message 'fms.ordfile.nofile'/></label>
                                        </div>
                                    </div>

                                    <div class="col-xs-12">
                                        <div class="form-group" id="fileDiv4">
                                            <label class="col-xs-3 control-label"><@spring.message 'fms.ordfile.file4'/>：</label>
                                            <button type="button" onclick="fileDownload(4)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>
                                            <button type="button" onclick="fileUpload(4)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>
                                            <label id="fileName4"><@spring.message 'fms.ordfile.nofile'/></label>
                                        </div>
                                    </div>

                                    <div class="col-xs-12">
                                        <div class="form-group" id="fileDiv5">
                                            <label class="col-xs-3 control-label"><@spring.message 'fms.ordfile.file5'/>：</label>
                                            <button type="button" onclick="fileDownload(5)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>
                                            <button type="button" onclick="fileUpload(5)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>
                                            <label id="fileName5"><@spring.message 'fms.ordfile.nofile'/></label>
                                        </div>
                                    </div>

                                    <div class="col-xs-12">
                                        <div class="form-group" id="fileDiv6">
                                            <label class="col-xs-3 control-label"><@spring.message 'fms.ordfile.file6'/>：</label>
                                            <button type="button" onclick="fileDownload(6)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>
                                            <button type="button" onclick="fileUpload(6)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>
                                            <label id="fileName6"><@spring.message 'fms.ordfile.nofile'/></label>
                                        </div>
                                    </div>

                                    <div class="col-xs-12">
                                        <div class="form-group" id="fileDiv7">
                                            <label class="col-xs-3 control-label"><@spring.message 'fms.ordfile.file7'/>：</label>
                                            <button type="button" onclick="fileDownload(7)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>
                                            <button type="button" onclick="fileUpload(7)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>
                                            <label id="fileName7"><@spring.message 'fms.ordfile.nofile'/></label>
                                        </div>
                                    </div>

                                    <div class="col-xs-12">
                                        <div class="form-group" id="fileDiv8">
                                            <label class="col-xs-3 control-label"><@spring.message 'fms.ordfile.file8'/>：</label>
                                            <button type="button" onclick="fileDownload(8)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>
                                            <button type="button" onclick="fileUpload(8)" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>
                                            <label id="fileName8"><@spring.message 'fms.ordfile.nofile'/></label>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <!--备注-->

                            <div class="col-xs-12" id="descriptionDiv">
                                <div class="form-group">
                                    <label class="col-xs-1 control-label"><@spring.message "hap.comment"/></label>
                                    <div class="col-xs-9">
                                        <textarea type="text" rows="6" style="width:100%" class="k-textbox" id="description" name="description" data-bind="value:model.description"></textarea>
                                        <script>kendo.bind($('#description'), viewModel);</script>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--售后/续保-->
                        <div>
                            <div class="col-xs-12" id="renewalDiv">
                                <p class="bord-btm pad-ver text-main text-bold">
                                    <@spring.message "fms.ordorder.renewalinfo"/>
                                </p>

                                <div style="clear:both">
                                    <div id="reGrid"></div>
                                </div>


                                <div class="col-xs-12" style="margin-top:15px">
                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.ddaflag"/></label>
                                            <div class="col-xs-8">
                                                <input id="ddaFlag" name="ddaFlag" type="text" data-bind="value:model.ddaFlag" style="width: 100%;">
                                                <script>kendo.bind($('#ddaFlag'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.ddaSubmitDate"/></label>
                                            <div class="col-xs-8">
                                                <input id="ddaSubmitDate" name="ddaSubmitDate" type="text" data-bind="value:model.ddaSubmitDate" style="width: 100%;">
                                                <script>kendo.bind($('#ddaSubmitDate'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.ddaEffectiveDate"/></label>
                                            <div class="col-xs-8">
                                                <input id="ddaEffectiveDate" name="ddaEffectiveDate" type="text" data-bind="value:model.ddaEffectiveDate" style="width: 100%;">
                                                <script>kendo.bind($('#ddaEffectiveDate'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-12">

                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.currency"/></label>
                                            <div class="col-xs-8">
                                                <input id="balanceCurrency" name="balanceCurrency" type="text" data-bind="value:model.balanceCurrency" style="width: 100%;">
                                                <script>kendo.bind($('#balanceCurrency'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.feedbackBalance"/></label>
                                            <div class="col-xs-8">
                                                <input id="feedbackBalance" name="feedbackBalance" type="text" data-bind="value:model.feedbackBalance" style="width: 100%;">
                                                <script>kendo.bind($('#feedbackBalance'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.OrdOrder.accountBalance"/></label>
                                            <div class="col-xs-8">
                                                <input id="accountBalance" name="accountBalance" type="text" data-bind="value:model.accountBalance" style="width: 100%;">
                                                <script>kendo.bind($('#accountBalance'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-xs-12">

                                    <div class="col-xs-4" >
                                        <div class="form-group" style="margin-bottom:10px">
                                            <label class="col-xs-4 control-label"
                                                   style="text-align: right"><@spring.message "fms.ordorder.balancepaymentmethod"/></label>
                                            <div class="col-xs-8">
                                                <input id="balancePaymentMethod" name="balancePaymentMethod" type="text" data-bind="value:model.balancePaymentMethod" style="width: 100%;">
                                                <script>kendo.bind($('#balancePaymentMethod'), viewModel);</script>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-xs-12" id="afGridDiv">
                                <div style="clear:both" style="margin-top:10px">
                                    <div id="afGrid"></div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>

            <div class="panel-footer text-right">
                <span onclick="saveData()" class="btn btn-success" id="btn_save" type="submit" style="width: 100px;margin-right:5px;"><i class="fa fa-save" style="margin-right:3px;"></i><@spring.message "hap.save"/></span>
                <span onclick="cancelData()" class="btn btn-default" id="btn_cancel" style="width: 100px;margin-right:5px;"><i class="fa fa-reply" style="margin-right:3px;"></i><@spring.message "hap.cancel"/></span>
            </div>
            <iframe id="ifile" style="display:none"></iframe>
        </form>
        </div>

    </div>
    <!--<script>kendo.bind($('#page-content'), viewModel);</script>-->

<script type="text/javascript">

    $('#page-content').kendoValidator({
        errorTemplate: '<div class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" style="margin: 0.5em; display: block;" role="alert"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>'
    });

    //动态生成预约资料上的付款方式
    function init(){
        if (viewModel.model.firstPaymentMethod != null) {
            var firstPaymentMethod = viewModel.model.firstPaymentMethod;
            var first=firstPaymentMethod.split(",");
        }

        var value= '';

        $.each(firstData,function(i,n){
            var html = '';
            value = '';
            for (var k in first) {
                if (n.value == first[k]) {
                    value = "Y";
                }
            }
            var div = document.createElement('div');
            if (value=="Y") {
                html = '<input type="checkbox" opm="first" checked name="' +n.value+ '" value="'+ value +'"><label style="margin-left:5px;margin-right: 30px;margin-top: 6px">'+n.meaning+'</label>'

            } else {
                html = '<input type="checkbox" opm="first" name="' +n.value+ '" value="'+ value +'"><label style="margin-left:5px;margin-right: 30px;margin-top: 6px">'+n.meaning+'</label>'

            }
            div.innerHTML=html;
            div.style="float:left;";
            document.getElementById('firstData').appendChild(div);
            $("input[opm='first']").kendoCheckbox({
                checkedValue: 'Y',
                uncheckedValue: 'N'
            });
        })

        if (viewModel.model.renewalPaymentMethod != null) {
            var renewalPaymentMethod = viewModel.model.renewalPaymentMethod;
            var renewal=renewalPaymentMethod.split(",");
        }

        $.each(renewalData,function(i,n){
            var html ='';
            value = '';
            for (var k in renewal) {

                if (n.value == renewal[k]) {
                    value = "Y";
                }
            }

            var div = document.createElement('div');
            if (value=="Y") {
                html = '<input type="checkbox" opm="renewal" checked name="' +n.value+ '" value="'+ value+'"><label style="margin-left:5px;margin-right: 30px;margin-top: 6px">'+n.meaning+'</label>'

            } else {
                html = '<input type="checkbox" opm="renewal" name="' +n.value+ '" value="'+ value+'"><label style="margin-left:5px;margin-right: 30px;margin-top: 6px">'+n.meaning+'</label>'

            }
            if (n.value == "OTHER") {
                html += '<input id="renewalOther" name="renewalOther" type="text" class="k-textbox" data-bind="value:model.renewalOther" style="width: 50%;">';
            }
            div.innerHTML=html;
            div.style="float:left;";
            document.getElementById('renewalData').appendChild(div);
            $("input[opm='renewal']").kendoCheckbox({
                checkedValue: 'Y',
                uncheckedValue: 'N'
            });
            kendo.bind($('#renewalOther'), viewModel);
    })
    }
    init();

    $("#statusDesc").attr("readonly",true).css("background", "#DDDDDD");

    $("#companyChannelName").attr("readonly",true).css("background", "#DDDDDD");

    $("#productSupplierId").attr("readonly",true).css("background", "#DDDDDD");
    $("#itemId").attr("readonly",true).css("background", "#DDDDDD");

    $("#payPeriods").attr("readonly",true).css("background", "#DDDDDD");
    $("#chineseName").attr("readonly",true).css("background", "#DDDDDD");
    $("#chineseName1").attr("readonly",true).css("background", "#DDDDDD");

    $("#introducerName").attr("readonly",true).css("background", "#DDDDDD");
    $("#introduceBenefit").attr("readonly",true).css("background", "#DDDDDD");

    $("#introduceBenefit").kendoNumericTextBox({
        format: "p2",
        step:0.01,
        min:0,
        max:1,
        decimals: 4
    });

    $("#introduceBenefit").data("kendoNumericTextBox").enable(false);

    $("#channelId").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "ORD_CHANNEL_USER")}, {

        change:function (e) {
            viewModel.model.set("contractRoleId",null);
            viewModel.model.set("roleName",null);
        }
    }));

    $("#roleName").attr("readonly",true).css("background", "#DDDDDD");
    $("#preName").attr("readonly",true).css("background", "#DDDDDD");

    $("#fillUserId").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "ORD_FILL_OUT")}, {
        query: function(e) {
            e.param['channelContractId'] =  viewModel.model.channelContractId;
        },
        select:function (e) {
            viewModel.model.set("fillUserId",e.item.userId);
            viewModel.model.set("fillEmployeeName",e.item.employeeName);
        },
        change :function (e) {
            if (e.sender._prev == '' || e.sender._prev == null) {
                viewModel.model.set("fillUserId",null);
                viewModel.model.set("fillEmployeeName",null);
            }
        }
    }));

    $("#securityLevel").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "securityLevel",
        dataValueField: "securityLevel",
        dataSource: {
            transport: {
                read:function(options) {
                    $.ajax({
                        type   : "POST",
                        url: "${base.contextPath}/production/itemDetail/securityLevelQuery?itemId=" + viewModel.model.itemId,
                        data: {},
                        success: function(json) {
                            options.success(json.rows);
                        }
                    });
                }
            }
        }
    });



    $("#securityRegion").kendoComboBox({
        autoBind: false,
        valuePrimitive: true,
        cascadeFrom: "securityLevel",
        cascadeFromField: "securityLevel",
        filter: "contains",
        dataTextField: "securityRegion",
        dataValueField: "securityRegion",
        dataSource: {
            serverFiltering:true,
            transport: {
                read: {
                    url:"${base.contextPath}/production/itemDetail/securityRegionQuery?itemId=" + viewModel.model.itemId,
                    type : "POST"
                },
                contentType : "application/json",
                parameterMap: function(options, type) {
                    if (type === "read") {
                        var filter = options.filter.filters[0]
                        var map = {};
                        map[filter.field] = filter.value;
                        return map;
                    }
                }
            },
            schema: {
                data: 'rows'
            }
        },
    }) ;

    $("#selfpay").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "selfpay",
        dataValueField: "selfpay",
        dataSource: {
            transport: {
                read:function(options) {
                    $.ajax({
                        type   : "POST",
                        url: "${base.contextPath}/production/itemDetail/selfpayQuery?itemId=" + viewModel.model.itemId,
                        data: {},
                        success: function(json) {
                            options.success(json.rows);
                        }
                    });
                }
            }
        }
    });

    $("#securityDiv").hide();
    if (viewModel.model.minClass == "GD") {
        $("#securityDiv").show();
    } else {
        $("#securityDiv").hide();
    }

    $("#hkContactPhoneCode").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "value",
        dataValueField: "value",
        dataSource: phoneCodeData,
        change: function (e) {
            if (viewModel.model.hkContactPhoneCode == null || viewModel.model.hkContactPhoneCode == "") {
                $("#hkContactPhone").removeAttr("pattern");
            } else if (viewModel.model.hkContactPhoneCode == "86") {
                $("#hkContactPhone").attr("pattern","^\\d{11}$");
            } else if (viewModel.model.hkContactPhoneCode == "00886") {
                $("#hkContactPhone").attr("pattern","^\\d{9}$");
            } else {
                $("#hkContactPhone").attr("pattern","^\\d{8}$");
            }
        }
    });

    $("#phoneCode").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "value",
        dataValueField: "value",
        dataSource: phoneCodeData,
        change: function (e) {
            if (insurantVM.model.phoneCode == null || insurantVM.model.phoneCode == "") {
                $("#phone").removeAttr("pattern");
            } else if (insurantVM.model.phoneCode == "86") {
                $("#phone").attr("pattern","^\\d{11}$");
            } else if (insurantVM.model.phoneCode == "00886") {
                $("#phone").attr("pattern","^\\d{9}$");
            } else {
                $("#phone").attr("pattern","^\\d{8}$");
            }
        }
    });

    $("#phoneCode1").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "value",
        dataValueField: "value",
        dataSource: phoneCodeData,
        change: function (e) {
            if (applicantVM.model.phoneCode == null || applicantVM.model.phoneCode == "" || applicantVM.model.sameFlag == "SELF") {
                $("#phone1").removeAttr("pattern");
            } else if (applicantVM.model.phoneCode == "86") {
                $("#phone1").attr("pattern","^\\d{11}$");
            } else if (applicantVM.model.phoneCode == "00886") {
                $("#phone1").attr("pattern","^\\d{9}$");
            } else {
                $("#phone1").attr("pattern","^\\d{8}$");
            }
        }
    });

    $("#signAssistant").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "ORD_SIGN_ASSISTANT")}, {
        query: function(e) {
            e.param['channelContractId'] =  viewModel.model.channelContractId;
        },
        select:function (e) {
            viewModel.model.set("signAssistant",e.item.userId);
            viewModel.model.set("signAssistantName",e.item.employeeName);
        },
        change :function (e) {
            if (e.sender._prev == '' || e.sender._prev == null) {
                viewModel.model.set("signAssistant",null);
                viewModel.model.set("signAssistantName",null);
            }
        }
    }));

    $("#signPerson").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "ORD_SIGN_TR")}, {
        query: function(e) {
            e.param['supplierId'] =  viewModel.model.signSupplierId;
        },
        select:function (e) {
            viewModel.model.set("signPerson",e.item.employeeName);
        },
        change :function (e) {
            if (e.sender._prev == '' || e.sender._prev == null) {
                viewModel.model.set("signPerson",null);
            }
        }
    }));


    $("#reserveSupplierId").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "CMN_TRADE_ROUTE")}, {
        query: function(e) {
            e.param['channelId'] = viewModel.model.channelId;
            e.param['itemId'] =  viewModel.model.itemId;
            var age = getAge();
            e.param['insurantAge'] = age;
            e.param['contributionPeriod'] = viewModel.model.sublineItemName;
            e.param['currency'] =  viewModel.model.currency;
            e.param['payMethod'] = viewModel.model.payMethod;
            e.param['supplierLimit'] = "Y";

            var addData = addDataSource.data();
            var addItems="";
            var addCount=0;
            for (var i = 0; i < addData.length; i++) {
                if (addData[i].itemId != null && addData[i].sublineItemName != null && addData[i].sublineItemName != "") {
                    addItems = addItems + "," + addData[i].itemId + "-" + addData[i].sublineItemName;
                    addCount = addCount + 1;
                }
            }
            if (addItems != "") {
                addItems = addItems + ",";
                e.param['addItems'] = addItems;
                e.param['addCount'] = addCount;
            }

            var d = new Date(viewModel.model.reserveDate);
            var curr_date = d.getDate();
            var curr_month = d.getMonth() + 1;
            var curr_year = d.getFullYear();
            String(curr_month).length < 2 ? (curr_month = "0" + curr_month): curr_month;
            String(curr_date).length < 2 ? (curr_date = "0" + curr_date): curr_date;
            var date = curr_year + "-" + curr_month +"-"+ curr_date;

            e.param['reserveDateSting'] =  date;
        },
        select:function (e) {
            viewModel.model.set("channelCommissionLineId",e.item.lineId);
            viewModel.model.set("signSupplierId",e.item.signSupplierId);
            viewModel.model.set("signSupplierName",e.item.signSupplierName);
            viewModel.model.set("ownSupplierId",e.item.ownSupplierId);
            viewModel.model.set("channelContractId",e.item.channelContractId);
            viewModel.model.set("dealPath",e.item.dealPath);
        },
        change :function (e) {
            if (e.sender._prev == '' || e.sender._prev == null) {
                viewModel.model.set("channelCommissionLineId",null);
                viewModel.model.set("signSupplierId",null);
                viewModel.model.set("signSupplierName",null);
                viewModel.model.set("ownSupplierId",null);
                viewModel.model.set("signPerson",null);
                viewModel.model.set("signAssistant",null);
                viewModel.model.set("signAssistantName",null);
                viewModel.model.set("channelContractId",null);
                viewModel.model.set("dealPath",null);
            }
        }
    }));
    
   /*  $("#turnCompany").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "SPE_SUPPLIER_NAME")}, {
        query: function (e) {}
    })); */

    $("#signSupplierName").attr("readonly", true).css("background", "#DDDDDD");

    function selectItem(){
        if (viewModel.model.channelId == null) {
            kendo.ui.showInfoDialog({
                title: $l('hap.tip.info'),
                message: "请先填写渠道后再选择产品信息！"
            });
        } else {
            var url = 'order_item.html?orderId=' + viewModel.model.orderId + '&channelId=' + viewModel.model.channelId;
            var proWin = $("#proWin").kendoWindow({
                width: 800,
                height: 300,
                title: '<@spring.message "fms.ordorder.item"/>',
                content: url,
                iframe: true,
                visible: false,
                modal: true
            }).data("kendoWindow");
            proWin.center().open();
        }
    }
    function showItemClear(data){
        if(data == "1")$("#itemClear").css("display","");
        else{
            $("#itemClear").css("display","none");
        }
    };
    function clearItemData(){
        $("#item").val('');
        viewModel.model.set("productSupplierId",null);
        viewModel.model.set("itemId",null);
        viewModel.model.set("sublineId",null);
        viewModel.model.set("currency",null);
        viewModel.model.set("payMethod",null);
        currencyRows = [];
        payMethodRows = [];

        $('#currency').data('kendoComboBox').setDataSource(currencyRows);
        $('#payMethod').data('kendoComboBox').setDataSource(payMethodRows);
    }

    function selectApplicant(){
        var url = 'order_customer.html?cstType="Applicant"&channelId=' + viewModel.model.channelId;
        var appWin =  $("#appWin").kendoWindow({
            width: 800,
            height: 600,
            title: '<@spring.message "fms.ordorder.applicant"/>',
            content: url,
            iframe:  true,
            visible: false,
            modal:true
        }).data("kendoWindow");
        appWin.center().open();
    }
    function showApplicantClear(data){
        if(data == "1")$("#applicantClear").css("display","");
        else{
            $("#applicantClear").css("display","none");
        }
    };
    function clearApplicantData(){
        viewModel.model.set("applicant",null);
        viewModel.model.set("applicantCustomerId",null);
    }

    function selectInsurant(){
        var url = 'order_customer.html?cstType="Insurant"&channelId=' + viewModel.model.channelId;
        var insWin =  $("#insWin").kendoWindow({
            width: 800,
            height: 600,
            title: '<@spring.message "fms.ordorder.insurant"/>',
            content: url,
            iframe:  true,
            visible: false,
            modal:true
        }).data("kendoWindow");
        insWin.center().open();
    }
    function showInsurantClear(data){
        if(data == "1")$("#insurantClear").css("display","");
        else{
            $("#insurantClear").css("display","none");
        }
    };
    function clearInsurantData(){
        viewModel.model.set("insurant",null);
        viewModel.model.set("insurantCustomerId",null);
    }

    $("#currency").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "currency",
        dataValueField: "currencyCode",
        dataSource: currencyRows,
        change : function(e) {
            if (viewModel.model.channelId != null && viewModel.model.itemId != null && viewModel.model.sublineItemName != null
                && viewModel.model.currency != null && viewModel.model.payMethod != null && viewModel.model.reserveDate != null) {
                var trRows;
                var d = new Date(viewModel.model.reserveDate);
                var curr_date = d.getDate();
                var curr_month = d.getMonth() + 1;
                var curr_year = d.getFullYear();
                String(curr_month).length < 2 ? (curr_month = "0" + curr_month): curr_month;
                String(curr_date).length < 2 ? (curr_date = "0" + curr_date): curr_date;
                var date = curr_year + "-" + curr_month +"-"+ curr_date;

                var addData = addDataSource.data();
                var itemIds = [];
                for (var i = 0; i < addData.length; i++) {
                    var item = {itemId:addData[i].itemId,sublineItemName:addData[i].sublineItemName};
                    itemIds.push(item);
                }

                var obj = {};
                obj['channelId'] = viewModel.model.channelId;
                obj['itemId'] = viewModel.model.itemId ;
                obj['contributionPeriod'] = viewModel.model.sublineItemName;
                obj['currency'] = viewModel.model.currency ;
                obj['payMethod'] = viewModel.model.payMethod;
                obj['effectiveDate'] = date ;
                obj['dealPath'] = viewModel.model.dealPath;
                obj['additionRiskList'] = itemIds ;

                $.ajax({
                    type: "POST",
                    async: false,
                    contentType: 'application/json',
                    url: "${base.contextPath}/fms/ord/order/validateTradeRoute",
                    data: JSON.stringify(obj),
                    success: function (json) {
                        trRows = json.rows;
                    }
                });

                if (trRows.length == 0) {
                    viewModel.model.set('currency', null);
                    kendo.ui.showInfoDialog({
                        title: $l('hap.tip.info'),
                        message: "您选择的产品无转介费，暂时无法预约，请联系您的上线或供应商！"
                    });
                }
            }

        },

    });

    $("#productSupplierId").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "CMN_PRODUCT_COMPANY")}, {
        query: function(e) {
            e.param['businessScope'] = "保险";
        },
        change:function (e) {
            viewModel.model.set("itemId",null);
            viewModel.model.set("itemName",null);
            viewModel.model.set('stockCode', null);
            viewModel.model.set('annualInterest', null);
            viewModel.model.set('dividendPeriod', null);
            viewModel.model.set('subscriptionFee', null);
            viewModel.model.set('custodyFee', null);

        },
        select: function(e) {
            viewModel.model.set('productSupplierName', e.item.name);
            viewModel.model.set('ageCalculateStandard',e.item.ageCalculateStandard);
        }
    }));

    $("#itemId").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "ORD_ITEM")}, {
        query: function(e) {
            e.param['bigClass'] = "BX";
            if(viewModel.model.productSupplierId != null){
                e.param['supplierId'] = viewModel.model.productSupplierId;
            }
        },
        change:function (e) {
            viewModel.model.set("sublineId",null);
            viewModel.model.set("sublineItemName",null);

            if (e.sender._prev == '' || e.sender._prev == null) {
                viewModel.model.set('itemName', null);
                viewModel.model.set('minClass', null);
                viewModel.model.set('fullyear', null);
                viewModel.model.set('oneyear', null);
                viewModel.model.set('halfyear', null);
                viewModel.model.set('quarter', null);
                viewModel.model.set('onemonth', null);
                viewModel.model.set('prepayFlag', null);
            }

            currencyRows = [];
            for (var i=0;i<currencyAllRows.length;i++) {
                if (currencyAllRows[i].itemId == viewModel.model.itemId) {
                    currencyRows.push(currencyAllRows[i]);
                }
            }

            $('#currency').data('kendoComboBox').setDataSource(currencyRows);

            payMethodRows = [];
            for (var i=0;i<payMethodData.length;i++) {
                if (payMethodData[i].value == "AP" && viewModel.model.oneyear == "Y") {
                    payMethodRows.push(payMethodData[i]);
                }

                if (payMethodData[i].value == "WP" && viewModel.model.fullyear == "Y") {
                    payMethodRows.push(payMethodData[i]);
                }

                if (payMethodData[i].value == "SAP" && viewModel.model.halfyear == "Y") {
                    payMethodRows.push(payMethodData[i]);
                }

                if (payMethodData[i].value == "QP" && viewModel.model.quarter == "Y") {
                    payMethodRows.push(payMethodData[i]);
                }

                if (payMethodData[i].value == "MP" && viewModel.model.onemonth == "Y") {
                    payMethodRows.push(payMethodData[i]);
                }

                if (payMethodData[i].value == "FJ" && viewModel.model.prepayFlag == "Y") {
                    payMethodRows.push(payMethodData[i]);
                }
            }

            $('#payMethod').data('kendoComboBox').setDataSource(payMethodRows);

            $("#securityDiv").hide();
            if (viewModel.model.minClass == "GD") {
                $("#securityDiv").show();
                $('#securityLevel').data('kendoComboBox').setDataSource({
                    transport: {
                        read:function(options) {
                            $.ajax({
                                type   : "POST",
                                url: "${base.contextPath}/production/itemDetail/securityLevelQuery?itemId=" + viewModel.model.itemId,
                                data: {},
                                success: function(json) {
                                    options.success(json.rows);
                                }
                            });
                        }
                    }
                });

                $('#securityRegion').data('kendoComboBox').setDataSource({
                    serverFiltering:true,
                    transport: {
                        read: {
                            url:"${base.contextPath}/production/itemDetail/securityRegionQuery?itemId=" + viewModel.model.itemId,
                            type : "POST"
                        },
                        contentType : "application/json",
                        parameterMap: function(options, type) {
                            if (type === "read") {
                                var filter = options.filter.filters[0]
                                var map = {};
                                map[filter.field] = filter.value;
                                return map;
                            }
                        }
                    },
                    schema: {
                        data: 'rows'
                    }
                });

                $('#selfpay').data('kendoComboBox').setDataSource({
                    transport: {
                        read:function(options) {
                            $.ajax({
                                type   : "POST",
                                url: "${base.contextPath}/production/itemDetail/selfpayQuery?itemId=" + viewModel.model.itemId,
                                data: {},
                                success: function(json) {
                                    options.success(json.rows);
                                }
                            });
                        }
                    }
                });


            } else {
                $("#securityDiv").hide();
                viewModel.model.set("securityLevel", null);
                viewModel.model.set("securityRegion", null);
                viewModel.model.set("selfpay", null);
            }
        },
        select: function(e) {
            viewModel.model.set('itemName', e.item.itemName);
            viewModel.model.set('minClass', e.item.minClass);
            viewModel.model.set('fullyear', e.item.fullyear);
            viewModel.model.set('oneyear', e.item.oneyear);
            viewModel.model.set('halfyear', e.item.halfyear);
            viewModel.model.set('quarter', e.item.quarter);
            viewModel.model.set('onemonth', e.item.onemonth);
            viewModel.model.set('prepayFlag', e.item.prepayFlag);
        }
    }));

    $("#sublineId").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "ORD_SUBLINE")}, {
        query: function(e) {
            e.param['channelId'] = viewModel.model.channelId;
            if(viewModel.model.itemId != null){
                e.param['itemId'] = viewModel.model.itemId;
            }
        },
        select: function(e) {
            viewModel.model.set('sublineItemName', e.item.sublineItemName);
        },
        change : function(e) {
            if (viewModel.model.channelId != null && viewModel.model.itemId != null && viewModel.model.sublineItemName != null
                && viewModel.model.currency != null && viewModel.model.payMethod != null && viewModel.model.reserveDate != null) {
                var trRows;
                var d = new Date(viewModel.model.reserveDate);
                var curr_date = d.getDate();
                var curr_month = d.getMonth() + 1;
                var curr_year = d.getFullYear();
                String(curr_month).length < 2 ? (curr_month = "0" + curr_month): curr_month;
                String(curr_date).length < 2 ? (curr_date = "0" + curr_date): curr_date;
                var date = curr_year + "-" + curr_month +"-"+ curr_date;

                var addData = addDataSource.data();
                var itemIds = [];
                for (var i = 0; i < addData.length; i++) {
                    var item = {itemId:addData[i].itemId,sublineItemName:addData[i].sublineItemName};
                    itemIds.push(item);
                }

                var obj = {};
                obj['channelId'] = viewModel.model.channelId;
                obj['itemId'] = viewModel.model.itemId ;
                obj['contributionPeriod'] = viewModel.model.sublineItemName;
                obj['currency'] = viewModel.model.currency ;
                obj['payMethod'] = viewModel.model.payMethod;
                obj['effectiveDate'] = date ;
                obj['dealPath'] = viewModel.model.dealPath;
                obj['additionRiskList'] = itemIds ;

                $.ajax({
                    type: "POST",
                    async: false,
                    contentType: 'application/json',
                    url: "${base.contextPath}/fms/ord/order/validateTradeRoute",
                    data: JSON.stringify(obj),
                    success: function (json) {
                        trRows = json.rows;
                    }
                });

                if (trRows.length == 0) {
                    viewModel.model.set('sublineId', null);
                    viewModel.model.set('sublineItemName', null);
                    kendo.ui.showInfoDialog({
                        title: $l('hap.tip.info'),
                        message: "您选择的产品无转介费，暂时无法预约，请联系您的上线或供应商！"
                    });
                }
            }

        },
    }));

    $("#applicantCustomerId").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "ORD_CUSTOMER")}, {}));

    $("#insurantCustomerId").kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "ORD_CUSTOMER")}, {}));

    $("#increaseFlag").kendoCheckbox({
        checkedValue: 'Y',
        uncheckedValue: 'N'
    });

    $("#payMethod").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: payMethodRows,
        change : function(e) {

            if (viewModel.model.channelId != null && viewModel.model.itemId != null && viewModel.model.sublineItemName != null
                && viewModel.model.currency != null && viewModel.model.payMethod != null && viewModel.model.reserveDate != null) {
                var trRows;

                var d = new Date(viewModel.model.reserveDate);
                var curr_date = d.getDate();
                var curr_month = d.getMonth() + 1;
                var curr_year = d.getFullYear();
                String(curr_month).length < 2 ? (curr_month = "0" + curr_month) : curr_month;
                String(curr_date).length < 2 ? (curr_date = "0" + curr_date) : curr_date;
                var date = curr_year + "-" + curr_month + "-" + curr_date;

                var addData = addDataSource.data();
                var itemIds = [];
                for (var i = 0; i < addData.length; i++) {
                    var item = {itemId:addData[i].itemId,sublineItemName:addData[i].sublineItemName};
                    itemIds.push(item);
                }

                var obj = {};
                obj['channelId'] = viewModel.model.channelId;
                obj['itemId'] = viewModel.model.itemId ;
                obj['contributionPeriod'] = viewModel.model.sublineItemName;
                obj['currency'] = viewModel.model.currency ;
                obj['payMethod'] = viewModel.model.payMethod;
                obj['effectiveDate'] = date ;
                obj['dealPath'] = viewModel.model.dealPath;
                obj['additionRiskList'] = itemIds ;

                $.ajax({
                    type: "POST",
                    async: false,
                    contentType: 'application/json',
                    url: "${base.contextPath}/fms/ord/order/validateTradeRoute",
                    data: JSON.stringify(obj),
                    success: function (json) {
                        trRows = json.rows;
                    }
                });

                if (trRows.length == 0) {
                    viewModel.model.set("payMethod", null);
                    kendo.ui.showInfoDialog({
                        title: $l('hap.tip.info'),
                        message: "您选择的产品无转介费，暂时无法预约，请联系您的上线或供应商！"
                    });
                }
            }

            if (viewModel.model.firstPayDate == null || viewModel.model.firstPayDate == ""
                || viewModel.model.payMethod == null || viewModel.model.payMethod == "") {
                viewModel.model.set("nextPolicyDueDate", null);
                viewModel.model.set("renewalDueDate",null);
            } else {
                var date = new Date(viewModel.model.firstPayDate);
                if (viewModel.model.payMethod == "MP") {
                    date = addmulMonth(date, 1);
                    viewModel.model.set("nextPolicyDueDate", date);
                    viewModel.model.set("renewalDueDate",date);
                } else if (viewModel.model.payMethod == "QP") {
                    date = addmulMonth(date, 3);
                    viewModel.model.set("nextPolicyDueDate", date);
                    viewModel.model.set("renewalDueDate",date);
                } else if (viewModel.model.payMethod == "SAP") {
                    date = addmulMonth(date, 6);
                    viewModel.model.set("nextPolicyDueDate", date);
                    viewModel.model.set("renewalDueDate",date);
                } else {
                    date.setFullYear(date.getFullYear() + 1);
                    viewModel.model.set("nextPolicyDueDate", date);
                    viewModel.model.set("renewalDueDate",date);
                }

                var administrativeDate;
                if (viewModel.model.gracePeriod != null) {
                    date = new Date(date.getFullYear(),date.getMonth(),date.getDate()+viewModel.model.gracePeriod);
                    viewModel.model.set("graceDate",date);
                }
                if (viewModel.model.administrativePeriod != null && viewModel.model.administrativePeriod != 0) {
                    administrativeDate = new Date(date.getFullYear(),date.getMonth(),date.getDate()+viewModel.model.administrativePeriod);
                    viewModel.model.set("administrativeDate",administrativeDate);
                }
            }

        },
    });

    $("#yearPayAmount").kendoNumericTextBox({min:0});

    $("#policyAmount").kendoNumericTextBox({min:0});

    $("#submitDate").kendoDateTimePicker({
        format: "yyyy-MM-dd HH:mm:ss"
    });

    $("#reserveDate").kendoDateTimePicker({
        format: "yyyy-MM-dd HH:mm",
        change : function (e) {

            if (viewModel.model.channelId != null && viewModel.model.itemId != null && viewModel.model.sublineItemName != null
                && viewModel.model.currency != null && viewModel.model.payMethod != null && viewModel.model.reserveDate != null) {
                var trRows;
                var d = new Date(viewModel.model.reserveDate);
                var curr_date = d.getDate();
                var curr_month = d.getMonth() + 1;
                var curr_year = d.getFullYear();
                String(curr_month).length < 2 ? (curr_month = "0" + curr_month) : curr_month;
                String(curr_date).length < 2 ? (curr_date = "0" + curr_date) : curr_date;
                var date = curr_year + "-" + curr_month + "-" + curr_date;

                var addData = addDataSource.data();
                var itemIds = [];
                for (var i = 0; i < addData.length; i++) {
                    var item = {itemId:addData[i].itemId,sublineItemName:addData[i].sublineItemName};
                    itemIds.push(item);
                }

                var obj = {};
                obj['channelId'] = viewModel.model.channelId;
                obj['itemId'] = viewModel.model.itemId ;
                obj['contributionPeriod'] = viewModel.model.sublineItemName;
                obj['currency'] = viewModel.model.currency ;
                obj['payMethod'] = viewModel.model.payMethod;
                obj['effectiveDate'] = date ;
                obj['dealPath'] = viewModel.model.dealPath;
                obj['additionRiskList'] = itemIds ;

                $.ajax({
                    type: "POST",
                    async: false,
                    contentType: 'application/json',
                    url: "${base.contextPath}/fms/ord/order/validateTradeRoute",
                    data: JSON.stringify(obj),
                    success: function (json) {
                        trRows = json.rows;
                    }
                });

                if (trRows.length == 0) {
                    viewModel.model.set("reserveDate", null);
                    kendo.ui.showInfoDialog({
                        title: $l('hap.tip.info'),
                        message: "您选择的产品无转介费，暂时无法预约，请联系您的上线或供应商！"
                    });
                }
            }
        }
    });

    $("#effectiveDate").kendoDatePicker();

    $("#backDate").kendoDatePicker();

    $("#approveDate").kendoDatePicker();

    $("#expectCoolDate").kendoDatePicker();

    function addmulMonth(date,n){   // n个月后
        var yy = date.getFullYear();
        var mm = date.getMonth();
        var dd = date.getDate();
        var dt=new Date(yy,mm,dd)
        console.log(dt);
        console.log(n);
        dt.setMonth(dt.getMonth()+n);
        console.log(dt);
        if( (dt.getFullYear()*12+dt.getMonth()) > (yy*12+mm + n)) {
            console.log(dt.getFullYear() + dt.getMonth());
            dt=new Date(dt.getFullYear(),dt.getMonth(),0);
            console.log(dt);
        }
        return dt;
    }

    $("#firstPayDate").kendoDatePicker({
        change : function () {
            if (viewModel.model.firstPayDate == null || viewModel.model.firstPayDate == ""
                || viewModel.model.payMethod == null || viewModel.model.payMethod == "") {
                viewModel.model.set("nextPolicyDueDate", null);
                viewModel.model.set("renewalDueDate",null);
            } else {
                var date = new Date(viewModel.model.firstPayDate);
                if (viewModel.model.payMethod == "MP") {
                    date = addmulMonth(date, 1);
                    viewModel.model.set("nextPolicyDueDate", date);
                    viewModel.model.set("renewalDueDate",date);
                } else if (viewModel.model.payMethod == "QP") {
                    date = addmulMonth(date, 3);
                    viewModel.model.set("nextPolicyDueDate", date);
                    viewModel.model.set("renewalDueDate",date);
                } else if (viewModel.model.payMethod == "SAP") {
                    date = addmulMonth(date, 6);
                    viewModel.model.set("nextPolicyDueDate", date);
                    viewModel.model.set("renewalDueDate",date);
                } else {
                    date.setFullYear(date.getFullYear() + 1);
                    viewModel.model.set("nextPolicyDueDate", date);
                    viewModel.model.set("renewalDueDate",date);
                }

                var administrativeDate;
                if (viewModel.model.gracePeriod != null) {
                    date = new Date(date.getFullYear(),date.getMonth(),date.getDate()+viewModel.model.gracePeriod);
                    viewModel.model.set("graceDate",date);
                }
                if (viewModel.model.administrativePeriod != null && viewModel.model.administrativePeriod != 0) {
                    administrativeDate = new Date(date.getFullYear(),date.getMonth(),date.getDate()+viewModel.model.administrativePeriod);
                    viewModel.model.set("administrativeDate",administrativeDate);
                }
            }

        }
    });

    $("#renewalDueDate").kendoDatePicker({
        change : function () {
            var date = new Date(viewModel.model.renewalDueDate);
            viewModel.model.set("nextPolicyDueDate",date);

            var administrativeDate;
            if (viewModel.model.gracePeriod != null) {
                date = new Date(date.getFullYear(),date.getMonth(),date.getDate()+viewModel.model.gracePeriod);
                viewModel.model.set("graceDate",date);
            }
            if (viewModel.model.administrativePeriod != null && viewModel.model.administrativePeriod != 0) {
                administrativeDate = new Date(date.getFullYear(),date.getMonth(),date.getDate()+viewModel.model.administrativePeriod);
                viewModel.model.set("administrativeDate",administrativeDate);
            }
        }
    });


    $("#graceDate").kendoDatePicker();

    $("#administrativeDate").kendoDatePicker();

    $("#renewalSuccessDate").kendoDatePicker();

    $("#quickCheckFlag").kendoCheckbox({
        checkedValue: 'Y',
        uncheckedValue: 'N'
    });

    $("#eleInsuranceFlag").kendoCheckbox({
        checkedValue: 'Y',
        uncheckedValue: 'N'
    });

    $("#reserveCheckDate").kendoDateTimePicker({
        format: "yyyy-MM-dd HH:mm"
    });

    $("#reserveArrivalDate").kendoDateTimePicker({
        format: "yyyy-MM-dd HH:mm"
    });

    $("#contactPerson").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "contractPerson",
        dataValueField: "contractPerson",
        dataSource: {
            transport: {
                read:function(options) {
                    $.ajax({
                        type   : "POST",
                        url: "${base.contextPath}/fms/ord/order/queryContactPerson?supplierId=" + viewModel.model.productSupplierId,
                        data: {},
                        success: function(json) {
                            options.success(json.rows);
                        }
                    });
                }
            }
        },
        clearNoData: false
    });

    $("#contactPhone").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "contractNum",
        dataValueField: "contractNum",
        dataSource: {
            transport: {
                read:function(options) {
                    $.ajax({
                        type   : "POST",
                        url: "${base.contextPath}/fms/ord/order/queryContactPhone?supplierId=" + viewModel.model.productSupplierId,
                        data: {},
                        success: function(json) {
                            options.success(json.rows);
                        }
                    });
                }
            }
        },
        clearNoData: false
    });

    $("#signAddress").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "addr",
        dataValueField: "addr",
        dataSource: {
            transport: {
                read:function(options) {
                    $.ajax({
                        type   : "POST",
                        url: "${base.contextPath}/fms/ord/order/queryAddress?supplierId=" + viewModel.model.productSupplierId,
                        data: {},
                        success: function(json) {
                            options.success(json.rows);
                        }
                    });
                }
            }
        },
        clearNoData: false
    });


    $("#meetAddress").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "addr",
        dataValueField: "addr",
        dataSource: {
            transport: {
                read:function(options) {
                    $.ajax({
                        type   : "POST",
                        url: "${base.contextPath}/fms/ord/order/queryAddress?supplierId=" + viewModel.model.productSupplierId,
                        data: {},
                        success: function(json) {
                            options.success(json.rows);
                        }
                    });
                }
            }
        },
        clearNoData: false
    });

    //佣金TAB
    $("#companyId").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "companyName",
        dataValueField: "companyId",
        dataSource: {
            transport: {
                read:function(options) {
                    $.ajax({
                        type   : "POST",
                        url: "${base.contextPath}/fms/ord/commission/queryCompany?orderId=" + viewModel.model.orderId,
                        data: {},
                        success: function(json) {
                            options.success(json.rows);
                        }
                    });
                }
            }
        },
        select: function (e) {
            viewModel.model.set("companyType",e.dataItem.companyType);
            viewModel.model.set("companyId",e.dataItem.companyId);
            $('#comGrid').data('kendoGrid').dataSource.page(1);
        }
    });

    $("#signFee").kendoNumericTextBox();
    $("#cardFee").kendoNumericTextBox();

    //受保人信息
    $('#sameFlag').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: relationshipData,
        change : function (e) {
            if (viewModel.model.sameFlag == "SELF") {
                $("div[opm='applicant']").hide();
                $("th[opm='applicant']").hide();
                $("td[opm='applicant']").hide();

                $("#chineseName1").removeAttr("required");
                $("#englishName1").removeAttr("pattern");
                $("#phoneCode1").removeAttr("required");
                $("#phone1").removeAttr("required");
                $("#identityNumber1").removeAttr("required");
                //$("#identityNumber1").removeAttr("pattern");

                $("#phoneCode").attr("required", "required");
                $("#phone").attr("required", "required");
            } else {
                $("div[opm='applicant']").show();
                $("th[opm='applicant']").show();
                $("td[opm='applicant']").show();
                healthInit();

                $("#chineseName1").attr("required", "required");
                $("#englishName1").attr("pattern", "^([A-Za-z]+\\s?)*[A-Za-z]$");
                $("#phoneCode1").attr("required", "required");
                $("#phone1").attr("required", "required");
                $("#identityNumber1").attr("required", "required");
                //$("#identityNumber1").attr("pattern", "^[0-9a-zA-Z\\(\\)]+$");
                $("#phoneCode").removeAttr("required");
                $("#phone").removeAttr("required");
            }
        }
    });
    $("#birthDate").kendoDatePicker();
//    $("#identityEffectiveDate").kendoDatePicker();
//    $("#certificateEffectiveDate").kendoDatePicker();

    $('#sex').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: genderList,
        select : function (e) {
            if (e.dataItem.value == "M" && applicantVM.model.sex == "M") {
                $("#pregnancyFlagTr").hide();
                $("#downTestFlagTr").hide();
                $("#gynecologyFlagTr").hide();
                $("#complicationFlagTr").hide();
                $("#gynecologyOthFlagTr").hide();
            } else {
                $("#pregnancyFlagTr").show();
                $("#downTestFlagTr").show();
                $("#gynecologyFlagTr").show();
                $("#complicationFlagTr").show();
                $("#gynecologyOthFlagTr").show();
            }
        }
    });
    $('#nationality').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: nationList,
    });

    $('#americanCitizenFlag').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: yesNoData,
    });
    $('#certificateType').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: cartificateList,
    });
    $('#identityFlag').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: yesNoData,
    });
    $('#education').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: diplomaList,
    });
    $('#marriageStatus').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: maritalList,
    });

    $("#height").kendoNumericTextBox({
        format: "# cm",
        decimals: 0,
        min:1,
        max: 300,

    });
    $("#weight").kendoNumericTextBox({
        format: "# kg",
        decimals: 0,
        min:1,
        max: 300,
    });
    $("#income").kendoNumericTextBox({
        format:"#,###",
        decimals: 0,
        min:0,
    });

    $("#amountPerMonth").kendoNumericTextBox({
        format:"#,###",
        decimals: 0,
        min:0,
    });

    $("#currentAssets").kendoNumericTextBox({
        format:"#,###",
        decimals: 0,
        min:0,
    });

    $("#fixedAssets").kendoNumericTextBox({
        format:"#,###",
        decimals: 0,
        min:0,
    });

    $("#liabilities").kendoNumericTextBox({
        format:"#,###",
        decimals: 0,
        min:0,
    });


    //三级联动延迟300毫秒执行
    setTimeout(function(){
        var identityNation = {elementId: '#identityNation', source: nationList, },
            identityProvince = {elementId: '#identityProvince', source: provinceList, },
            identityCity = {elementId: '#identityCity', source: cityList, };
        $.clbCascade(identityNation, identityProvince, identityCity);

        var postNation = {elementId: '#postNation', source: nationList, },
            postProvince = {elementId: '#postProvince', source: provinceList, },
            postCity = {elementId: '#postCity', source: cityList, };
        $.clbCascade(postNation, postProvince, postCity);

        var companyNation = {elementId: '#companyNation', source: nationList, },
            companyProvince = {elementId: '#companyProvince', source: provinceList, },
            companyCity = {elementId: '#companyCity', source: cityList, };
        $.clbCascade(companyNation, companyProvince, companyCity);
    },500);

    //投保人信息
    $("#birthDate1").kendoDatePicker();
//    $("#identityEffectiveDate1").kendoDatePicker();
//    $("#certificateEffectiveDate1").kendoDatePicker();

    $('#sex1').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: genderList,
        select : function (e) {
            if (e.dataItem.value == "M" && insurantVM.model.sex == "M") {
                $("#pregnancyFlagTr").hide();
                $("#downTestFlagTr").hide();
                $("#gynecologyFlagTr").hide();
                $("#complicationFlagTr").hide();
                $("#gynecologyOthFlagTr").hide();
            } else {
                $("#pregnancyFlagTr").show();
                $("#downTestFlagTr").show();
                $("#gynecologyFlagTr").show();
                $("#complicationFlagTr").show();
                $("#gynecologyOthFlagTr").show();
            }
        }
    });
    $('#nationality1').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: nationList,
    });

    $('#americanCitizenFlag1').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: yesNoData,
    });
    $('#certificateType1').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: cartificateList,
    });
    $('#identityFlag1').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: yesNoData,
    });
    $('#education1').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: diplomaList,
    });
    $('#marriageStatus1').kendoDropDownList({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: maritalList,
    });

    $("#height1").kendoNumericTextBox({
        format: "# cm",
        decimals: 0,
        min:1,
        max: 300,

    });
    $("#weight1").kendoNumericTextBox({
        format: "# kg",
        decimals: 0,
        min:1,
        max: 300,
    });
    $("#income1").kendoNumericTextBox({
        format:"#,###",
        decimals: 0,
        min:0,
    });

    $("#amountPerMonth1").kendoNumericTextBox({
        format:"#,###",
        decimals: 0,
        min:0,
    });

    $("#currentAssets1").kendoNumericTextBox({
        format:"#,###",
        decimals: 0,
        min:0,
    });

    $("#fixedAssets1").kendoNumericTextBox({
        format:"#,###",
        decimals: 0,
        min:0,
    });

    $("#liabilities1").kendoNumericTextBox({
        format:"#,###",
        decimals: 0,
        min:0,
    });

    $("#premiumRate").kendoNumericTextBox({
        format: "#.00 '%'",
        step:0.01,
        min:0,
        max:100
    });
    $("#premiumRate1").kendoNumericTextBox({
        format: "#.00 '%'",
        step:0.01,
        min:0,
        max:100
    });

    $("#badEffactiveDate").kendoDatePicker();
    $("#badEffactiveDate1").kendoDatePicker();
    $("#guaranteeEffactiveDate").kendoDatePicker();

    //三级联动延迟300毫秒执行
    setTimeout(function(){
        var identityNation = {elementId: '#identityNation1', source: nationList, },
            identityProvince = {elementId: '#identityProvince1', source: provinceList, },
            identityCity = {elementId: '#identityCity1', source: cityList, };
        $.clbCascade(identityNation, identityProvince, identityCity);

        var postNation = {elementId: '#postNation1', source: nationList, },
            postProvince = {elementId: '#postProvince1', source: provinceList, },
            postCity = {elementId: '#postCity1', source: cityList, };
        $.clbCascade(postNation, postProvince, postCity);

        var companyNation = {elementId: '#companyNation1', source: nationList, },
            companyProvince = {elementId: '#companyProvince1', source: provinceList, },
            companyCity = {elementId: '#companyCity1', source: cityList, };
        $.clbCascade(companyNation, companyProvince, companyCity);
    },500);

    function toThousands(num) {
        var num = (num || 0).toString(), result = '';
        while (num.length > 3) {
            result = ',' + num.slice(-3) + result;
            num = num.slice(0, num.length - 3);
        }
        if (num) { result = num + result; }
        return result;
    }

    //保费资金以规定格式呈现
//    $("#income1").bind("blur", function () { $.clbFormatNum('#income1');return false; });
//    $("#amountPerMonth").bind("blur", function () { $.clbFormatNum('#amountPerMonth');return false; });
//    $("#currentAssets").bind("blur", function () { $.clbFormatNum('#currentAssets');return false; });
//    $("#fixedAssets").bind("blur", function () { $.clbFormatNum('#fixedAssets');return false; });
//    $("#liabilities").bind("blur", function () { $.clbFormatNum('#liabilities');return false; });
//    $("#amountPerMonth1").bind("blur", function () { $.clbFormatNum('#amountPerMonth1');return false; });
//    $("#currentAssets1").bind("blur", function () { $.clbFormatNum('#currentAssets1');return false; });
//    $("#fixedAssets1").bind("blur", function () { $.clbFormatNum('#fixedAssets1');return false; });
//    $("#liabilities1").bind("blur", function () { $.clbFormatNum('#liabilities1');return false; });

    function showBad(){
        
        if(insurantVM.model.badFlag == 'Y' ) {
            $("#badInsuranceNameDiv").show();
            $("#badInsuranceTypeDiv").show();
            $("#badEffactiveDateDiv").show();
        } else {
            $("#badInsuranceNameDiv").hide();
            $("#badInsuranceTypeDiv").hide();
            $("#badEffactiveDateDiv").hide();
        }

        if(insurantVM.model.guaranteeInsuranceFlag == 'Y' ) {
            $("#guaranteeInsuranceNameDiv").show();
            $("#guaranteeInsuranceTypeDiv").show();
            $("#guaranteeEffactiveDateDiv").show();
        } else {
            $("#guaranteeInsuranceNameDiv").hide();
            $("#guaranteeInsuranceTypeDiv").hide();
            $("#guaranteeEffactiveDateDiv").hide();
        }

        if(applicantVM.model.badFlag == 'Y' ||  applicantVM.model.compensateFlag == 'Y' ) {
            $("#badInsuranceName1Div").show();
            $("#badInsuranceType1Div").show();
            $("#badEffactiveDate1Div").show();
        } else {
            $("#badInsuranceName1Div").hide();
            $("#badInsuranceType1Div").hide();
            $("#badEffactiveDate1Div").hide();
        }


        $('#badFlag').kendoDropDownList({
            valuePrimitive: true,
            dataTextField: "meaning",
            dataValueField: "value",
            dataSource: yesNoData,
            change:function(e){
                if(insurantVM.model.badFlag == 'Y' ) {
                    $("#badInsuranceNameDiv").show();
                    $("#badInsuranceTypeDiv").show();
                    $("#badEffactiveDateDiv").show();
                }else{
                    $("#badInsuranceNameDiv").hide();
                    $("#badInsuranceTypeDiv").hide();
                    $("#badEffactiveDateDiv").hide();
                    insurantVM.model.set("badInsuranceName",null);
                    insurantVM.model.set("badInsuranceType",null);
                    insurantVM.model.set("badEffactiveDate",null);
                }
            }
        });

       

        $('#guaranteeInsuranceFlag').kendoDropDownList({
            valuePrimitive: true,
            dataTextField: "meaning",
            dataValueField: "value",
            dataSource: yesNoData,
            change:function(e){
                if(insurantVM.model.guaranteeInsuranceFlag == 'Y' ) {
                    $("#guaranteeInsuranceNameDiv").show();
                    $("#guaranteeInsuranceTypeDiv").show();
                    $("#guaranteeEffactiveDateDiv").show();
                }else{
                    $("#guaranteeInsuranceNameDiv").hide();
                    $("#guaranteeInsuranceTypeDiv").hide();
                    $("#guaranteeEffactiveDateDiv").hide();
                    insurantVM.model.set("guaranteeInsuranceName",null);
                    insurantVM.model.set("guaranteeInsuranceType",null);
                    insurantVM.model.set("guaranteeEffactiveDate",null);
                }
            }
        });
        
        $('#compensateFlag').kendoDropDownList({
            valuePrimitive: true,
            dataTextField: "meaning",
            dataValueField: "value",
            dataSource: yesNoData,
        });

        $('#badFlag1').kendoDropDownList({
            valuePrimitive: true,
            dataTextField: "meaning",
            dataValueField: "value",
            dataSource: yesNoData,
            change:function(e){
                if(applicantVM.model.badFlag == 'Y' ||  applicantVM.model.compensateFlag == 'Y' ) {
                    $("#badInsuranceName1Div").show();
                    $("#badInsuranceType1Div").show();
                    $("#badEffactiveDate1Div").show();
                }else{
                    $("#badInsuranceName1Div").hide();
                    $("#badInsuranceType1Div").hide();
                    $("#badEffactiveDate1Div").hide();
                    applicantVM.model.set("badInsuranceName",null);
                    applicantVM.model.set("badInsuranceType",null);
                    applicantVM.model.set("badEffactiveDate",null);
                }
            }
        });

        $('#compensateFlag1').kendoDropDownList({
            valuePrimitive: true,
            dataTextField: "meaning",
            dataValueField: "value",
            dataSource: yesNoData,
            change:function(e){
                if(applicantVM.model.badFlag == 'Y' ||  applicantVM.model.compensateFlag == 'Y' ) {
                    $("#badInsuranceName1Div").show();
                    $("#badInsuranceType1Div").show();
                    $("#badEffactiveDate1Div").show();
                }else{
                    $("#badInsuranceName1Div").hide();
                    $("#badInsuranceType1Div").hide();
                    $("#badEffactiveDate1Div").hide();
                    applicantVM.model.set("badInsuranceName",null);
                    applicantVM.model.set("badInsuranceType",null);
                    applicantVM.model.set("badEffactiveDate",null);
                }
            }
        });
        $('#compensateFlag2').kendoDropDownList({
            valuePrimitive: true,
            dataTextField: "meaning",
            dataValueField: "value",
            dataSource: yesNoData,
            change:function(e){
                if(applicantVM.model.badFlag == 'Y' ||  applicantVM.model.compensateFlag == 'Y' ) {
                    $("#badInsuranceName1Div").show();
                    $("#badInsuranceType1Div").show();
                    $("#badEffactiveDate1Div").show();
                }else{
                    $("#badInsuranceName1Div").hide();
                    $("#badInsuranceType1Div").hide();
                    $("#badEffactiveDate1Div").hide();
                    applicantVM.model.set("badInsuranceName",null);
                    applicantVM.model.set("badInsuranceType",null);
                    applicantVM.model.set("badEffactiveDate",null);
                }
            }
        });
        $('#compensateFlag3').kendoDropDownList({
            valuePrimitive: true,
            dataTextField: "meaning",
            dataValueField: "value",
            dataSource: yesNoData,
            change:function(e){
                if(applicantVM.model.badFlag == 'Y' ||  applicantVM.model.compensateFlag == 'Y' ) {
                    $("#badInsuranceName1Div").show();
                    $("#badInsuranceType1Div").show();
                    $("#badEffactiveDate1Div").show();
                }else{
                    $("#badInsuranceName1Div").hide();
                    $("#badInsuranceType1Div").hide();
                    $("#badEffactiveDate1Div").hide();
                    applicantVM.model.set("badInsuranceName",null);
                    applicantVM.model.set("badInsuranceType",null);
                    applicantVM.model.set("badEffactiveDate",null);
                }
            }
        });
    }

    showBad();
    //健康问题
    $("#smokeFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#smokeDescDiv").show();
            } else {
                $("#smokeDescDiv").hide();
                insurantVM.model.set("smokeDesc",null);
            }
        }
    });

    $("#smokeFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#smokeDesc1Div").show();
            } else {
                $("#smokeDesc1Div").hide();
                applicantVM.model.set("smokeDesc",null);
            }
        }
    });

    $("#drinkFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#drinkDescDiv").show();
            } else {
                $("#drinkDescDiv").hide();
                insurantVM.model.set("drinkDesc",null);
            }
        }
    });

    $("#drinkFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#drinkDesc1Div").show();
            } else {
                $("#drinkDesc1Div").hide();
                applicantVM.model.set("drinkDesc",null);
            }
        }
    });

    $("#drugFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#drugDescDiv").show();
            } else {
                $("#drugDescDiv").hide();
                insurantVM.model.set("drugDesc",null);
            }
        }
    });

    $("#drugFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#drugDesc1Div").show();
            } else {
                $("#drugDesc1Div").hide();
                applicantVM.model.set("drugDesc",null);
            }
        }
    });

    $("#dangerousFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#dangerousDescDiv").show();
            } else {
                $("#dangerousDescDiv").hide();
                insurantVM.model.set("dangerousDesc",null);
            }
        }
    });

    $("#dangerousFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#dangerousDesc1Div").show();
            } else {
                $("#dangerousDesc1Div").hide();
                applicantVM.model.set("dangerousDesc",null);
            }
        }
    });

    $("#abroadFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#abroadDescDiv").show();
            } else {
                $("#abroadDescDiv").hide();
                insurantVM.model.set("abroadDesc",null);
            }
        }
    });

    $("#abroadFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#abroadDesc1Div").show();
            } else {
                $("#abroadDesc1Div").hide();
                applicantVM.model.set("abroadDesc",null);
            }
        }
    });

    $("#disabilityFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#disabilityDescDiv").show();
            } else {
                $("#disabilityDescDiv").hide();
                insurantVM.model.set("disabilityDesc",null);
            }
        }
    });

    $("#disabilityFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#disabilityDesc1Div").show();
            } else {
                $("#disabilityDesc1Div").hide();
                applicantVM.model.set("disabilityDesc",null);
            }
        }
    });

    $("#spiritFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#spiritDescDiv").show();
            } else {
                $("#spiritDescDiv").hide();
                insurantVM.model.set("spiritDesc",null);
            }
        }
    });

    $("#spiritFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#spiritDesc1Div").show();
            } else {
                $("#spiritDesc1Div").hide();
                applicantVM.model.set("spiritDesc",null);
            }
        }
    });


    $("#endocrineFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#endocrineDescDiv").show();
            } else {
                $("#endocrineDescDiv").hide();
                insurantVM.model.set("endocrineDesc",null);
            }
        }
    });

    $("#endocrineFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#endocrineDesc1Div").show();
            } else {
                $("#endocrineDesc1Div").hide();
                applicantVM.model.set("endocrineDesc",null);
            }
        }
    });

    $("#faceFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#faceDescDiv").show();
            } else {
                $("#faceDescDiv").hide();
                insurantVM.model.set("faceDesc",null);
            }
        }
    });

    $("#faceFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#faceDesc1Div").show();
            } else {
                $("#faceDesc1Div").hide();
                applicantVM.model.set("faceDesc",null);
            }
        }
    });

    $("#respirationFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#respirationDescDiv").show();
            } else {
                $("#respirationDescDiv").hide();
                insurantVM.model.set("respirationDesc",null);
            }
        }
    });

    $("#respirationFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#respirationDesc1Div").show();
            } else {
                $("#respirationDesc1Div").hide();
                applicantVM.model.set("respirationDesc",null);
            }
        }
    });

    $("#threeFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#threeDescDiv").show();
            } else {
                $("#threeDescDiv").hide();
                insurantVM.model.set("threeDesc",null);
            }
        }
    });

    $("#threeFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#threeDesc1Div").show();
            } else {
                $("#threeDesc1Div").hide();
                applicantVM.model.set("threeDesc",null);
            }
        }
    });

    $("#cycleFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#cycleDescDiv").show();
            } else {
                $("#cycleDescDiv").hide();
                insurantVM.model.set("cycleDesc",null);
            }
        }
    });

    $("#cycleFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#cycleDesc1Div").show();
            } else {
                $("#cycleDesc1Div").hide();
                applicantVM.model.set("cycleDesc",null);
            }
        }
    });

    $("#digestionFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#digestionDescDiv").show();
            } else {
                $("#digestionDescDiv").hide();
                insurantVM.model.set("digestionDesc",null);
            }
        }
    });

    $("#digestionFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#digestionDesc1Div").show();
            } else {
                $("#digestionDesc1Div").hide();
                applicantVM.model.set("digestionDesc",null);
            }
        }
    });

    $("#liverFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#liverDescDiv").show();
            } else {
                $("#liverDescDiv").hide();
                insurantVM.model.set("liverDesc",null);
            }
        }
    });

    $("#liverFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#liverDesc1Div").show();
            } else {
                $("#liverDesc1Div").hide();
                applicantVM.model.set("liverDesc",null);
            }
        }
    });

    $("#reproductionFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#reproductionDescDiv").show();
            } else {
                $("#reproductionDescDiv").hide();
                insurantVM.model.set("reproductionDesc",null);
            }
        }
    });

    $("#reproductionFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#reproductionDesc1Div").show();
            } else {
                $("#reproductionDesc1Div").hide();
                applicantVM.model.set("reproductionDesc",null);
            }
        }
    });

    $("#jointFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#jointDescDiv").show();
            } else {
                $("#jointDescDiv").hide();
                insurantVM.model.set("jointDesc",null);
            }
        }
    });

    $("#jointFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#jointDesc1Div").show();
            } else {
                $("#jointDesc1Div").hide();
                applicantVM.model.set("jointDesc",null);
            }
        }
    });

    $("#tumorFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#tumorDescDiv").show();
            } else {
                $("#tumorDescDiv").hide();
                insurantVM.model.set("tumorDesc",null);
            }
        }
    });

    $("#tumorFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#tumorDesc1Div").show();
            } else {
                $("#tumorDesc1Div").hide();
                applicantVM.model.set("tumorDesc",null);
            }
        }
    });

    $("#bloodFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#bloodDescDiv").show();
            } else {
                $("#bloodDescDiv").hide();
                insurantVM.model.set("bloodDesc",null);
            }
        }
    });

    $("#bloodFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#bloodDesc1Div").show();
            } else {
                $("#bloodDesc1Div").hide();
                applicantVM.model.set("bloodDesc",null);
            }
        }
    });

    $("#aidsFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#aidsDescDiv").show();
            } else {
                $("#aidsDescDiv").hide();
                insurantVM.model.set("aidsDesc",null);
            }
        }
    });

    $("#aidsFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#aidsDesc1Div").show();
            } else {
                $("#aidsDesc1Div").hide();
                applicantVM.model.set("aidsDesc",null);
            }
        }
    });

    $("#aidsTestFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#aidsTestDescDiv").show();
            } else {
                $("#aidsTestDescDiv").hide();
                insurantVM.model.set("aidsTestDesc",null);
            }
        }
    });

    $("#aidsTestFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#aidsTestDesc1Div").show();
            } else {
                $("#aidsTestDesc1Div").hide();
                applicantVM.model.set("aidsTestDesc",null);
            }
        }
    });

    $("#skinFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#skinDescDiv").show();
            } else {
                $("#skinDescDiv").hide();
                insurantVM.model.set("skinDesc",null);
            }
        }
    });

    $("#skinFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#skinDesc1Div").show();
            } else {
                $("#skinDesc1Div").hide();
                applicantVM.model.set("skinDesc",null);
            }
        }
    });

    $("#otherFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#otherDescDiv").show();
            } else {
                $("#otherDescDiv").hide();
                insurantVM.model.set("otherDesc",null);
            }
        }
    });

    $("#otherFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#otherDesc1Div").show();
            } else {
                $("#otherDesc1Div").hide();
                applicantVM.model.set("otherDesc",null);
            }
        }
    });

    $("#otherTreatFlagOthFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#otherTreatFlagOthDescDiv").show();
            } else {
                $("#otherTreatFlagOthDescDiv").hide();
                insurantVM.model.set("otherTreatFlagOthDesc",null);
            }
        }
    });

    $("#otherTreatFlagOthFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#otherTreatFlagOthDesc1Div").show();
            } else {
                $("#otherTreatFlagOthDesc1Div").hide();
                applicantVM.model.set("otherTreatFlagOthDesc",null);
            }
        }
    });

    $("#examinationFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#examinationDescDiv").show();
            } else {
                $("#examinationDescDiv").hide();
                insurantVM.model.set("examinationDesc",null);
            }
        }
    });

    $("#examinationFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#examinationDesc1Div").show();
            } else {
                $("#examinationDesc1Div").hide();
                applicantVM.model.set("examinationDesc",null);
            }
        }
    });

    $("#hereditaryFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#hereditaryDescDiv").show();
            } else {
                $("#hereditaryDescDiv").hide();
                insurantVM.model.set("hereditaryDesc",null);
            }
        }
    });

    $("#hereditaryFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#hereditaryDesc1Div").show();
            } else {
                $("#hereditaryDesc1Div").hide();
                applicantVM.model.set("hereditaryDesc",null);
            }
        }
    });

    $("#pregnancyFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#pregnancyDescDiv").show();
            } else {
                $("#pregnancyDescDiv").hide();
                insurantVM.model.set("pregnancyDesc",null);
            }
        }
    });

    $("#pregnancyFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#pregnancyDesc1Div").show();
            } else {
                $("#pregnancyDesc1Div").hide();
                applicantVM.model.set("pregnancyDesc",null);
            }
        }
    });

    $("#downTestFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#downTestDescDiv").show();
            } else {
                $("#downTestDescDiv").hide();
                insurantVM.model.set("downTestDesc",null);
            }
        }
    });

    $("#downTestFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#downTestDesc1Div").show();
            } else {
                $("#downTestDesc1Div").hide();
                applicantVM.model.set("downTestDesc",null);
            }
        }
    });

    $("#gynecologyFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#gynecologyDescDiv").show();
            } else {
                $("#gynecologyDescDiv").hide();
                insurantVM.model.set("gynecologyDesc",null);
            }
        }
    });

    $("#gynecologyFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#gynecologyDesc1Div").show();
            } else {
                $("#gynecologyDesc1Div").hide();
                applicantVM.model.set("gynecologyDesc",null);
            }
        }
    });

    $("#complicationFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#complicationDescDiv").show();
            } else {
                $("#complicationDescDiv").hide();
                insurantVM.model.set("complicationDesc",null);
            }
        }
    });

    $("#complicationFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#complicationDesc1Div").show();
            } else {
                $("#complicationDesc1Div").hide();
                applicantVM.model.set("complicationDesc",null);
            }
        }
    });

    $("#gynecologyOthFlag").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#gynecologyOthDescDiv").show();
            } else {
                $("#gynecologyOthDescDiv").hide();
                insurantVM.model.set("gynecologyOthDesc",null);
            }
        }
    });

    $("#gynecologyOthFlag1").kendoRadio({
        readonly: false,
        items: [
            {label: "是", value: "Y"},
            {label: "否", value: "N"}
        ],
        change: function (e) {
            if (e.values == "Y") {
                $("#gynecologyOthDesc1Div").show();
            } else {
                $("#gynecologyOthDesc1Div").hide();
                applicantVM.model.set("gynecologyOthDesc",null);
            }
        }
    });

    //DDA
//    $("#ddaFlag").kendoCheckbox({
//        checkedValue: 'Y',
//        uncheckedValue: 'N'
//    });

    $("#ddaFlag").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: ddaStatusData
    });

    $("#ddaSubmitDate").kendoDatePicker();
    $("#ddaEffectiveDate").kendoDatePicker();

    $("#feedbackBalance").kendoNumericTextBox();
    $("#accountBalance").kendoNumericTextBox();

    $("#balanceCurrency").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: currencyData
    });

    $("#balancePaymentMethod").kendoComboBox({
        valuePrimitive: true,
        dataTextField: "meaning",
        dataValueField: "value",
        dataSource: balancePaymentMethodData
    });


    //健康信息字段初始化
    function healthInit() {
        if (insurantVM.model.smokeFlag == "Y") {
            $("#smokeDescDiv").show();
        } else {
            $("#smokeDescDiv").hide();
            insurantVM.model.set("smokeFlag","N");
        }

        if (insurantVM.model.drinkFlag == "Y") {
            $("#drinkDescDiv").show();
        } else {
            $("#drinkDescDiv").hide();
            insurantVM.model.set("drinkFlag","N");
        }

        if (insurantVM.model.drugFlag == "Y") {
            $("#drugDescDiv").show();
        } else {
            $("#drugDescDiv").hide();
            insurantVM.model.set("drugFlag","N");
        }

        if (insurantVM.model.dangerousFlag == "Y") {
            $("#dangerousDescDiv").show();
        } else {
            $("#dangerousDescDiv").hide();
            insurantVM.model.set("dangerousFlag","N");
        }

        if (insurantVM.model.abroadFlag == "Y") {
            $("#abroadDescDiv").show();
        } else {
            $("#abroadDescDiv").hide();
            insurantVM.model.set("abroadFlag","N");
        }

        if (insurantVM.model.disabilityFlag == "Y") {
            $("#disabilityDescDiv").show();
        } else {
            $("#disabilityDescDiv").hide();
            insurantVM.model.set("disabilityFlag","N");
        }

        if (insurantVM.model.spiritFlag == "Y") {
            $("#spiritDescDiv").show();
        } else {
            $("#spiritDescDiv").hide();
            insurantVM.model.set("spiritFlag","N");
        }

        if (insurantVM.model.endocrineFlag == "Y") {
            $("#endocrineDescDiv").show();
        } else {
            $("#endocrineDescDiv").hide();
            insurantVM.model.set("endocrineFlag","N");
        }

        if (insurantVM.model.faceFlag == "Y") {
            $("#faceDescDiv").show();
        } else {
            $("#faceDescDiv").hide();
            insurantVM.model.set("faceFlag","N");
        }

        if (insurantVM.model.respirationFlag == "Y") {
            $("#respirationDescDiv").show();
        } else {
            $("#respirationDescDiv").hide();
            insurantVM.model.set("respirationFlag","N");
        }

        if (insurantVM.model.threelag == "Y") {
            $("#threeDescDiv").show();
        } else {
            $("#threeDescDiv").hide();
            insurantVM.model.set("threeFlag","N");
        }

        if (insurantVM.model.cycleFlag == "Y") {
            $("#cycleDescDiv").show();
        } else {
            $("#cycleDescDiv").hide();
            insurantVM.model.set("cycleFlag","N");
        }

        if (insurantVM.model.digestionFlag == "Y") {
            $("#digestionDescDiv").show();
        } else {
            $("#digestionDescDiv").hide();
            insurantVM.model.set("digestionFlag","N");
        }

        if (insurantVM.model.liverFlag == "Y") {
            $("#liverDescDiv").show();
        } else {
            $("#liverDescDiv").hide();
            insurantVM.model.set("liverFlag","N");
        }

        if (insurantVM.model.reproductionFlag == "Y") {
            $("#reproductionDescDiv").show();
        } else {
            $("#reproductionDescDiv").hide();
            insurantVM.model.set("reproductionFlag","N");
        }

        if (insurantVM.model.jointFlag == "Y") {
            $("#jointDescDiv").show();
        } else {
            $("#jointDescDiv").hide();
            insurantVM.model.set("jointFlag","N");
        }

        if (insurantVM.model.tumorFlag == "Y") {
            $("#tumorDescDiv").show();
        } else {
            $("#tumorDescDiv").hide();
            insurantVM.model.set("tumorFlag","N");
        }

        if (insurantVM.model.bloodFlag == "Y") {
            $("#bloodDescDiv").show();
        } else {
            $("#bloodDescDiv").hide();
            insurantVM.model.set("bloodFlag","N");
        }

        if (insurantVM.model.aidsFlag == "Y") {
            $("#aidsDescDiv").show();
        } else {
            $("#aidsDescDiv").hide();
            insurantVM.model.set("aidsFlag","N");
        }

        if (insurantVM.model.aidsTestFlag == "Y") {
            $("#aidsTestDescDiv").show();
        } else {
            $("#aidsTestDescDiv").hide();
            insurantVM.model.set("aidsTestFlag","N");
        }

        if (insurantVM.model.skinFlag == "Y") {
            $("#skinDescDiv").show();
        } else {
            $("#skinDescDiv").hide();
            insurantVM.model.set("skinFlag","N");
        }

        if (insurantVM.model.otherFlag == "Y") {
            $("#otherDescDiv").show();
        } else {
            $("#otherDescDiv").hide();
            insurantVM.model.set("otherFlag","N");
        }

        if (insurantVM.model.otherTreatFlag == "Y") {
            $("#otherTreatDescDiv").show();
        } else {
            $("#otherTreatDescDiv").hide();
            insurantVM.model.set("otherTreatFlag","N");
        }

        if (insurantVM.model.examinationFlag == "Y") {
            $("#examinationDescDiv").show();
        } else {
            $("#examinationDescDiv").hide();
            insurantVM.model.set("examinationFlag","N");
        }

        if (insurantVM.model.hereditaryFlag == "Y") {
            $("#hereditaryDescDiv").show();
        } else {
            $("#hereditaryDescDiv").hide();
            insurantVM.model.set("hereditaryFlag","N");
        }

        if (insurantVM.model.pregnancyFlag == "Y") {
            $("#pregnancyDescDiv").show();
        } else {
            $("#pregnancyDescDiv").hide();
            insurantVM.model.set("pregnancyFlag","N");
        }

        if (insurantVM.model.downTestFlag == "Y") {
            $("#downTestDescDiv").show();
        } else {
            $("#downTestDescDiv").hide();
            insurantVM.model.set("downTestFlag","N");
        }

        if (insurantVM.model.gynecologyFlag == "Y") {
            $("#gynecologyDescDiv").show();
        } else {
            $("#gynecologyDescDiv").hide();
            insurantVM.model.set("gynecologyFlag","N");
        }

        if (insurantVM.model.complicationFlag == "Y") {
            $("#complicationDescDiv").show();
        } else {
            $("#complicationDescDiv").hide();
            insurantVM.model.set("complicationFlag","N");
        }

        if (insurantVM.model.gynecologyOthFlag == "Y") {
            $("#gynecologyOthDescDiv").show();
        } else {
            $("#gynecologyOthDescDiv").hide();
            insurantVM.model.set("gynecologyOthFlag","N");
        }


        if (applicantVM.model.smokeFlag == "Y") {
            $("#smokeDesc1Div").show();
        } else {
            $("#smokeDesc1Div").hide();
            applicantVM.model.set("smokeFlag","N");
        }

        if (applicantVM.model.drinkFlag == "Y") {
            $("#drinkDesc1Div").show();
        } else {
            $("#drinkDesc1Div").hide();
            applicantVM.model.set("drinkFlag","N");
        }

        if (applicantVM.model.drugFlag == "Y") {
            $("#drugDesc1Div").show();
        } else {
            $("#drugDesc1Div").hide();
            applicantVM.model.set("drugFlag","N");
        }

        if (applicantVM.model.dangerousFlag == "Y") {
            $("#dangerousDesc1Div").show();
        } else {
            $("#dangerousDesc1Div").hide();
            applicantVM.model.set("dangerousFlag","N");
        }

        if (applicantVM.model.abroadFlag == "Y") {
            $("#abroadDesc1Div").show();
        } else {
            $("#abroadDesc1Div").hide();
            applicantVM.model.set("abroadFlag","N");
        }

        if (applicantVM.model.disabilityFlag == "Y") {
            $("#disabilityDesc1Div").show();
        } else {
            $("#disabilityDesc1Div").hide();
            applicantVM.model.set("disabilityFlag","N");
        }

        if (applicantVM.model.spiritFlag == "Y") {
            $("#spiritDesc1Div").show();
        } else {
            $("#spiritDesc1Div").hide();
            applicantVM.model.set("spiritFlag","N");
        }

        if (applicantVM.model.endocrineFlag == "Y") {
            $("#endocrineDesc1Div").show();
        } else {
            $("#endocrineDesc1Div").hide();
            applicantVM.model.set("endocrineFlag","N");
        }

        if (applicantVM.model.faceFlag == "Y") {
            $("#faceDesc1Div").show();
        } else {
            $("#faceDesc1Div").hide();
            applicantVM.model.set("faceFlag","N");
        }

        if (applicantVM.model.respirationFlag == "Y") {
            $("#respirationDesc1Div").show();
        } else {
            $("#respirationDesc1Div").hide();
            applicantVM.model.set("respirationFlag","N");
        }

        if (applicantVM.model.threelag == "Y") {
            $("#threeDesc1Div").show();
        } else {
            $("#threeDesc1Div").hide();
            applicantVM.model.set("threeFlag","N");
        }

        if (applicantVM.model.cycleFlag == "Y") {
            $("#cycleDesc1Div").show();
        } else {
            $("#cycleDesc1Div").hide();
            applicantVM.model.set("cycleFlag","N");
        }

        if (applicantVM.model.digestionFlag == "Y") {
            $("#digestionDesc1Div").show();
        } else {
            $("#digestionDesc1Div").hide();
            applicantVM.model.set("digestionFlag","N");
        }

        if (applicantVM.model.liverFlag == "Y") {
            $("#liverDesc1Div").show();
        } else {
            $("#liverDesc1Div").hide();
            applicantVM.model.set("liverFlag","N");
        }

        if (applicantVM.model.reproductionFlag == "Y") {
            $("#reproductionDesc1Div").show();
        } else {
            $("#reproductionDesc1Div").hide();
            applicantVM.model.set("reproductionFlag","N");
        }

        if (applicantVM.model.jointFlag == "Y") {
            $("#jointDesc1Div").show();
        } else {
            $("#jointDesc1Div").hide();
            applicantVM.model.set("jointFlag","N");
        }

        if (applicantVM.model.tumorFlag == "Y") {
            $("#tumorDesc1Div").show();
        } else {
            $("#tumorDesc1Div").hide();
            applicantVM.model.set("tumorFlag","N");
        }

        if (applicantVM.model.bloodFlag == "Y") {
            $("#bloodDesc1Div").show();
        } else {
            $("#bloodDesc1Div").hide();
            applicantVM.model.set("bloodFlag","N");
        }

        if (applicantVM.model.aidsFlag == "Y") {
            $("#aidsDesc1Div").show();
        } else {
            $("#aidsDesc1Div").hide();
            applicantVM.model.set("aidsFlag","N");
        }

        if (applicantVM.model.aidsTestFlag == "Y") {
            $("#aidsTestDesc1Div").show();
        } else {
            $("#aidsTestDesc1Div").hide();
            applicantVM.model.set("aidsTestFlag","N");
        }

        if (applicantVM.model.skinFlag == "Y") {
            $("#skinDesc1Div").show();
        } else {
            $("#skinDesc1Div").hide();
            applicantVM.model.set("skinFlag","N");
        }

        if (applicantVM.model.otherFlag == "Y") {
            $("#otherDesc1Div").show();
        } else {
            $("#otherDesc1Div").hide();
            applicantVM.model.set("otherFlag","N");
        }

        if (applicantVM.model.otherTreatFlag == "Y") {
            $("#otherTreatDesc1Div").show();
        } else {
            $("#otherTreatDesc1Div").hide();
            applicantVM.model.set("otherTreatFlag","N");
        }

        if (applicantVM.model.examinationFlag == "Y") {
            $("#examinationDesc1Div").show();
        } else {
            $("#examinationDesc1Div").hide();
            applicantVM.model.set("examinationFlag","N");
        }

        if (applicantVM.model.hereditaryFlag == "Y") {
            $("#hereditaryDesc1Div").show();
        } else {
            $("#hereditaryDesc1Div").hide();
            applicantVM.model.set("hereditaryFlag","N");
        }

        if (applicantVM.model.pregnancyFlag == "Y") {
            $("#pregnancyDesc1Div").show();
        } else {
            $("#pregnancyDesc1Div").hide();
            applicantVM.model.set("pregnancyFlag","N");
        }

        if (applicantVM.model.downTestFlag == "Y") {
            $("#downTestDesc1Div").show();
        } else {
            $("#downTestDesc1Div").hide();
            applicantVM.model.set("downTestFlag","N");
        }

        if (applicantVM.model.gynecologyFlag == "Y") {
            $("#gynecologyDesc1Div").show();
        } else {
            $("#gynecologyDesc1Div").hide();
            applicantVM.model.set("gynecologyFlag","N");
        }

        if (applicantVM.model.complicationFlag == "Y") {
            $("#complicationDesc1Div").show();
        } else {
            $("#complicationDesc1Div").hide();
            applicantVM.model.set("complicationFlag","N");
        }

        if (applicantVM.model.gynecologyOthFlag == "Y") {
            $("#gynecologyOthDesc1Div").show();
        } else {
            $("#gynecologyOthDesc1Div").hide();
            applicantVM.model.set("gynecologyOthFlag","N");
        }
        if (insurantVM.model.sex == "M" && applicantVM.model.sex == "M") {
            $("#pregnancyFlagTr").hide();
            $("#downTestFlagTr").hide();
            $("#gynecologyFlagTr").hide();
            $("#complicationFlagTr").hide();
            $("#gynecologyOthFlagTr").hide();
        } else {
            $("#pregnancyFlagTr").show();
            $("#downTestFlagTr").show();
            $("#gynecologyFlagTr").show();
            $("#complicationFlagTr").show();
            $("#gynecologyOthFlagTr").show();
        }
    }
    healthInit();

    //附件
    function planUpload(){
        if(viewModel.model.planFileId != null && viewModel.model.planFileId != "" && typeof(viewModel.model.planFileId) != "undefined"){
            kendo.ui.showConfirmDialog({
                message: '<@spring.message "fms.overwrite_file"/>'
            }).done(function (e) {
                if (e.button == 'OK') {
                    window.planWin = $("#planWin").kendoWindow({
                        title: '<@spring.message "sysfile.upload"/>',
                        width: 400,
                        height: 250,
                        modal: true
                    }).data("kendoWindow");
                    planWin.center().open();
                }
            });
        }else{
            window.planWin = $("#planWin").kendoWindow({
                title: '<@spring.message "sysfile.upload"/>',
                width: 400,
                height: 250,
                modal: true
            }).data("kendoWindow");
            planWin.center().open();
        }
    }

    $("#planFiles").kendoUpload({
        async        : {
            saveUrl: "${base.contextPath}/commons/attach/upload?${_csrf.parameterName}=${_csrf.token}"
        },
        showFileList : false,
        upload       : onUpload,
        success      : onPlanSuccess
    });

    function onUpload(e){

        e.data = {
            modularName:'ORD',
            allowType:'jpg;png;pdf;doc;xls;xlsx;docx',
            maxSize:20480
        }

    };
    function onPlanSuccess(e){
        if(e.response.success){

            viewModel.model.oldPlanFileId = viewModel.model.planFileId;
            viewModel.model.planFileId = e.response.file.fileId;
            viewModel.model.planToken = e.response.file._token;
            viewModel.model.dirty = true;
            planWin.close();
            kendo.ui.showInfoDialog({
                message  : '<@spring.message "spe.pleasesavedata"/>'
            })
        }else{
            kendo.ui.showErrorDialog({
                message  : e.response.message
            })
        }
    }

    function planDownload()
    {
        $.ajax({
            url : '${base.contextPath}/commons/attach/validateFile',
            type : "POST",
            dataType : "json",
            data : {
                fileId:viewModel.model.planFileId,
                token:viewModel.model.planToken
            },
            success : function(json) {
                if(json.success == true){
                    url='${base.contextPath}/fms/sys/attach/file/detail?fileId='+viewModel.model.planFileId+'&token='+viewModel.model.planToken;
                    var iframe = document.getElementById("ifile");
                    iframe.src=url;
                }else{
                    kendo.ui.showErrorDialog({
                        message  : '<@spring.message "fms.file_not_exists"/>'
                    })
                }
            },
        })

    }

    function reqUpload(){
        if(viewModel.model.reqFileId != null && viewModel.model.reqFileId != "" && typeof(viewModel.model.reqFileId) != "undefined"){
            kendo.ui.showConfirmDialog({
                message: '<@spring.message "fms.overwrite_file"/>'
            }).done(function (e) {
                if (e.button == 'OK') {
                    window.reqWin = $("#reqWin").kendoWindow({
                        title: '<@spring.message "sysfile.upload"/>',
                        width: 400,
                        height: 250,
                        modal: true
                    }).data("kendoWindow");
                    reqWin.center().open();
                }
            });
        }else{
            window.reqWin = $("#reqWin").kendoWindow({
                title: '<@spring.message "sysfile.upload"/>',
                width: 400,
                height: 250,
                modal: true
            }).data("kendoWindow");
            reqWin.center().open();
        }
    }
    $("#reqFiles").kendoUpload({
        async        : {
            saveUrl: "${base.contextPath}/commons/attach/upload?${_csrf.parameterName}=${_csrf.token}"
        },
        showFileList : false,
        upload       : onUpload,
        success      : onReqSuccess
    });

    function onReqSuccess(e){
        if(e.response.success){

            viewModel.model.oldReqFileId = viewModel.model.reqFileId;
            viewModel.model.reqFileId = e.response.file.fileId;
            viewModel.model.reqToken = e.response.file._token;
            viewModel.model.dirty = true;
            reqWin.close();
            kendo.ui.showInfoDialog({
                message  : '<@spring.message "spe.pleasesavedata"/>'
            })
        }else{
            kendo.ui.showErrorDialog({
                message  : e.response.message
            })
        }
    }

    function reqDownload() {
        $.ajax({
            url : '${base.contextPath}/commons/attach/validateFile',
            type : "POST",
            dataType : "json",
            data : {
                fileId:viewModel.model.reqFileId,
                token:viewModel.model.reqToken
            },
            success : function(json) {
                if(json.success == true){
                    url='${base.contextPath}/fms/sys/attach/file/detail?fileId='+viewModel.model.reqFileId+'&token='+viewModel.model.reqToken;
                    var iframe = document.getElementById("ifile");
                    iframe.src=url;
                    console.log(iframe);
                }else{
                    kendo.ui.showErrorDialog({
                        message  : '<@spring.message "fms.file_not_exists"/>'
                    })
                }
            },
        })

    }

    var fileSeq;
    function fileUpload(seq){
        fileSeq = seq;
        if(viewModel.model.fileIds[seq] != 0){
            kendo.ui.showConfirmDialog({
                message: '<@spring.message "fms.overwrite_file"/>'
            }).done(function (e) {
                if (e.button == 'OK') {
                    window.fileWin = $("#fileWin").kendoWindow({
                        title: '<@spring.message "sysfile.upload"/>',
                        width: 400,
                        height: 250,
                        modal: true
                    }).data("kendoWindow");
                    fileWin.center().open();
                }
            });
        }else{
            window.fileWin = $("#fileWin").kendoWindow({
                title: '<@spring.message "sysfile.upload"/>',
                width: 400,
                height: 250,
                modal: true
            }).data("kendoWindow");
            fileWin.center().open();
        }
    }
    $("#files").kendoUpload({
        async        : {
            saveUrl: "${base.contextPath}/commons/attach/upload?${_csrf.parameterName}=${_csrf.token}"
        },
        showFileList : false,
        upload       : onUpload,
        success      : onSuccess
    });

    function onSuccess(e){
        if(e.response.success){
            viewModel.model.oldFileIds[fileSeq] = viewModel.model.fileIds[fileSeq];
            viewModel.model.fileIds[fileSeq] = e.response.file.fileId;
            viewModel.model.fileTokens[fileSeq] = e.response.file._token;
            viewModel.model.fileNames[fileSeq] = e.response.file.fileName;
            viewModel.model.dirty = true;
            fileWin.close();

            $("#fileName" + fileSeq).remove();
            $("#fileDiv" + fileSeq).append(' <label id="fileName'+ fileSeq +'">' + e.response.file.fileName +'</label>');

            kendo.ui.showInfoDialog({
                message  : '<@spring.message "spe.pleasesavedata"/>'
            })
        }else{
            kendo.ui.showErrorDialog({
                message  : e.response.message
            })
        }
    }

    function fileDownload(seq) {
        $.ajax({
            url : '${base.contextPath}/commons/attach/validateFile',
            type : "POST",
            dataType : "json",
            data : {
                fileId:viewModel.model.fileIds[seq],
                token:viewModel.model.fileTokens[seq]
            },
            success : function(json) {
                if(json.success == true){
                    url='${base.contextPath}/fms/sys/attach/file/detail?fileId='+viewModel.model.fileIds[seq]+'&token='+viewModel.model.fileTokens[seq];
                    var iframe = document.getElementById("ifile");
                    iframe.src=url;
                    console.log(iframe);
                }else{
                    kendo.ui.showErrorDialog({
                        message  : '<@spring.message "fms.file_not_exists"/>'
                    })
                }
            },
        })
    }

    var maxSeq = 8;
    function addFile() {
    	maxSeq += 1;
        viewModel.model.fileIds.push(0);
        viewModel.model.fileTokens.push(null);
        viewModel.model.fileNames.push(null);

        var html = '';

        var div = document.createElement('div');
        div.setAttribute("class", "col-xs-12");

        html = '<label class="col-xs-3 control-label"><@spring.message "fms.ordfile.file9"/>：</label>' +
            ' <button type="button" onclick="fileDownload(' +maxSeq+ ')" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>' +
            ' <button type="button" onclick="fileUpload('+maxSeq+ ')" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>' +
            ' <label id="fileName'+ maxSeq +'"><@spring.message "fms.ordfile.nofile"/></label>';

        var formDiv = document.createElement('div');
        formDiv.setAttribute("id","fileDiv"+ maxSeq);
        formDiv.setAttribute("class", "form-group");
        formDiv.innerHTML=html;

        document.getElementById('fileDiv').appendChild(div);
        div.appendChild(formDiv);
    }

    $(document).ready(function() {
        if (viewModel.model.sameFlag == "SELF") {
            $("div[opm='applicant']").hide();
            $("th[opm='applicant']").hide();
            $("td[opm='applicant']").hide();

            $("#chineseName1").removeAttr("required");
            $("#englishName1").removeAttr("pattern");
            $("#phoneCode1").removeAttr("required");
            $("#phone1").removeAttr("required");
            $("#identityNumber1").removeAttr("required");
            //$("#identityNumber1").removeAttr("pattern");

            $("#phoneCode").attr("required", "required");
            $("#phone").attr("required", "required");
        } else {
            $("div[opm='applicant']").show();
            $("th[opm='applicant']").show();
            $("td[opm='applicant']").show();
            healthInit();

            $("#chineseName1").attr("required", "required");
            $("#englishName1").attr("pattern", "^([A-Za-z]+\\s?)*[A-Za-z]$");
            $("#phoneCode1").attr("required", "required");
            $("#phone1").attr("required", "required");
            $("#identityNumber1").attr("required", "required");
            //$("#identityNumber1").attr("pattern", "^[0-9a-zA-Z\\(\\)]+$");

            $("#phoneCode").removeAttr("required");
            $("#phone").removeAttr("required");
        }

        if (viewModel.model.hkContactPhoneCode == null || viewModel.model.hkContactPhoneCode == "") {
            $("#hkContactPhone").removeAttr("pattern");
        } else if (viewModel.model.hkContactPhoneCode == "86") {
            $("#hkContactPhone").attr("pattern","^\\d{11}$");
        } else if (viewModel.model.hkContactPhoneCode == "00886") {
            $("#hkContactPhone").attr("pattern","^\\d{9}$");
        } else {
            $("#hkContactPhone").attr("pattern","^\\d{8}$");
        }

        if (applicantVM.model.phoneCode == null || applicantVM.model.phoneCode == "" || applicantVM.model.sameFlag == "SELF") {
            $("#phone1").removeAttr("pattern");
        } else if (applicantVM.model.phoneCode == "86") {
            $("#phone1").attr("pattern","^\\d{11}$");
        } else if (applicantVM.model.phoneCode == "00886") {
            $("#phone1").attr("pattern","^\\d{9}$");
        } else {
            $("#phone1").attr("pattern","^\\d{8}$");
        }

        if (insurantVM.model.phoneCode == null || insurantVM.model.phoneCode == "") {
            $("#phone").removeAttr("pattern");
        } else if (insurantVM.model.phoneCode == "86") {
            $("#phone").attr("pattern","^\\d{11}$");
        } else if (insurantVM.model.phoneCode == "00886") {
            $("#phone").attr("pattern","^\\d{9}$");
        } else {
            $("#phone").attr("pattern","^\\d{8}$");
        }

        $("#tabstrip").kendoTabStrip({
            animation:  {
                open: {
                    effects: "fadeIn"
                }
            }
        });

        for (var i=0;i<fileRows.length;i++) {
            if (fileRows[i].fileSeq <= 8) {
                viewModel.model.fileIds[fileRows[i].fileSeq] = fileRows[i].fileId;
                viewModel.model.fileTokens[fileRows[i].fileSeq] = fileRows[i].token;
                viewModel.model.fileNames[fileRows[i].fileSeq] = fileRows[i].fileName;

                $("#fileName" + fileRows[i].fileSeq).remove();

                $("#fileDiv" + fileRows[i].fileSeq).append(' <label id="fileName'+ fileRows[i].fileSeq +'">' + fileRows[i].fileName +'</label>');


            } else {

                maxSeq = fileRows[i].fileSeq;
                viewModel.model.fileIds.push(fileRows[i].fileId);
                viewModel.model.fileTokens.push(fileRows[i].token);
                viewModel.model.fileNames.push(fileRows[i].fileName);

                var html = '';

                var div = document.createElement('div');
                div.setAttribute("class", "col-xs-12");

                html = '<label class="col-xs-3 control-label"><@spring.message "fms.ordfile.file9"/>：</label>' +
                    ' <button type="button" onclick="fileDownload(' +fileRows[i].fileSeq+ ')" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "hap.download"/>"><span class="fa fa-download"></span></button>' +
                    ' <button type="button" onclick="fileUpload('+fileRows[i].fileSeq+ ')" class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="top" title="<@spring.message "sysfile.upload"/>"><span class="fa fa-upload"></span></button>' +
                    ' <label id="fileName'+ fileRows[i].fileSeq +'">' + fileRows[i].fileName +'</label>';

                var formDiv = document.createElement('div');
                formDiv.setAttribute("id","fileDiv"+ fileRows[i].fileSeq);
                formDiv.setAttribute("class", "form-group");
                formDiv.innerHTML=html;

                document.getElementById('fileDiv').appendChild(div);
                div.appendChild(formDiv);
            }
        }
    });

    var BaseUrl = _basePath;

    //附加险Grid
    addDataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: BaseUrl + "/fms/ord/addition/query",
                type: "POST",
                dataType: "json"
            },
            update: {
                url: BaseUrl + "/fms/ord/addition/submit",
                type: "POST",
                contentType: "application/json"
            },
            destroy: {
                url: BaseUrl + "/fms/ord/addition/remove",
                type: "POST",
                contentType: "application/json"
            },
            create: {
                url: BaseUrl + "/fms/ord/addition/submit",
                type: "POST",
                contentType: "application/json"
            },
            parameterMap: function (options, type) {
                if (type !== "read" && options.models) {
                    var datas = Hap.prepareSubmitParameter(options, type)
                    return kendo.stringify(datas);
                } else if (type === "read") {
                    return Hap.prepareQueryParameter(viewModel.model.toJSON(), options)
                }
            }
        },
        batch: true,
        serverPaging: true,
        pageSize: 10,
        schema: {
            data: 'rows',
            total: 'total',
            model: {
                id: "additionId",
                fields: {
                    payMethod : {defaultValue : viewModel.model.payMethod}
                }
            }
        }
    });

    var thisRowData_g;

    function itemChange() {

        if (viewModel.model.channelId != null && viewModel.model.itemId != null && viewModel.model.sublineItemName != null
            && viewModel.model.currency != null && viewModel.model.payMethod != null && viewModel.model.reserveDate != null
            && thisRowData_g["itemId"] != null && thisRowData_g["sublineItemName"] != null && thisRowData_g["sublineItemName"] != "") {
            var trRows;
            var d = new Date(viewModel.model.reserveDate);
            var curr_date = d.getDate();
            var curr_month = d.getMonth() + 1;
            var curr_year = d.getFullYear();
            String(curr_month).length < 2 ? (curr_month = "0" + curr_month): curr_month;
            String(curr_date).length < 2 ? (curr_date = "0" + curr_date): curr_date;
            var date = curr_year + "-" + curr_month +"-"+ curr_date;

            var addData = addDataSource.data();
            var itemIds = [];
            for (var i = 0; i < addData.length; i++) {
                var item = {itemId:addData[i].itemId,sublineItemName:addData[i].sublineItemName};
                itemIds.push(item);
            }

            var obj = {};
            obj['channelId'] = viewModel.model.channelId;
            obj['itemId'] = viewModel.model.itemId ;
            obj['contributionPeriod'] = viewModel.model.sublineItemName;
            obj['currency'] = viewModel.model.currency ;
            obj['payMethod'] = viewModel.model.payMethod;
            obj['effectiveDate'] = date ;
            obj['dealPath'] = viewModel.model.dealPath;
            obj['additionRiskList'] = itemIds ;

            $.ajax({
                type: "POST",
                async: false,
                contentType: 'application/json',
                url: "${base.contextPath}/fms/ord/order/validateTradeRoute",
                data: JSON.stringify(obj),
                success: function (json) {
                    trRows = json.rows;
                }
            });

            if (trRows.length == 0) {
                thisRowData_g.set("sublineId",null);
                thisRowData_g.set("sublineItemName",null);
                kendo.ui.showInfoDialog({
                    title: $l('hap.tip.info'),
                    message: "您选择的产品无转介费，暂时无法预约，请联系您的上线或供应商！"
                });
            }
        }
    }

    function toThousands(num,cent,isThousand) {
        if (num != null) {

            num = num.toString().replace(/\$|\,/g, '');

            // 检查传入数值为数值类型
            if (isNaN(num))
                num = "0";

            // 获取符号(正/负数)
            sign = (num == (num = Math.abs(num)));

            num = Math.floor(num * Math.pow(10, cent) + 0.50000000001); // 把指定的小数位先转换成整数.多余的小数位四舍五入
            cents = num % Math.pow(10, cent);       // 求出小数位数值
            num = Math.floor(num / Math.pow(10, cent)).toString();  // 求出整数位数值
            cents = cents.toString();        // 把小数位转换成字符串,以便求小数位长度

            // 补足小数位到指定的位数
            while (cents.length < cent)
                cents = "0" + cents;

            if (isThousand) {
                // 对整数部分进行千分位格式化.
                for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)
                    num = num.substring(0, num.length - (4 * i + 3)) + ',' + num.substring(num.length - (4 * i + 3));
            }

            if (cent > 0)
                return (((sign) ? '' : '-') + num + '.' + cents);
            else
                return (((sign) ? '' : '-') + num);
        }
        else {
            return '';
        }
    }

    var addGrid = $("#addGrid").kendoGrid({
        dataSource: addDataSource,
        height: '300px',
        resizable: true,
        scrollable: true,
        navigatable: false,
        selectable: 'multiple, rowbox',
        pageable: {
            pageSizes: [5, 10, 20, 50],
            refresh: true,
            buttonCount: 5
        },
        toolbar: [
            {
                template: '<button type="button"  onclick="newAddData()" class="btn btn-primary" style="float:left;margin-right:5px;">' +
                '<i class="fa fa-plus-square" style="margin-right:3px;"></i><@spring.message "hap.new"/></button>'

            },
            {
                template: '<span onclick="deleteAddData()" class="btn btn-danger" style="float:left;margin-right:5px;">' +
                '<i class="fa fa-trash-o" style="margin-right:3px;"></i><@spring.message "hap.delete"/></span>'
            },
            {
                name: "cancel",
                template: '<span class="btn btn-default k-grid-cancel-changes">' +
                '<i class="fa fa-eraser" style="margin-right:3px;"></i><@spring.message "hap.cancel"/></span>'
            }
        ],
        columns: [
            {
                field: "itemName",
                title: '<@spring.message "fms.OrdAddition.item"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                template: function (dataItem) {
                    return dataItem['itemName'] || ''
                },
                editor:function (container, options) {
                    $('<input name="' + options.field + '" required validationMessage="<@spring.message "hap.error.nullexception"/>">')
                        .appendTo(container)
                        .kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "ORD_ITEM")}, {
                            textField: 'itemName',
                            valueField:'itemId',
                            model    : options.model,
                            select: function(e) {
                                options.model.set('itemName', e.item.itemName);
                                options.model.set('itemId', e.item.itemId);
                                options.model.set('payMethod', viewModel.model.payMethod);
                                options.model.set('minClass', e.item.minClass);
                            },
                            query: function(e) {
                                if(viewModel.model.productSupplierId != null){
                                    e.param['supplierId'] = viewModel.model.productSupplierId;
                                    e.param['additionFlag'] = "Y";
                                }else {
                                    e.param['supplierId'] = -1;
                                    e.param['additionFlag'] = "Y";
                                }

                            },
                            change : function(e){
                                options.model.set('sublineItemName', '');
                                options.model.set('sublineId', '');
                                options.model.set('securityLevel', '');
                                options.model.set('securityRegion', '');
                                options.model.set('selfpay', '');

                                if (e.sender._prev == '' || e.sender._prev == null) {
                                    options.model.set('itemName', '');
                                    options.model.set('itemId', '');
                                    options.model.set('minClass', '');
                                }
                            }
                        }));
                }
            },
            {
                field: "sublineItemName",
                title: '<@spring.message "fms.ordorder.subline"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                template: function (dataItem) {
                    return dataItem['sublineItemName'] || ''
                },
                editor:function (container, options) {
                    //TODO set this row in var
                    thisRowData_g = options.model;
                    $('<input name="' + options.field + '" onblur = "itemChange()" required validationMessage="<@spring.message "hap.error.nullexception"/>">')
                        .appendTo(container)
                        .kendoLov($.extend(${lovProvider.getLov(base.contextPath, base.locale, "ORD_SUBLINE")}, {
                            textField: 'sublineItemName',
                            valueField:'sublineId',
                            model    : options.model,
                            select: function(e) {
                                options.model.set('sublineItemName', e.item.sublineItemName);
                                options.model.set('sublineId', e.item.sublineId);
                            },
                            query: function(e) {
                                if(options.model.itemId != null){
                                    e.param['itemId'] = options.model.itemId;
                                }else {
                                    e.param['itemId'] = -1;
                                }

                            },
                            change : function(e){
                                if (e.sender._prev == '' || e.sender._prev == null) {
                                    options.model.set('sublineItemName', '');
                                    options.model.set('sublineId', '');
                                }
                            }
                        }));
                }
            },
            {
                field: "payMethod",
                title: '<@spring.message "fms.ordorder.paymethod"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                template: function(dataItem){
                    var v = dataItem.payMethod;
                    $.each(payMethodData,function(i,n){
                        if((n.value||'').toLowerCase() == (v||'').toLowerCase()){
                            v = n.meaning;
                            return v;
                        }
                    })
                    if (typeof(v) == "undefined") {
                        return "";
                    }
                    return v;
                },
                editor: function(container, options){
                    $('<input name="' + options.field + '" disabled required validationMessage="<@spring.message "hap.error.nullexception"/>">')
                        .appendTo(container)
                        .kendoDropDownList({
                            valuePrimitive: true,
                            dataTextField: "meaning",
                            dataValueField: "value",
                            dataSource: payMethodRows
                        });
                },
            },
            {
                field: "yearPayAmount",
                title: '<@spring.message "fms.ordorder.addtionpayamount"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                template: function(dataItem) {
                    var v = dataItem.yearPayAmount;
                    v = toThousands(v,2,1)
                    return v;
                },
                editor: function(container, options){
                $('<input name="' + options.field + '" required validationMessage="<@spring.message "hap.error.nullexception"/>">')
                    .appendTo(container)
                    .kendoNumericTextBox({
                        min:0
                    });
                },

            },
            {
                field: "policyAmount",
                title: '<@spring.message "fms.ordorder.policyamount"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                template: function(dataItem) {
                    var v = dataItem.policyAmount;
                    v = toThousands(v,2,1)
                    return v;
                },
                editor: function(container, options){
                    $('<input name="' + options.field + '" >')
                        .appendTo(container)
                        .kendoNumericTextBox({
                            min:0
                        });
                },
            },
            {
                field: "securityLevel",
                title: '<@spring.message "fms.ordorder.securityLevel"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
//                template: function(dataItem){
//                    var v = dataItem.securityLevel;
//                    if (typeof(v) == "undefined") {
//                        return "";
//                    }
//                    return v;
//                },
                editor: function(container, options) {
                    if (options.model.minClass == "GD") {
                        $('<input name="' + options.field + '" required validationMessage="<@spring.message "hap.error.nullexception"/>">')
                            .appendTo(container)
                            .kendoComboBox({
                                valuePrimitive: true,
                                dataTextField: "securityLevel",
                                dataValueField: "securityLevel",
                                dataSource: {
                                    transport: {
                                        read: {
                                            type: "POST",
                                            dataType: "json",
                                            url: "${base.contextPath}/production/itemDetail/securityLevelQuery",
                                        },
                                        parameterMap: function (data, type) {
                                            if (type === "read") {
                                                var param = {"itemId": options.model.itemId};
                                                return Hap.prepareQueryParameter(param, options)
                                            }
                                        }
                                    },
                                    schema: {
                                        data: 'rows'
                                    }
                                },
                            });
                    } else {
                        $('<span></span>')
                            .appendTo(container)
                    }
                }
            },
            {
                field: "securityRegion",
                title: '<@spring.message "fms.ordorder.securityRegion"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
//                template: function(dataItem){
//                    var v = dataItem.securityRegion;
//                    if (typeof(v) == "undefined") {
//                        return "";
//                    }
//                    return v;
//                },
                editor: function(container, options){
                    if (options.model.minClass == "GD") {
                        $('<input name="' + options.field + '" required validationMessage="<@spring.message "hap.error.nullexception"/>">')
                            .appendTo(container)
                            .kendoComboBox({
                                valuePrimitive: true,
                                dataTextField: "securityRegion",
                                dataValueField: "securityRegion",
                                dataSource : {
                                    transport: {
                                        read: {
                                            type:"POST",
                                            dataType: "json",
                                            url:"${base.contextPath}/production/itemDetail/securityRegionQuery",
                                        },
                                        parameterMap: function (data,type) {
                                            if (type === "read") {
                                                var param = {"itemId":options.model.itemId,"securityLevel":options.model.securityLevel};
                                                return Hap.prepareQueryParameter(param, options)
                                            }
                                        }
                                    },
                                    schema: {
                                        data:'rows'
                                    }
                                },
                            }) ;
                    } else {
                        $('<span></span>')
                            .appendTo(container)
                    }
                },
            },
            {
                field: "selfpay",
                title: '<@spring.message "fms.ordorder.selfpay"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
//                template: function(dataItem){
//                    var v = dataItem.selfpay;
//                    if (typeof(v) == "undefined") {
//                        return "";
//                    }
//                    return v;
//                },
                editor: function(container, options){
                    if (options.model.minClass == "GD") {

                        $('<input name="' + options.field + '" required validationMessage="<@spring.message "hap.error.nullexception"/>">')
                            .appendTo(container)
                            .kendoComboBox({
                                valuePrimitive: true,
                                dataTextField: "selfpay",
                                dataValueField: "selfpay",
                                dataSource : {
                                    transport: {
                                        read: {
                                            type:"POST",
                                            dataType: "json",
                                            url:"${base.contextPath}/production/itemDetail/selfpayQuery",
                                        },
                                        parameterMap: function (data,type) {
                                            if (type === "read") {
                                                var param = {"itemId":options.model.itemId,};
                                                return Hap.prepareQueryParameter(param, options)
                                            }
                                        }
                                    },
                                    schema: {
                                        data:'rows'
                                    }
                                },
                            });
                    } else {
                        $('<span></span>')
                            .appendTo(container)
                    }
                },
            },
            {
                field: "statusDesc",
                title: '<@spring.message "fms.OrdOrder.status"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                editor: function(container, options){
                    if (typeof(options.model.statusDesc) == "undefined" || options.model.statusDesc == null || options.model.statusDesc == "") {
                        $('<span></span>')
                            .appendTo(container)
                    } else {
                        $('<span>'+options.model.statusDesc+'</span>')
                            .appendTo(container)
                    }

                },
            },
        ],
        editable: true
    }).data("kendoGrid");

    //状态跟进Grid
    hisDataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: BaseUrl + "/fms/ord/status/his/query",
                type: "POST",
                dataType: "json"
            },
            update: {
                url: BaseUrl + "/fms/ord/status/his/submit",
                type: "POST",
                contentType: "application/json"
            },
            destroy: {
                url: BaseUrl + "/fms/ord/status/his/remove",
                type: "POST",
                contentType: "application/json"
            },
            create: {
                url: BaseUrl + "/fms/ord/status/his/submit",
                type: "POST",
                contentType: "application/json"
            },
            parameterMap: function (options, type) {
                if (type !== "read" && options.models) {
                    var datas = Hap.prepareSubmitParameter(options, type)
                    return kendo.stringify(datas);
                } else if (type === "read") {
                    return Hap.prepareQueryParameter(viewModel.model.toJSON(), options)
                }
            }
        },
        batch: true,
        serverPaging: true,
        pageSize: 200,
        schema: {
            data: 'rows',
            total: 'total',
            model: {
                id: "statusHisId",
                fields: {}
            }
        }
    });

   /* var hisGrid = $("#hisGrid").kendoGrid({
        dataSource: hisDataSource,
        height: '236px',
        resizable: true,
        scrollable: true,
        navigatable: false,
        pageable : false,
        columns: [
            {
                field: "statusDate",
                width: 150,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle; display:none;'
                }
            },
            {
                field: "status",
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;display:none;'
                },
                template: function(dataItem){
                    var v = dataItem.status;
                    $.each(hisStatusData,function(i,n){
                        if((n.value||'').toLowerCase() == (v||'').toLowerCase()){
                            v = n.meaning;
                            return v;
                        }
                    })
                    if (typeof(v) == "undefined") {
                        return "";
                    }
                    return v;
                },
                editor: function(container, options){
                    $('<input name="' + options.field + '">')
                        .appendTo(container)
                        .kendoComboBox({
                            valuePrimitive: true,
                            dataTextField: "meaning",
                            dataValueField: "value",
                            dataSource: hisStatusData
                        });
                },
            },
            {
                field: "operatorUserName",
                width: 80,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle; display:none;'
                }
            },
            {
                field: "description",
                width: 150,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle; display:none;'
                }
            },
        ],
        editable: false
    }).data("kendoGrid");*/

    //佣金Grid
    comDataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: BaseUrl + "/fms/ord/commission/query",
                type: "POST",
                dataType: "json"
            },
            update: {
                url: BaseUrl + "/fms/ord/commission/submit",
                type: "POST",
                contentType: "application/json"
            },
            destroy: {
                url: BaseUrl + "/fms/ord/commission/remove",
                type: "POST",
                contentType: "application/json"
            },
            create: {
                url: BaseUrl + "/fms/ord/commission/submit",
                type: "POST",
                contentType: "application/json"
            },
            parameterMap: function (options, type) {
                if (type !== "read" && options.models) {
                    var datas = Hap.prepareSubmitParameter(options, type)
                    return kendo.stringify(datas);
                } else if (type === "read") {
                    return Hap.prepareQueryParameter(viewModel.model.toJSON(), options)
                }
            }
        },
        batch: true,
        serverPaging: true,
        pageSize: 10,
        schema: {
            data: 'rows',
            total: 'total',
            model: {
                id: "commissionId",
                fields: {}
            }
        }
    });

    var thisRowData_g;

    function commissionChange() {

        //第一年
        if (thisRowData_g["theFirstYear"]=='' || thisRowData_g["yearPayAmount"]==null) {
            thisRowData_g.set("firstYearAmount","");
        }else {
            thisRowData_g.set("firstYearAmount",Math.round(thisRowData_g["theFirstYear"] * thisRowData_g["yearPayAmount"] * 100, 2) / 100);
        }

        //第二年
        if (thisRowData_g["theSecondYear"]=='' || thisRowData_g["yearPayAmount"]==null) {
            thisRowData_g.set("secondYearAmount","");
        }else {
            thisRowData_g.set("secondYearAmount",Math.round(thisRowData_g["theSecondYear"] * thisRowData_g["yearPayAmount"] * 100, 2) / 100);
        }

        //第三年
        if (thisRowData_g["theThirdYear"]=='' || thisRowData_g["yearPayAmount"]==null) {
            thisRowData_g.set("thirdYearAmount","");
        }else {
            thisRowData_g.set("thirdYearAmount",Math.round(thisRowData_g["theThirdYear"] * thisRowData_g["yearPayAmount"] * 100, 2) / 100);
        }

        //第四年
        if (thisRowData_g["theFourthYear"]=='' || thisRowData_g["yearPayAmount"]==null) {
            thisRowData_g.set("fourthYearAmount","");
        }else {
            thisRowData_g.set("fourthYearAmount",Math.round(thisRowData_g["theFourthYear"] * thisRowData_g["yearPayAmount"] * 100, 2) / 100);
        }

        //第五年
        if (thisRowData_g["theFifthYear"]=='' || thisRowData_g["yearPayAmount"]==null) {
            thisRowData_g.set("fifthYearAmount","");
        }else {
            thisRowData_g.set("fifthYearAmount",Math.round(thisRowData_g["theFifthYear"] * thisRowData_g["yearPayAmount"] * 100, 2) / 100);
        }

        //第六年
        if (thisRowData_g["theSixthYear"]=='' || thisRowData_g["yearPayAmount"]==null) {
            thisRowData_g.set("sixthYearAmount","");
        }else {
            thisRowData_g.set("sixthYearAmount",Math.round(thisRowData_g["theSixthYear"] * thisRowData_g["yearPayAmount"] * 100, 2) / 100);
        }

        //第七年
        if (thisRowData_g["theSeventhYear"]=='' || thisRowData_g["yearPayAmount"]==null) {
            thisRowData_g.set("seventhYearAmount","");
        }else {
            thisRowData_g.set("seventhYearAmount",Math.round(thisRowData_g["theSeventhYear"] * thisRowData_g["yearPayAmount"] * 100, 2) / 100);
        }

        //第八年
        if (thisRowData_g["theEightYear"]=='' || thisRowData_g["yearPayAmount"]==null) {
            thisRowData_g.set("eightYearAmount","");
        }else {
            thisRowData_g.set("eightYearAmount",Math.round(thisRowData_g["theEightYear"] * thisRowData_g["yearPayAmount"] * 100, 2) / 100);
        }

        //第九年
        if (thisRowData_g["theNinthYear"]=='' || thisRowData_g["yearPayAmount"]==null) {
            thisRowData_g.set("ninthYearAmount","");
        }else {
            thisRowData_g.set("ninthYearAmount",Math.round(thisRowData_g["theNinthYear"] * thisRowData_g["yearPayAmount"] * 100, 2) / 100);
        }

        //第十年
        if (thisRowData_g["theTenthYear"]=='' || thisRowData_g["yearPayAmount"]==null) {
            thisRowData_g.set("tenthYearAmount","");
        }else {
            thisRowData_g.set("tenthYearAmount",Math.round(thisRowData_g["theTenthYear"] * thisRowData_g["yearPayAmount"] * 100, 2) / 100);
        }

    }

    var comGrid = $("#comGrid").kendoGrid({
        dataSource: comDataSource,
        height: '300px',
        resizable: true,
        scrollable: true,
        navigatable: false,
        pageable: {
            pageSizes: [5, 10, 20, 50],
            refresh: true,
            buttonCount: 5
        },
        columns: [
            {
                field: "itemName",
                title: '<@spring.message "fms.ordorder.item"/>',
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                width: 120,
                editor:function (container, options) {
                    $('<span>'+options.model.itemName+'</span>')
                        .appendTo(container)
                }
            },
            {
                field: "currency",
                title: '<@spring.message "fms.ordorder.currency"/>',
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                width: 120,
                editor:function (container, options) {
                    $('<span>'+options.model.currency+'</span>')
                        .appendTo(container)
                }
            },
            {
                field: "year1",
                title: '<@spring.message "cmnbasic.thefirstyear"/>',
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                width: 120,
                columns : [
                    {
                        field: "theFirstYear",
                        title: '<@spring.message "fms.ordcommission.commission"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        template:function (dataItem) {
                            return Math.round(dataItem.theFirstYear*10000)/100 + "%";
                        },
                        editor: function (container, options) {
                            //TODO set this row in var
                            thisRowData_g = options.model;
                            $('<input onblur="commissionChange()" required data-required-msg="必输" name="' + options.field + '"/>')
                                .appendTo(container)
                                .kendoNumericTextBox({
                                    min: 0,
                                    step: 0.01,
                                    decimals: 4,
                                }).data("kendoNumericTextBox");
                        }
                    },
                    {
                        field: "firstYearAmount",
                        title: '<@spring.message "fms.ordcommission.Amount"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.firstYearAmount+'</span>')
                                .appendTo(container)
                        }
                    },
                    {
                        field: "firstYearActual",
                        title: '<@spring.message "fms.ordcommission.Actual"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.firstYearActual+'</span>')
                                .appendTo(container)
                        }
                    },
                ]

            },

            {
                field: "year2",
                title: '<@spring.message "cmnbasic.theSecondYear"/>',
                headerAttributes: {
                    'class': 'table-header-cell',
                    style: 'text-align: center;vertical-align:middle;'
                },
                width: 120,
                columns : [
                    {
                        field: "theSecondYear",
                        title: '<@spring.message "fms.ordcommission.commission"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        template:function (dataItem) {
                            return Math.round(dataItem.theSecondYear*10000)/100 + "%";
                        },
                        editor: function (container, options) {
                            //TODO set this row in var
                            thisRowData_g = options.model;
                            $('<input onblur="commissionChange()" required data-required-msg="必输" name="' + options.field + '"/>')
                                .appendTo(container)
                                .kendoNumericTextBox({
                                    min: 0,
                                    step: 0.01,
                                    decimals: 4,
                                }).data("kendoNumericTextBox");
                        }
                    },
                    {
                        field: "secondYearAmount",
                        title: '<@spring.message "fms.ordcommission.Amount"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.secondYearAmount+'</span>')
                                .appendTo(container)
                        }
                    },
                    {
                        field: "secondYearActual",
                        title: '<@spring.message "fms.ordcommission.Actual"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.secondYearActual+'</span>')
                                .appendTo(container)
                        }
                    },
                ]
            },

            {
                field: "year3",
                title: '<@spring.message "cmnbasic.theThirdYear"/>',
                headerAttributes: {
                    'class': 'table-header-cell',
                    style: 'text-align: center;vertical-align:middle;'
                },
                width: 120,
                columns : [
                    {
                        field: "theThirdYear",
                        title: '<@spring.message "fms.ordcommission.commission"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        template:function (dataItem) {
                            return Math.round(dataItem.theThirdYear*10000)/100 + "%";
                        },
                        editor: function (container, options) {
                            //TODO set this row in var
                            thisRowData_g = options.model;
                            $('<input onblur="commissionChange()" required data-required-msg="必输" name="' + options.field + '"/>')
                                .appendTo(container)
                                .kendoNumericTextBox({
                                    min: 0,
                                    step: 0.01,
                                    decimals: 4,
                                }).data("kendoNumericTextBox");
                        }
                    },
                    {
                        field: "thirdYearAmount",
                        title: '<@spring.message "fms.ordcommission.Amount"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.thirdYearAmount+'</span>')
                                .appendTo(container)
                        }
                    },
                    {
                        field: "thirdYearActual",
                        title: '<@spring.message "fms.ordcommission.Actual"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.thirdYearActual+'</span>')
                                .appendTo(container)
                        }
                    },
                ]
            },

            {
                field: "year4",
                title: '<@spring.message "cmnbasic.theFourthYear"/>',
                headerAttributes: {
                    'class': 'table-header-cell',
                    style: 'text-align: center;vertical-align:middle;'
                },
                width: 120,
                columns : [
                    {
                        field: "theFourthYear",
                        title: '<@spring.message "fms.ordcommission.commission"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        template:function (dataItem) {
                            return Math.round(dataItem.theFourthYear*10000)/100 + "%";
                        },
                        editor: function (container, options) {
                            //TODO set this row in var
                            thisRowData_g = options.model;
                            $('<input onblur="commissionChange()" required data-required-msg="必输" name="' + options.field + '"/>')
                                .appendTo(container)
                                .kendoNumericTextBox({
                                    min: 0,
                                    step: 0.01,
                                    decimals: 4,
                                }).data("kendoNumericTextBox");
                        }
                    },
                    {
                        field: "fourthYearAmount",
                        title: '<@spring.message "fms.ordcommission.Amount"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.fourthYearAmount+'</span>')
                                .appendTo(container)
                        }
                    },
                    {
                        field: "fourthYearActual",
                        title: '<@spring.message "fms.ordcommission.Actual"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.fourthYearActual+'</span>')
                                .appendTo(container)
                        }
                    },
                ]
            },

            {
                field: "year5",
                title: '<@spring.message "cmnbasic.theFifthYear"/>',
                headerAttributes: {
                    'class': 'table-header-cell',
                    style: 'text-align: center;vertical-align:middle;'
                },
                width: 120,
                columns : [
                    {
                        field: "theFifthYear",
                        title: '<@spring.message "fms.ordcommission.commission"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        template:function (dataItem) {
                            return Math.round(dataItem.theFifthYear*10000)/100 + "%";
                        },
                        editor: function (container, options) {
                            //TODO set this row in var
                            thisRowData_g = options.model;
                            $('<input onblur="commissionChange()" required data-required-msg="必输" name="' + options.field + '"/>')
                                .appendTo(container)
                                .kendoNumericTextBox({
                                    min: 0,
                                    step: 0.01,
                                    decimals: 4,
                                }).data("kendoNumericTextBox");
                        }
                    },
                    {
                        field: "fifthYearAmount",
                        title: '<@spring.message "fms.ordcommission.Amount"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.fifthYearAmount+'</span>')
                                .appendTo(container)
                        }
                    },
                    {
                        field: "fifthYearActual",
                        title: '<@spring.message "fms.ordcommission.Actual"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.fifthYearActual+'</span>')
                                .appendTo(container)
                        }
                    },
                ]
            },

            {
                field: "year6",
                title: '<@spring.message "cmnbasic.theSixthYear"/>',
                headerAttributes: {
                    'class': 'table-header-cell',
                    style: 'text-align: center;vertical-align:middle;'
                },
                width: 120,
                columns : [
                    {
                        field: "theSixthYear",
                        title: '<@spring.message "fms.ordcommission.commission"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        template:function (dataItem) {
                            return Math.round(dataItem.theSixthYear*10000)/100 + "%";
                        },
                        editor: function (container, options) {
                            //TODO set this row in var
                            thisRowData_g = options.model;
                            $('<input onblur="commissionChange()" required data-required-msg="必输" name="' + options.field + '"/>')
                                .appendTo(container)
                                .kendoNumericTextBox({
                                    min: 0,
                                    step: 0.01,
                                    decimals: 4,
                                }).data("kendoNumericTextBox");
                        }
                    },
                    {
                        field: "sixthYearAmount",
                        title: '<@spring.message "fms.ordcommission.Amount"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.sixthYearAmount+'</span>')
                                .appendTo(container)
                        }
                    },
                    {
                        field: "sixthYearActual",
                        title: '<@spring.message "fms.ordcommission.Actual"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.sixthYearActual+'</span>')
                                .appendTo(container)
                        }
                    },
                ]
            },

            {
                field: "year7",
                title: '<@spring.message "cmnbasic.theSeventhYear"/>',
                headerAttributes: {
                    'class': 'table-header-cell',
                    style: 'text-align: center;vertical-align:middle;'
                },
                width: 120,
                columns : [
                    {
                        field: "theSeventhYear",
                        title: '<@spring.message "fms.ordcommission.commission"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        template:function (dataItem) {
                            return Math.round(dataItem.theSeventhYear*10000)/100 + "%";
                        },
                        editor: function (container, options) {
                            //TODO set this row in var
                            thisRowData_g = options.model;
                            $('<input onblur="commissionChange()" required data-required-msg="必输" name="' + options.field + '"/>')
                                .appendTo(container)
                                .kendoNumericTextBox({
                                    min: 0,
                                    step: 0.01,
                                    decimals: 4,
                                }).data("kendoNumericTextBox");
                        }
                    },
                    {
                        field: "seventhYearAmount",
                        title: '<@spring.message "fms.ordcommission.Amount"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.seventhYearAmount+'</span>')
                                .appendTo(container)
                        }
                    },
                    {
                        field: "seventhYearActual",
                        title: '<@spring.message "fms.ordcommission.Actual"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.seventhYearActual+'</span>')
                                .appendTo(container)
                        }
                    },
                ]
            },

            {
                field: "year8",
                title: '<@spring.message "cmnbasic.theEightYear"/>',
                headerAttributes: {
                    'class': 'table-header-cell',
                    style: 'text-align: center;vertical-align:middle;'
                },
                width: 120,
                columns : [
                    {
                        field: "theEightYear",
                        title: '<@spring.message "fms.ordcommission.commission"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        template:function (dataItem) {
                            return Math.round(dataItem.theEightYear*10000)/100 + "%";
                        },
                        editor: function (container, options) {
                            //TODO set this row in var
                            thisRowData_g = options.model;
                            $('<input onblur="commissionChange()" required data-required-msg="必输" name="' + options.field + '"/>')
                                .appendTo(container)
                                .kendoNumericTextBox({
                                    min: 0,
                                    step: 0.01,
                                    decimals: 4,
                                }).data("kendoNumericTextBox");
                        }
                    },
                    {
                        field: "eightYearAmount",
                        title: '<@spring.message "fms.ordcommission.Amount"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.eightYearAmount+'</span>')
                                .appendTo(container)
                        }
                    },
                    {
                        field: "eightYearActual",
                        title: '<@spring.message "fms.ordcommission.Actual"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.eightYearActual+'</span>')
                                .appendTo(container)
                        }
                    },
                ]
            },

            {
                field: "year9",
                title: '<@spring.message "cmnbasic.theNinthYear"/>',
                headerAttributes: {
                    'class': 'table-header-cell',
                    style: 'text-align: center;vertical-align:middle;'
                },
                width: 120,
                columns : [
                    {
                        field: "theNinthYear",
                        title: '<@spring.message "fms.ordcommission.commission"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        template:function (dataItem) {
                            return Math.round(dataItem.theNinthYear*10000)/100 + "%";
                        },
                        editor: function (container, options) {
                            //TODO set this row in var
                            thisRowData_g = options.model;
                            $('<input onblur="commissionChange()" required data-required-msg="必输" name="' + options.field + '"/>')
                                .appendTo(container)
                                .kendoNumericTextBox({
                                    min: 0,
                                    step: 0.01,
                                    decimals: 4,
                                }).data("kendoNumericTextBox");
                        }
                    },
                    {
                        field: "ninthYearAmount",
                        title: '<@spring.message "fms.ordcommission.amount"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.ninthYearAmount+'</span>')
                                .appendTo(container)
                        }
                    },
                    {
                        field: "ninthYearActual",
                        title: '<@spring.message "fms.ordcommission.actual"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.ninthYearActual+'</span>')
                                .appendTo(container)
                        }
                    },
                ]
            },

            {
                field: "year10",
                title: '<@spring.message "cmnbasic.theTenthYear"/>',
                headerAttributes: {
                    'class': 'table-header-cell',
                    style: 'text-align: center;vertical-align:middle;'
                },
                width: 120,
                columns : [
                    {
                        field: "theTenthYear",
                        title: '<@spring.message "fms.ordcommission.commission"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        template:function (dataItem) {
                            return Math.round(dataItem.theTenthYear*10000)/100 + "%";
                        },
                        editor: function (container, options) {
                            //TODO set this row in var
                            thisRowData_g = options.model;
                            $('<input onblur="commissionChange()" required data-required-msg="必输" name="' + options.field + '"/>')
                                .appendTo(container)
                                .kendoNumericTextBox({
                                    min: 0,
                                    step: 0.01,
                                    decimals: 4,
                                }).data("kendoNumericTextBox");
                        }
                    },
                    {
                        field: "tenthYearAmount",
                        title: '<@spring.message "fms.ordcommission.amount"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.tenthYearAmount+'</span>')
                                .appendTo(container)
                        }
                    },
                    {
                        field: "tenthYearActual",
                        title: '<@spring.message "fms.ordcommission.actual"/>',
                        headerAttributes: {
                            'class':'table-header-cell',
                            style:'text-align: center;vertical-align:middle;'
                        },
                        width: 120,
                        editor:function (container, options) {
                            $('<span>'+options.model.tenthYearActual+'</span>')
                                .appendTo(container)
                        }
                    },
                ]
            },


        ],
        editable: true
    });

    //PendingGrid
    penDataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: BaseUrl + "/fms/ord/pending/query",
                type: "POST",
                dataType: "json"
            },
            update: {
                url: BaseUrl + "/fms/ord/pending/submit",
                type: "POST",
                contentType: "application/json"
            },
            destroy: {
                url: BaseUrl + "/fms/ord/pending/remove",
                type: "POST",
                contentType: "application/json"
            },
            create: {
                url: BaseUrl + "/fms/ord/pending/submit",
                type: "POST",
                contentType: "application/json"
            },
            parameterMap: function (options, type) {
                if (type !== "read" && options.models) {
                    var datas = Hap.prepareSubmitParameter(options, type)
                    return kendo.stringify(datas);
                } else if (type === "read") {
                    var model = viewModel.model.toJSON();
                    var map = {};

                    if(model.orderId){
                        map.orderId = model.orderId;
                    }
                    return map;
                }
            }
        },
        batch: true,
        serverPaging: true,
        pageSize: 10,
        schema: {
            data: 'rows',
            total: 'total',
            model: {
                id: "pendingId",
                fields: {
                    dealEndDate : {type : "date"}
                }
            }
        }
    });

    var penGrid = $("#penGrid").kendoGrid({
        dataSource: penDataSource,
        height: '300px',
        resizable: true,
        scrollable: true,
        navigatable: false,
        pageable: {
            pageSizes: [5, 10, 20, 50],
            refresh: true,
            buttonCount: 5
        },
        columns: [
            {
                field: "pendingNumber",
                title: '<@spring.message "fms.OrdPending.pendingNumber"/>',
                width: 80,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "policyNumber",
                title: '<@spring.message "fms.OrdOrder.policyNumber"/>',
                width: 100,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "orderInfo",
                title: '<@spring.message "fms.OrdPending.orderInfo"/>',
                width: 150,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "channelName",
                title: '<@spring.message "fms.OrdOrder.channelName"/>',
                width: 100,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "template",
                title: '<@spring.message "fms.OrdPending.template"/>',
                width: 200,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                template: function(dataItem){
                    var v = dataItem.applyClassCode;
                    $.each(applyClassData,function(i,n){
                        if((n.value||'').toLowerCase() == (v||'').toLowerCase()){
                            v = n.meaning;
                            return v + "-" + dataItem.applyItem;
                        }
                    })
                    if (typeof(v) == "undefined") {
                        return "";
                    }
                    return v + "-" + dataItem.applyItem;
                },
            },
            {
                field: "lud",
                title: '<@spring.message "fms.OrdPending.lastUpdateDate"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "dealEndDate",
                title: '<@spring.message "fms.OrdPending.dealEndDate"/>',
                width: 80,
                format: "{0: yyyy-MM-dd}",
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "dealPersonName",
                title: '<@spring.message "fms.OrdPending.dealPerson"/>',
                width: 80,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
            },
            {
                field: "status",
                title: '<@spring.message "fms.OrdOrder.status"/>',
                width: 80,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                template: function(dataItem){
                    var v = dataItem.status;
                    $.each(pendingStatusData,function(i,n){
                        if((n.value||'').toLowerCase() == (v||'').toLowerCase()){
                            v = n.meaning;
                            return v;
                        }
                    })
                    if (typeof(v) == "undefined") {
                        return "";
                    }
                    return v;
                },
            },
            {
                title: '<@spring.message "hap.action"/>',
                width: 80,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
                template : function (dataItem) {
                    if (dataItem.pendingId) {
                        return '<a href="#"  onclick="openFollowWin('+dataItem.pendingId+',\''+dataItem.pendingNumber+'\')"><@spring.message "fms.OrdPending.follow"/></a>';
                    } else {
                        return '<a href="#"><@spring.message "fms.OrdPending.follow"/></a>';
                    }
                }
            }
        ],
        editable: false
    }).data("kendoGrid");

    //交易路线Grid
    rouDataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: BaseUrl + "/fms/ord/trade/route/show/query",
                type: "POST",
                dataType: "json"
            },
            parameterMap: function (options, type) {
                if (type !== "read" && options.models) {
                    var datas = Hap.prepareSubmitParameter(options, type)
                    return kendo.stringify(datas);
                } else if (type === "read") {
                    return Hap.prepareQueryParameter(viewModel.model.toJSON(), options)
                }
            }
        },
        batch: true,
        serverPaging: true,
        pageSize: 10,
        schema: {
            data: 'rows',
            total: 'total',
            model: {
                id: "orderId",
                fields: {}
            }
        }
    });

    //动态生成交易路线列
    function rouDynamicColumns(){

        var gridColumns = [];
        var trChannelCount = viewModel.model.trChannelCount;
        var channelLevel = trChannelCount;

        for(var i=1;i<= trChannelCount ;i++){

            var column = {
                field: "channelName"+i,
                title: channelLevel + '<@spring.message "fms.ordrelation.channelx"/>',
                width: 120,
                format: "{0: yyyy-MM-dd}" ,
                attributes: {style: "text-align:center"},
                headerAttributes: {
                    "class": "table-header-cell",
                    style: "text-align: center"
                },
            }
            gridColumns.push(column);
            channelLevel = channelLevel - 1;
        }

        var trSupplierCount = viewModel.model.trSupplierCount;

        column = {
            field: "supplierName1",
            title: '<@spring.message "fms.OrdOrder.ownSupplierName"/>',
            width: 120,
            format: "{0: yyyy-MM-dd}" ,
            attributes: {style: "text-align:center"},
            headerAttributes: {
                "class": "table-header-cell",
                style: "text-align: center"
            },
        }
        gridColumns.push(column);

        if (trSupplierCount > 2) {
            column = {
                field: "supplierName2",
                title: '<@spring.message "fms.OrdOrder.reserveSupplier"/>',
                width: 120,
                format: "{0: yyyy-MM-dd}" ,
                attributes: {style: "text-align:center"},
                headerAttributes: {
                    "class": "table-header-cell",
                    style: "text-align: center"
                },
            }
            gridColumns.push(column);
        } else {
            column = {
                field: "reserveSupplierName",
                title: '<@spring.message "fms.OrdOrder.reserveSupplier"/>',
                width: 120,
                format: "{0: yyyy-MM-dd}" ,
                attributes: {style: "text-align:center"},
                headerAttributes: {
                    "class": "table-header-cell",
                    style: "text-align: center"
                },
                template: function(dataItem){
                    var o = dataItem.supplierName1;
                    return o;
                }
            }
            gridColumns.push(column);
        }

        if (trSupplierCount > 4) {

            for (var j = 3; j <= trSupplierCount - 2; j++) {
                column = {
                    field: "supplierName" + j,
                    title: '<@spring.message "fms.OrdOrder.middleSupplierName"/>',
                    width: 120,
                    format: "{0: yyyy-MM-dd}",
                    attributes: {style: "text-align:center"},
                    headerAttributes: {
                        "class": "table-header-cell",
                        style: "text-align: center"
                    },
                }
                gridColumns.push(column);
            }
        }

        var signSupplierSeq = trSupplierCount - 1;
        column = {
            field: "supplierName" + signSupplierSeq,
            title: '<@spring.message "fms.OrdOrder.signSupplierName"/>',
            width: 120,
            format: "{0: yyyy-MM-dd}",
            attributes: {style: "text-align:center"},
            headerAttributes: {
                "class": "table-header-cell",
                style: "text-align: center"
            },
        }
        gridColumns.push(column);

        column = {
            field: "supplierName" + trSupplierCount,
            title: '<@spring.message "fms.OrdOrder.insuranceSupplierName"/>',
            width: 120,
            format: "{0: yyyy-MM-dd}",
            attributes: {style: "text-align:center"},
            headerAttributes: {
                "class": "table-header-cell",
                style: "text-align: center"
            },
        }
        gridColumns.push(column);
        return gridColumns;
    }
    var rouColumns = rouDynamicColumns();

    var rouGrid = $("#rouGrid").kendoGrid({
        dataSource: rouDataSource,
        resizable: true,
        scrollable: false,
        navigatable: false,
        pageable : false,
        columns: rouColumns,
        editable: false
    }).data("kendoGrid");

    //受益人Grid
    beneDataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: BaseUrl + "/fms/ord/beneficiary/query",
                type: "POST",
                dataType: "json"
            },
            update: {
                url: BaseUrl + "/fms/ord/beneficiary/submit",
                type: "POST",
                contentType: "application/json"
            },
            destroy: {
                url: BaseUrl + "/fms/ord/beneficiary/remove",
                type: "POST",
                contentType: "application/json"
            },
            create: {
                url: BaseUrl + "/fms/ord/beneficiary/submit",
                type: "POST",
                contentType: "application/json"
            },
            parameterMap: function (options, type) {
                if (type !== "read" && options.models) {
                    var datas = Hap.prepareSubmitParameter(options, type)
                    return kendo.stringify(datas);
                } else if (type === "read") {
                    return Hap.prepareQueryParameter(viewModel.model.toJSON(), options)
                }
            }
        },
        batch: true,
        serverPaging: true,
        pageSize: 10,
        schema: {
            data: 'rows',
            total: 'total',
            model: {
                id: "ordBeneficiaryId",
                fields: {
                    chineseName: {  validation: { required: true } },
                    englishName: {  validation: { required: true } },
                    relationship: {  validation: { required: true } },
                    age: {validation: {required: true } , defaultValue:0},
                    identityNumber:{validation: true},
                    rate: {validation: {required: true}, type: "number", defaultValue: 0}
                }
            }
        }
    });

    var beneGrid = $("#beneGrid").kendoGrid({
        dataSource: beneDataSource,
        height: '300px',
        resizable: true,
        scrollable: true,
        navigatable: false,
        selectable: 'multiple, rowbox',
        pageable: {
            pageSizes: [5, 10, 20, 50],
            refresh: true,
            buttonCount: 5
        },
        toolbar: [
            {
                template: '<button type="button"  onclick="newBeneData()" class="btn btn-primary" style="float:left;margin-right:5px;">' +
                '<i class="fa fa-plus-square" style="margin-right:3px;"></i><@spring.message "hap.new"/></button>'

            },
            {
                template: '<span onclick="deleteBeneData()" class="btn btn-danger" style="float:left;margin-right:5px;">' +
                '<i class="fa fa-trash-o" style="margin-right:3px;"></i><@spring.message "hap.delete"/></span>'
            },
            {
                name: "cancel",
                template: '<span class="btn btn-default k-grid-cancel-changes">' +
                '<i class="fa fa-eraser" style="margin-right:3px;"></i><@spring.message "hap.cancel"/></span>'
            }
        ],
        columns: [
            {
                field: "chineseName",
                title: '<@spring.message "fms.OrdBeneficiary.chineseName"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "englishName",
                title: '<@spring.message "fms.OrdBeneficiary.englishName"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "age",
                title: '<@spring.message "fms.OrdBeneficiary.age"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                editor: function(container, options){
                    $('<input  name="' + options.field + '"/>')
                        .appendTo(container)
                        .kendoNumericTextBox({
                            step: 1,
                            min:0,
                            max:200
                        });
                }
            },
            {
                field: "identityNumber",
                title: '<@spring.message "fms.OrdBeneficiary.identityNumber"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                editor: function (container, options) {
                    $('<input type="text" class="k-textbox" validationMessage="<@spring.message "fms.validate.identifynumber"/>" name="' + options.field + '"/>').appendTo(container)
                }
            },
            {
                field: "relationship",
                title: '<@spring.message "fms.OrdBeneficiary.relationship"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "rate",
                title: '<@spring.message "fms.OrdBeneficiary.rate"/>',
                width: 120,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                template:function (dataItem) {
                    return Math.round(dataItem.rate*10000)/100 + "%";
                },
                editor: function(container, options){
                    $('<input  name="' + options.field + '"/>')
                        .appendTo(container)
                        .kendoNumericTextBox({
                            format: "p2",
                            decimals: 4,
                            min: 0,
                            step: 0.01
                        });
                }
            },
        ],
        editable: true
    }).data("kendoGrid");

    //续保Grid
    reDataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: BaseUrl + "/fms/ord/OrderRenewal/queryByOrder",
                type: "POST",
                dataType: "json"
            },
            update: {
                url: BaseUrl + "/fms/ord/OrderRenewal/submit",
                type: "POST",
                contentType: "application/json"
            },
            destroy: {
                url: BaseUrl + "/fms/ord/OrderRenewal/remove",
                type: "POST",
                contentType: "application/json"
            },
            create: {
                url: BaseUrl + "/fms/ord/OrderRenewal/submit",
                type: "POST",
                contentType: "application/json"
            },
            parameterMap: function (options, type) {
                if (type !== "read" && options.models) {
                    var datas = Hap.prepareSubmitParameter(options, type)
                    return kendo.stringify(datas);
                } else if (type === "read") {
                    return Hap.prepareQueryParameter(viewModel.model.toJSON(), options)
                }
            }
        },
        batch: true,
        serverPaging: true,
        pageSize: 10,
        schema: {
            data: 'rows',
            total: 'total',
            model: {
                id: "renewalId",
                fields: {
                    renewalDate2 : {type : "date"},
                    renewalDate3 : {type : "date"},
                    renewalDate4 : {type : "date"},
                    renewalDate5 : {type : "date"},
                    renewalDate6 : {type : "date"},
                    renewalDate7 : {type : "date"},
                    renewalDate8 : {type : "date"},
                    renewalDate9 : {type : "date"},
                    renewalDate10 : {type : "date"},
                    renewalDate11 : {type : "date"},
                    renewalDate12 : {type : "date"},
                    renewalDate13 : {type : "date"},
                    renewalDate14 : {type : "date"},
                    renewalDate15 : {type : "date"},
                    renewalDate16 : {type : "date"},
                    renewalDate17 : {type : "date"},
                    renewalDate18 : {type : "date"},
                    renewalDate19 : {type : "date"},
                    renewalDate20 : {type : "date"},
                    renewalDate21 : {type : "date"},
                    renewalDate22 : {type : "date"},
                    renewalDate23 : {type : "date"},
                    renewalDate24 : {type : "date"},
                    renewalDate25 : {type : "date"},
                    renewalDate26 : {type : "date"},
                    renewalDate27 : {type : "date"},
                    renewalDate28 : {type : "date"},
                    renewalDate29 : {type : "date"},
                    renewalDate30 : {type : "date"},
                    renewalDate31 : {type : "date"},
                    renewalDate32 : {type : "date"},
                    renewalDate33 : {type : "date"},
                    renewalDate34 : {type : "date"},
                    renewalDate35 : {type : "date"},
                    renewalDate36 : {type : "date"},
                    renewalDate37 : {type : "date"},
                    renewalDate38 : {type : "date"},
                    renewalDate39 : {type : "date"},
                    renewalDate40 : {type : "date"},
                    renewalDate41 : {type : "date"},
                    renewalDate42 : {type : "date"},
                    renewalDate43 : {type : "date"},
                    renewalDate44 : {type : "date"},
                    renewalDate45 : {type : "date"},
                    renewalDate46 : {type : "date"},
                    renewalDate47 : {type : "date"},
                    renewalDate48 : {type : "date"},
                    renewalDate49 : {type : "date"},
                    renewalDate50 : {type : "date"},
                    renewalDate51 : {type : "date"},
                    renewalDate52 : {type : "date"},
                    renewalDate53 : {type : "date"},
                    renewalDate54 : {type : "date"},
                    renewalDate55 : {type : "date"},
                    renewalDate56 : {type : "date"},
                    renewalDate57 : {type : "date"},
                    renewalDate58 : {type : "date"},
                    renewalDate59 : {type : "date"},
                    renewalDate60 : {type : "date"},
                    renewalDate61 : {type : "date"},
                    renewalDate62 : {type : "date"},
                    renewalDate63 : {type : "date"},
                    renewalDate64 : {type : "date"},
                    renewalDate65 : {type : "date"},
                    renewalDate66 : {type : "date"},
                    renewalDate67 : {type : "date"},
                    renewalDate68 : {type : "date"},
                    renewalDate69 : {type : "date"},
                    renewalDate70 : {type : "date"},
                    renewalDate71 : {type : "date"},
                    renewalDate72 : {type : "date"},
                    renewalDate73 : {type : "date"},
                    renewalDate74 : {type : "date"},
                    renewalDate75 : {type : "date"},
                    renewalDate76 : {type : "date"},
                    renewalDate77 : {type : "date"},
                    renewalDate78 : {type : "date"},
                    renewalDate79 : {type : "date"},
                    renewalDate80 : {type : "date"},
                    renewalDate82 : {type : "date"},
                    renewalDate83 : {type : "date"},
                    renewalDate84 : {type : "date"},
                    renewalDate85 : {type : "date"},
                    renewalDate86 : {type : "date"},
                    renewalDate87 : {type : "date"},
                    renewalDate88 : {type : "date"},
                    renewalDate89 : {type : "date"},
                    renewalDate90 : {type : "date"},
                    renewalDate91 : {type : "date"},
                    renewalDate92 : {type : "date"},
                    renewalDate93 : {type : "date"},
                    renewalDate94 : {type : "date"},
                    renewalDate95 : {type : "date"},
                    renewalDate96 : {type : "date"},
                    renewalDate97 : {type : "date"},
                    renewalDate98 : {type : "date"},
                    renewalDate99 : {type : "date"},
                    renewalDate100 : {type : "date"},

                },
            }
        }
    });

    //获取受保人年龄
    function getAge() {
        var age;
        $.ajax({
            type: "POST",
            async: false,
            url: "${base.contextPath}/fms/ord/order/calculateAge?birthDate=" + insurantVM.model.birthDate + "&type=" + viewModel.model.ageCalculateStandard,
            data: {},
            success: function (json) {
                age = json;
            }
        });
        return age;
    }

    //动态生成续保列
    function dynamicColumns(){

        var gridColumns = [];

        var itemColumn = {
            field: "itemName",
            title: '<@spring.message "fms.ordorder.item"/>',
            attributes: {style: "text-align:center"},
            width: 120,
            headerAttributes: {
                "class": "table-header-cell",
                style: "text-align: center"
            },
            editor:function (container, options) {
                $('<span>'+options.model.itemName+'</span>')
                    .appendTo(container)
            }
        }

        gridColumns.push(itemColumn);

        //构建Column
        //标题为后台返回，字段为field+index
        for(var i=2;i<=viewModel.model.renewalYear;i++){
            var yearColumns = [];
            var j = i;
            var column = {
                field: "renewalDate"+i,
                title: '<@spring.message "fms.OrdOrderRenewal.renewalDate"/>',
                width: 120,
                format: "{0: yyyy-MM-dd}" ,
                attributes: {style: "text-align:center"},
                headerAttributes: {
                    "class": "table-header-cell",
                    style: "text-align: center"
                },
                editor: function(container, options) {
                    if (options.model.itemName != "总计") {
                        $('<input name="' + options.field + '"/>')
                            .appendTo(container)
                            .kendoDatePicker({
                                format: "yyyy-MM-dd"
                            });
                    }
                }
            }
            yearColumns.push(column);

            column = {
                field: "currency"+i,
                title: '<@spring.message "fms.ordorder.currency"/>',
                width: 120,
                attributes: {style: "text-align:center"},
                headerAttributes: {
                    "class": "table-header-cell",
                    style: "text-align: center"
                },
                editor: function(container, options){
                    if (options.model.itemName != "总计") {
                        $('<input name="' + options.field + '" required validationMessage="<@spring.message "hap.error.nullexception"/>">')
                            .appendTo(container)
                            .kendoComboBox({
                                valuePrimitive: true,
                                dataTextField: "meaning",
                                dataValueField: "value",
                                dataSource: currencyData
                            });
                    }
                },
            }
            yearColumns.push(column);

            column = {
                field: "renewalFlag"+i,
                title: '<@spring.message "fms.OrdOrderRenewal.renewalFlag"/>',
                width: 120,
                attributes: {style: "text-align:center"},
                headerAttributes: {
                    "class": "table-header-cell",
                    style: "text-align: center"
                },
                editor: function(container, options){
                    if (options.model.itemName != "总计") {
                        $('<input name="' + options.field + '" required validationMessage="<@spring.message "hap.error.nullexception"/>">')
                            .appendTo(container)
                            .kendoComboBox({
                                valuePrimitive: true,
                                dataTextField: "meaning",
                                dataValueField: "value",
                                dataSource: yesNoData
                            });
                    }
                },
            }
            yearColumns.push(column);

            column = {
                field: "renewalStatus"+i,
                title: '<@spring.message "fms.ordorder.status"/>',
                width: 120,
                attributes: {style: "text-align:center"},
                headerAttributes: {
                    "class": "table-header-cell",
                    style: "text-align: center"
                },
                editor: function(container, options){
                    if (options.model.itemName != "总计") {
                        $('<input name="' + options.field + '" required validationMessage="<@spring.message "hap.error.nullexception"/>">')
                            .appendTo(container)
                            .kendoComboBox({
                                valuePrimitive: true,
                                dataTextField: "meaning",
                                dataValueField: "value",
                                dataSource: renewalStatusData
                            });
                    }
                },
            }
            yearColumns.push(column);

            column = {
                field: "totalAmount"+i,
                title: '<@spring.message "spe.amount"/>',
                width: 120,
                attributes: {style: "text-align:center"},
                headerAttributes: {
                    "class": "table-header-cell",
                    style: "text-align: center"
                },
                editor: function(container, options){
                    if (options.model.itemName == "总计") {
                        $('<input name="' + options.field + '" >')
                            .appendTo(container)
                            .kendoNumericTextBox();
                    }
                },
            }

            yearColumns.push(column);

            var yearColumn = {
                field: "year",
                title: "第" + i + "期",
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                columns: yearColumns
            }

            gridColumns.push(yearColumn);

        }

        return gridColumns;
    }
    var columns = dynamicColumns();

    $.each(columns,function(i,n){
        if (n.field == "year") {
            $.each(n.columns,function(j,m){
                if(m.field.indexOf("currency") >=0) {
                    m.template = function(dataItem) {
                        var v = dataItem[m.field];
                        $.each(currencyData,function(i,n){
                            if((n.value||'').toLowerCase() == (v||'').toLowerCase()){
                                v = n.meaning;
                                return v;
                            }
                        });
                        if (typeof(v) == "undefined" || v == null) {
                            return "";
                        }
                        return v;
                    }
                } else if(m.field.indexOf("renewalFlag") >=0) {
                    m.template = function(dataItem){
                        var v = dataItem[m.field];
                        $.each(yesNoData,function(i,n){
                            if((n.value||'').toLowerCase() == (v||'').toLowerCase()){
                                v = n.meaning;
                                return v;
                            }
                        });
                        if (typeof(v) == "undefined" || v == null) {
                            return "";
                        }
                        return v;
                    }
                } else if(m.field.indexOf("renewalStatus") >=0) {
                    m.template = function(dataItem){
                        var v = dataItem[m.field];
                        $.each(renewalStatusData,function(i,n){
                            if((n.value||'').toLowerCase() == (v||'').toLowerCase()){
                                v = n.meaning;
                                return v;
                            }
                        });
                        if (typeof(v) == "undefined"  || v == null) {
                            return "";
                        }
                        return v;
                    }
                }
            })
        }
    });

    var reGrid = $("#reGrid").kendoGrid({
        dataSource: reDataSource,
        height: '300px',
        resizable: true,
        scrollable: true,
        navigatable: false,
        pageable: {
            pageSizes: [5, 10, 20, 50],
            refresh: true,
            buttonCount: 5
        },
        columns: columns,
        editable: false,
    }).data("kendoGrid");

    //售后Grid
    afDataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: BaseUrl + "/fms/ord/after/query",
                type: "POST",
                dataType: "json"
            },
            update: {
                url: BaseUrl + "/fms/ord/after/submit",
                type: "POST",
                contentType: "application/json"
            },
            destroy: {
                url: BaseUrl + "/fms/ord/after/remove",
                type: "POST",
                contentType: "application/json"
            },
            create: {
                url: BaseUrl + "/fms/ord/after/submit",
                type: "POST",
                contentType: "application/json"
            },
            parameterMap: function (options, type) {
                if (type !== "read" && options.models) {
                    var datas = Hap.prepareSubmitParameter(options, type)
                    return kendo.stringify(datas);
                } else if (type === "read") {
                    return Hap.prepareQueryParameter(viewModel.model.toJSON(), options)
                }
            }
        },
        batch: true,
        serverPaging: true,
        pageSize: 10,
        schema: {
            data: 'rows',
            total: 'total',
            model: {
                id: "orderId",
                fields: {}
            }
        }
    });

    var afGrid = $("#afGrid").kendoGrid({
        dataSource: afDataSource,
        height: '300px',
        resizable: true,
        scrollable: true,
        navigatable: false,
        pageable: {
            pageSizes: [5, 10, 20, 50],
            refresh: true,
            buttonCount: 5
        },
        columns: [
            {
                field: "afterNum",
                title: '售后编号',
                width: 100,
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },

            {
                field: "afterProject",
                title: '售后项目',
                width: 120,
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },

            {
                field: "afterType",
                title: '售后类型',
                width: 80,
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "creationDate",
                title: '提交时间',
                width: 120,
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
            },
            {
                field: "afterStatus",
                title: '状态',
                width: 100,
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align:center;vertical-align:middle;'
                },
                template: function(dataItem){
                    var v = dataItem.status;
                    $.each(statusData,function(i,n){
                        if((n.value||'').toLowerCase() == (v||'').toLowerCase()){
                            v = n.meaning;
                            return v;
                        }
                    })
                    if (typeof(v) == "undefined") {
                        return "";
                    }
                    return v;
                },
                editor: function(container, options){
                    $('<input name="' + options.field + '">')
                        .appendTo(container)
                        .kendoComboBox({
                            valuePrimitive: true,
                            dataTextField: "meaning",
                            dataValueField: "value",
                            dataSource: statusData
                        });
                },
            },
            {
                field: "跟进",
                title: '跟进',
                width: 80,
                headerAttributes: {
                    'class':'table-header-cell',
                    style:'text-align: center;vertical-align:middle;'
                },
                attributes: {
                    "class": "table-cell",
                    style: "text-align:center;"
                },
                template : function (dataItem) {
                    if (dataItem.afterId) {
                        return '<a href="#"  onclick="openAfterFollowWin('+dataItem.afterId+',\''+dataItem.orderId+'\',\''+dataItem.afterNum+'\')">跟进</a>';
                    } else {
                        return '<a href="#">跟进</a>';
                    }
                }
            },

        ],
        editable: false
    }).data("kendoGrid");


    function openDetailWin(orderId,orderNumber) {
        if (orderId != null) {
            parent.openTab("order_detail" + orderId,'<@spring.message "fms.ordorder.detail"/>' + " (" + '<@spring.message "fms.ordorder.ordernumber"/>' + ":" + orderNumber + ")","order/order_detail.html?orderId="+orderId)
        }

    }

    //打开Pending跟进页面
    function openFollowWin(pendingId,pendingNumber) {
        if (pendingId != null) {
            parent.openTab("order_pending_create" + pendingId,'<@spring.message "fms.ordpending.pending"/>' + " (" + '<@spring.message "fms.ordpending.pendingnumber"/>' + ":" + pendingNumber + ")","order/order_pending_create.html?pendingId="+pendingId)
        }
    }

    //打开售后跟进页面
    function openAfterFollowWin(afterId,orderId,afterNum) {
        if (afterId != null) {
            parent.openTab("order_after" + afterId,"订单: "+afterNum+" 跟进详情","order/after_afterFollow.html?afterId="+afterId+"&orderId="+orderId);
        }

    }

    //新增附加险
    function newAddData() {
        $('#addGrid').data('kendoGrid').addRow();
    }
    //删除附加险
    function deleteAddData() {

        Hap.deleteGridSelection({
            grid: $('#addGrid')
        });

    }
    //新增受益人
    function newBeneData() {
        $('#beneGrid').data('kendoGrid').addRow();
    }
    //删除受益人
    function deleteBeneData() {

        Hap.deleteGridSelection({
            grid: $('#beneGrid')
        });

    }

    function updateStatus() {
        //验证Form页面
        if (viewModel.model.orderId != null && viewModel.model.orderId != -1) {
            var validator = $("#page-content").data("kendoValidator");
            if (!validator.validate()) {
                kendo.ui.showErrorDialog({
                    message  : '<@spring.message "fms.cnlchannel.validate_false"/>'
                })
            }else {
                var url = 'order_status_update.html?functionCode=' + functionCode + '&signSupplierId=' + viewModel.model.signSupplierId + '&ownSupplierId='
                    + viewModel.model.ownSupplierId + '&channelContractId=' + viewModel.model.channelContractId + '&productSupplierId=' + viewModel.model.productSupplierId
                    + '&orderId=' + viewModel.model.orderId + '&type=FORM';
                var updWin =  $("#updWin").kendoWindow({
                    width: 700,
                    height: 500,
                    title: '<@spring.message "fms.ordorder.updatestatus"/>',
                    content: url,
                    iframe:  true,
                    visible: false,
                    modal:true
                }).data("kendoWindow");
                updWin.center().open();
                updWin.setOptions({title : '<@spring.message "fms.ordorder.updatestatus"/>' + " (" + '<@spring.message "fms.ordorder.ordernumber"/>' + ":" + viewModel.model.orderNumber + ")"})
            }
        }
    }

    //页面提交保存
    function saveData () {
        //验证Form页面
        viewModel.model.set("signPerson",$("#signPerson").val());
        var validator = $("#page-content").data("kendoValidator");
        if (!validator.validate()) {
            kendo.ui.showErrorDialog({
                message  : '<@spring.message "fms.cnlchannel.validate_false"/>'
            })
        }else {
            //将页面的付款方式拼接在一起
            var chenked=$("input[opm='first']").val([]);
            var j='';
            $.each(chenked,function(i,n){
                if (chenked[i].value == "Y") {
                    if (j=="") {
                        j+=chenked[i].name;
                    } else {
                        j+="," + chenked[i].name;
                    }
                }
            })

            viewModel.model.set("firstPaymentMethod",j);

            chenked=$("input[opm='renewal']").val([]);
            j='';
            $.each(chenked,function(i,n){
                if (chenked[i].value == "Y") {
                    if (j=="") {
                        j+=chenked[i].name;
                    } else {
                        j+="," + chenked[i].name;
                    }
                }
            })
            viewModel.model.set("renewalPaymentMethod",j);
            insurantVM.model.set("chineseName", viewModel.model.insurant);
            applicantVM.model.set("chineseName", viewModel.model.applicant);

            if(insurantVM.model.premiumRate){
                insurantVM.model.premiumRate = parseFloat(insurantVM.model.premiumRate/100);
            }
            if(applicantVM.model.premiumRate){
                applicantVM.model.premiumRate = parseFloat(applicantVM.model.premiumRate/100);
            }

            //附加险Grid验证
            addGrid._validationEditCell();
            if ((addGrid.editable && addGrid.editable.end() || !addGrid.editable)) {

                if (viewModel.model.orderId == null || viewModel.model.orderId == -1)
                {
                    viewModel.model.__status = 'add';
                } else {
                    viewModel.model.__status = 'update';
                }

                viewModel.model.set("insurantBirthDate",insurantVM.model.birthDate);

                var unique = zeroModal.loading(6);
                /* 当投保人和受保人是一个人时,将关系改为"本人" */
                if (viewModel.model.applicantCustomerId == viewModel.model.insurantCustomerId) {
                    $('#sameFlag').val('SELF');
                    viewModel.model.set('sameFlag', 'SELF');
                    $("div[opm='applicant']").hide();
                    $("th[opm='applicant']").hide();
                    $("td[opm='applicant']").hide();

                    $("#chineseName1").removeAttr("required");
                    $("#englishName1").removeAttr("pattern");
                    $("#phoneCode1").removeAttr("required");
                    $("#phone1").removeAttr("required");
                    $("#identityNumber1").removeAttr("required");
                    //$("#identityNumber1").removeAttr("pattern");

                    $("#phoneCode").attr("required", "required");
                    $("#phone").attr("required", "required");
                }
                /* 当关系是"本人"时,将投保人信息改为和受保人一致 */
                if(viewModel.model.sameFlag == 'SELF') {
                    /* 保单信息投保人 */
                    viewModel.model.set('applicant', viewModel.model.insurant);
                    viewModel.model.set("applicantCustomerId", viewModel.model.insurantCustomerId);

                    /* 投保人预约资料 */
                    applicantVM.model.set("chineseName",insurantVM.model.chineseName);
                    applicantVM.model.set("englishName",insurantVM.model.englishName);
                    applicantVM.model.set("birthDate",insurantVM.model.birthDate);
                    applicantVM.model.set("sex",insurantVM.model.sex);
                    applicantVM.model.set("nationality",insurantVM.model.nationality);
                    applicantVM.model.set("height",insurantVM.model.height);
                    applicantVM.model.set("weight",insurantVM.model.weight);
                    applicantVM.model.set("education",insurantVM.model.education);
                    applicantVM.model.set("marriageStatus",insurantVM.model.marriageStatus);
                    applicantVM.model.set("phoneCode",insurantVM.model.phoneCode);
                    applicantVM.model.set("phone",insurantVM.model.phone);
                    applicantVM.model.set("email",insurantVM.model.email);
                    applicantVM.model.set("americanCitizenFlag",insurantVM.model.americanCitizenFlag);
                    applicantVM.model.set("identityNumber",insurantVM.model.identityNumber);
                    applicantVM.model.set("identityEffectiveDate",insurantVM.model.identityEffectiveDate);
                    applicantVM.model.set("certificateType",insurantVM.model.certificateType);
                    applicantVM.model.set("certificateNumber",insurantVM.model.certificateNumber);
                    applicantVM.model.set("certificateEffectiveDate",insurantVM.model.certificateEffectiveDate);
                    applicantVM.model.set("identityNation",insurantVM.model.identityNation);
                    applicantVM.model.set("identityProvince",insurantVM.model.identityProvince);
                    applicantVM.model.set("identityCity",insurantVM.model.identityCity);
                    applicantVM.model.set("identityAddress",insurantVM.model.identityAddress);
                    applicantVM.model.set("identityFlag",insurantVM.model.identityFlag);
                    applicantVM.model.set("postNation",insurantVM.model.postNation);
                    applicantVM.model.set("postProvince",insurantVM.model.postProvince);
                    applicantVM.model.set("postCity",insurantVM.model.postCity);
                    applicantVM.model.set("postAddress",insurantVM.model.postAddress);
                    applicantVM.model.set("companyName",insurantVM.model.companyName);
                    applicantVM.model.set("industry",insurantVM.model.industry);
                    applicantVM.model.set("companyNation",insurantVM.model.companyNation);
                    applicantVM.model.set("companyProvince",insurantVM.model.companyProvince);
                    applicantVM.model.set("companyCity",insurantVM.model.companyCity);
                    applicantVM.model.set("companyAddress",insurantVM.model.companyAddress);
                    applicantVM.model.set("job",insurantVM.model.job);
                    applicantVM.model.set("position",insurantVM.model.position);
                    applicantVM.model.set("income",insurantVM.model.income);
                    applicantVM.model.set("premiumSource",insurantVM.model.premiumSource);
                    applicantVM.model.set("amountPerMonth",insurantVM.model.amountPerMonth);
                    applicantVM.model.set("currentAssets",insurantVM.model.currentAssets);
                    applicantVM.model.set("fixedAssets",insurantVM.model.fixedAssets);
                    applicantVM.model.set("premiumRate",insurantVM.model.premiumRate);
                    applicantVM.model.set("liabilities",insurantVM.model.liabilities);
                    applicantVM.model.set("badFlag",insurantVM.model.badFlag);
                    applicantVM.model.set("compensateFlag",insurantVM.model.compensateFlag);
                    applicantVM.model.set("badInsuranceName",insurantVM.model.badInsuranceName);
                    applicantVM.model.set("badInsuranceType",insurantVM.model.badInsuranceType);
                    applicantVM.model.set("badEffactiveDate",insurantVM.model.badEffactiveDate);
                    applicantVM.model.set("guaranteeInsuranceFlag",insurantVM.model.badFlag);
                    applicantVM.model.set("guaranteeInsuranceName",insurantVM.model.badInsuranceName);
                    applicantVM.model.set("guaranteeInsuranceType",insurantVM.model.badInsuranceType);
                    applicantVM.model.set("guaranteeInsuranceDate",insurantVM.model.badEffactiveDate);

                    /* 投保人健康问题 */
                    applicantVM.model.set("smokeDesc",insurantVM.model.smokeDesc);
                    applicantVM.model.set("smokeFlag",insurantVM.model.smokeFlag);
                    applicantVM.model.set("drinkDesc",insurantVM.model.drinkDesc);
                    applicantVM.model.set("drinkFlag",insurantVM.model.drinkFlag);
                    applicantVM.model.set("drugDesc",insurantVM.model.drugDesc);
                    applicantVM.model.set("drugFlag",insurantVM.model.drugFlag);
                    applicantVM.model.set("dangerousDesc",insurantVM.model.dangerousDesc);
                    applicantVM.model.set("dangerousFlag",insurantVM.model.dangerousFlag);
                    applicantVM.model.set("abroadDesc",insurantVM.model.abroadDesc);
                    applicantVM.model.set("abroadFlag",insurantVM.model.abroadFlag);
                    applicantVM.model.set("disabilityDesc",insurantVM.model.disabilityDesc);
                    applicantVM.model.set("disabilityFlag",insurantVM.model.disabilityFlag);
                    applicantVM.model.set("spiritDesc",insurantVM.model.spiritDesc);
                    applicantVM.model.set("spiritFlag",insurantVM.model.spiritFlag);
                    applicantVM.model.set("endocrineDesc",insurantVM.model.endocrineDesc);
                    applicantVM.model.set("endocrineFlag",insurantVM.model.endocrineFlag);
                    applicantVM.model.set("faceDesc",insurantVM.model.faceDesc);
                    applicantVM.model.set("faceFlag",insurantVM.model.faceFlag);
                    applicantVM.model.set("respirationDesc",insurantVM.model.respirationDesc);
                    applicantVM.model.set("respirationFlag",insurantVM.model.respirationFlag);
                    applicantVM.model.set("threeDesc",insurantVM.model.threeDesc);
                    applicantVM.model.set("threeFlag",insurantVM.model.threeFlag);
                    applicantVM.model.set("cycleDesc",insurantVM.model.cycleDesc);
                    applicantVM.model.set("cycleFlag",insurantVM.model.cycleFlag);
                    applicantVM.model.set("digestionDesc",insurantVM.model.digestionDesc);
                    applicantVM.model.set("digestionFlag",insurantVM.model.digestionFlag);
                    applicantVM.model.set("liverDesc",insurantVM.model.liverDesc);
                    applicantVM.model.set("liverFlag",insurantVM.model.liverFlag);
                    applicantVM.model.set("reproductionDesc",insurantVM.model.reproductionDesc);
                    applicantVM.model.set("reproductionFlag",insurantVM.model.reproductionFlag);
                    applicantVM.model.set("jointDesc",insurantVM.model.jointDesc);
                    applicantVM.model.set("jointFlag",insurantVM.model.jointFlag);
                    applicantVM.model.set("tumorDesc",insurantVM.model.tumorDesc);
                    applicantVM.model.set("tumorFlag",insurantVM.model.tumorFlag);
                    applicantVM.model.set("bloodDesc",insurantVM.model.bloodDesc);
                    applicantVM.model.set("bloodFlag",insurantVM.model.bloodFlag);
                    applicantVM.model.set("aidsDesc",insurantVM.model.aidsDesc);
                    applicantVM.model.set("aidsFlag",insurantVM.model.aidsFlag);
                    applicantVM.model.set("aidsTestDesc",insurantVM.model.aidsTestDesc);
                    applicantVM.model.set("aidsTestFlag",insurantVM.model.aidsTestFlag);
                    applicantVM.model.set("skinDesc",insurantVM.model.skinDesc);
                    applicantVM.model.set("skinFlag",insurantVM.model.skinFlag);
                    applicantVM.model.set("otherDesc",insurantVM.model.otherDesc);
                    applicantVM.model.set("otherFlag",insurantVM.model.otherFlag);
                    applicantVM.model.set("otherTreatDesc",insurantVM.model.otherTreatDesc);
                    applicantVM.model.set("otherTreatFlag",insurantVM.model.otherTreatFlag);
                    applicantVM.model.set("examinationDesc",insurantVM.model.examinationDesc);
                    applicantVM.model.set("examinationFlag",insurantVM.model.examinationFlag);
                    applicantVM.model.set("hereditaryDesc",insurantVM.model.hereditaryDesc);
                    applicantVM.model.set("hereditaryFlag",insurantVM.model.hereditaryFlag);
                    applicantVM.model.set("pregnancyDesc",insurantVM.model.pregnancyDesc);
                    applicantVM.model.set("pregnancyFlag",insurantVM.model.pregnancyFlag);
                    applicantVM.model.set("downTestDesc",insurantVM.model.downTestDesc);
                    applicantVM.model.set("downTestFlag",insurantVM.model.downTestFlag);
                    applicantVM.model.set("gynecologyDesc",insurantVM.model.gynecologyDesc);
                    applicantVM.model.set("gynecologyFlag",insurantVM.model.gynecologyFlag);
                    applicantVM.model.set("complicationDesc",insurantVM.model.complicationDesc);
                    applicantVM.model.set("complicationFlag",insurantVM.model.complicationFlag);
                    applicantVM.model.set("gynecologyOthDesc",insurantVM.model.gynecologyOthDesc);
                    applicantVM.model.set("gynecologyOthFlag",insurantVM.model.gynecologyOthFlag);
                }
                Hap.submitForm({
                    url: '${base.contextPath}/fms/ord/order/submit',
                    formModel: viewModel.model,
                    grid: {
                        ordAddition: $('#addGrid'),
                        ordBeneficiary: $('#beneGrid'),
                        ordOrderRenewal : $('#reGrid'),
                        ordCommission : $('#comGrid')
                    },
                    success: function (data) {
                    	viewModel.model.set("description",null);
                        insurantVM.model.set("orderId",viewModel.model.orderId);
                        if (insurantVM.model.ordCustomerId == null) {
                            insurantVM.model.__status = 'add';
                        } else {
                            insurantVM.model.__status = 'update';
                        }
                        Hap.submitForm({
                            url: '${base.contextPath}/fms/ord/customer/submit',
                            formModel: insurantVM.model,
                            success: function (data) {
                                insurantVM.model.set("premiumRate",insurantVM.model.premiumRate * 100);
                            }
                        });

                        applicantVM.model.set("orderId",viewModel.model.orderId);
                        if (applicantVM.model.ordCustomerId == null) {
                            applicantVM.model.__status = 'add';
                        } else {
                            applicantVM.model.__status = 'update';

                        }
                        Hap.submitForm({
                            url: '${base.contextPath}/fms/ord/customer/submit',
                            formModel: applicantVM.model,
                            success: function (data) {
                                applicantVM.model.set("premiumRate",applicantVM.model.premiumRate * 100);
                                $('#addGrid').data('kendoGrid').dataSource.page(1);
                                $('#comGrid').data('kendoGrid').dataSource.page(1);
                                zeroModal.close(unique);
                                kendo.ui.showInfoDialog({
                                    title: $l('hap.tip.info'),
                                    message: $l('hap.tip.success')
                                });
                            },
                            failure : function(msg){
                                zeroModal.close(unique);
                                kendo.ui.showErrorDialog({
                                    title:'失败！',
                                    message: msg.message
                                })
                            }
                        });
                    }
                });
            }
        }
    }

    //返回按钮
    function cancelData() {
        parent.closeTab("order_detail"+viewModel.model.orderId);
    }

    function openSW(){
        var orderId= viewModel.model.orderId;
        var orderNumber= viewModel.model.orderNumber;
        var url = 'order_status.html?orderId='+ orderId;
        var statusWin =  $("#statusWin").kendoWindow({
            width: 700,
            height: 500,
            title: '<@spring.message "fms.ordorder.viewstatushis"/>',
            content: url,
            iframe:  true,
            visible: false,
            modal:true
        }).data("kendoWindow");
        statusWin.center().open();
        statusWin.setOptions({title: '<@spring.message "fms.ordorder.viewstatushis"/>' + " (" + '<@spring.message "fms.ordorder.ordernumber"/>' + ":" + orderNumber + ")"})
    }

</script>
</body>
</html>